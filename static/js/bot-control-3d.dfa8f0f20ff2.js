/*! For license information please see bot-control-3d.dfa8f0f20ff2.js.LICENSE.txt */
(self.webpackChunkbot_control_3d=self.webpackChunkbot_control_3d||[]).push([[505],{2245:(e,t,n)=>{"use strict";var r,i,s=n(2100),o=s.Reader,a=s.Writer,l=s.util,c=s.roots.default||(s.roots.default={});c.AddUserToGroupResponse=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.isPending=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.isPending&&Object.hasOwnProperty.call(e,"isPending")&&t.uint32(8).bool(e.isPending),t},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.AddUserToGroupResponse;e.pos<n;){var i=e.uint32();i>>>3==1?r.isPending=e.bool():e.skipType(7&i)}return r},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/AddUserToGroupResponse"},e}(),c.Decimal=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.lo=l.Long?l.Long.fromBits(0,0,!0):0,e.prototype.hi=0,e.prototype.signScale=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.lo&&Object.hasOwnProperty.call(e,"lo")&&t.uint32(8).uint64(e.lo),null!=e.hi&&Object.hasOwnProperty.call(e,"hi")&&t.uint32(16).uint32(e.hi),null!=e.signScale&&Object.hasOwnProperty.call(e,"signScale")&&t.uint32(24).sint32(e.signScale),t},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.Decimal;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.lo=e.uint64();break;case 2:r.hi=e.uint32();break;case 3:r.signScale=e.sint32();break;default:e.skipType(7&i)}}return r},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/Decimal"},e}(),c.GroupInvitation=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.userGroupId=0,e.prototype.siteId="",e.prototype.personId="",e.prototype.status=0,e.prototype.groupName="",e.prototype.admissionFee=null,e.prototype.subscriptionPrice=null,e.prototype.subscriptionInterval=0,e.prototype.createdBy="",e.prototype.firstname="",e.prototype.lastname="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int32(e.id),null!=e.userGroupId&&Object.hasOwnProperty.call(e,"userGroupId")&&t.uint32(16).int32(e.userGroupId),null!=e.siteId&&Object.hasOwnProperty.call(e,"siteId")&&t.uint32(26).string(e.siteId),null!=e.personId&&Object.hasOwnProperty.call(e,"personId")&&t.uint32(34).string(e.personId),null!=e.status&&Object.hasOwnProperty.call(e,"status")&&t.uint32(40).int32(e.status),null!=e.groupName&&Object.hasOwnProperty.call(e,"groupName")&&t.uint32(50).string(e.groupName),null!=e.admissionFee&&Object.hasOwnProperty.call(e,"admissionFee")&&c.Decimal.encode(e.admissionFee,t.uint32(58).fork()).ldelim(),null!=e.subscriptionPrice&&Object.hasOwnProperty.call(e,"subscriptionPrice")&&c.Decimal.encode(e.subscriptionPrice,t.uint32(66).fork()).ldelim(),null!=e.subscriptionInterval&&Object.hasOwnProperty.call(e,"subscriptionInterval")&&t.uint32(72).int32(e.subscriptionInterval),null!=e.createdBy&&Object.hasOwnProperty.call(e,"createdBy")&&t.uint32(82).string(e.createdBy),null!=e.firstname&&Object.hasOwnProperty.call(e,"firstname")&&t.uint32(90).string(e.firstname),null!=e.lastname&&Object.hasOwnProperty.call(e,"lastname")&&t.uint32(98).string(e.lastname),t},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.GroupInvitation;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.id=e.int32();break;case 2:r.userGroupId=e.int32();break;case 3:r.siteId=e.string();break;case 4:r.personId=e.string();break;case 5:r.status=e.int32();break;case 6:r.groupName=e.string();break;case 7:r.admissionFee=c.Decimal.decode(e,e.uint32());break;case 8:r.subscriptionPrice=c.Decimal.decode(e,e.uint32());break;case 9:r.subscriptionInterval=e.int32();break;case 10:r.createdBy=e.string();break;case 11:r.firstname=e.string();break;case 12:r.lastname=e.string();break;default:e.skipType(7&i)}}return r},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/GroupInvitation"},e}(),c.GroupInvitations=function(){function e(e){if(this.groupInvitations=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.groupInvitations=l.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.groupInvitations&&e.groupInvitations.length)for(var n=0;n<e.groupInvitations.length;++n)c.GroupInvitation.encode(e.groupInvitations[n],t.uint32(10).fork()).ldelim();return t},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.GroupInvitations;e.pos<n;){var i=e.uint32();i>>>3==1?(r.groupInvitations&&r.groupInvitations.length||(r.groupInvitations=[]),r.groupInvitations.push(c.GroupInvitation.decode(e,e.uint32()))):e.skipType(7&i)}return r},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/GroupInvitations"},e}(),c.InvitationStatus=(r={},(i=Object.create(r))[r[0]="Pending"]=0,i[r[1]="Accepted"]=1,i[r[2]="Declined"]=2,i[r[3]="Revoked"]=3,i),c.SubscriptionIntervalType=function(){var e={},t=Object.create(e);return t[e[0]="ZERO"]=0,t[e[1]="Daily"]=1,t[e[7]="Weekly"]=7,t[e[30]="Monthly"]=30,t[e[365]="Yearly"]=365,t}(),c.GroupMember=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.personId="",e.prototype.creationTime=null,e.prototype.expirationTime=null,e.prototype.firstname="",e.prototype.lastname="",e.prototype.userGroupId=0,e.prototype.creationUser=null,e.prototype.siteId="",e.prototype.subscriptionId=l.Long?l.Long.fromBits(0,0,!1):0,e.prototype.membercardUid="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.personId&&Object.hasOwnProperty.call(e,"personId")&&t.uint32(10).string(e.personId),null!=e.creationTime&&Object.hasOwnProperty.call(e,"creationTime")&&c.Timestamp.encode(e.creationTime,t.uint32(18).fork()).ldelim(),null!=e.expirationTime&&Object.hasOwnProperty.call(e,"expirationTime")&&c.Timestamp.encode(e.expirationTime,t.uint32(26).fork()).ldelim(),null!=e.firstname&&Object.hasOwnProperty.call(e,"firstname")&&t.uint32(34).string(e.firstname),null!=e.lastname&&Object.hasOwnProperty.call(e,"lastname")&&t.uint32(42).string(e.lastname),null!=e.userGroupId&&Object.hasOwnProperty.call(e,"userGroupId")&&t.uint32(48).int32(e.userGroupId),null!=e.creationUser&&Object.hasOwnProperty.call(e,"creationUser")&&c.Person.encode(e.creationUser,t.uint32(58).fork()).ldelim(),null!=e.siteId&&Object.hasOwnProperty.call(e,"siteId")&&t.uint32(8002).string(e.siteId),null!=e.subscriptionId&&Object.hasOwnProperty.call(e,"subscriptionId")&&t.uint32(8008).int64(e.subscriptionId),null!=e.membercardUid&&Object.hasOwnProperty.call(e,"membercardUid")&&t.uint32(8018).string(e.membercardUid),t},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.GroupMember;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.personId=e.string();break;case 2:r.creationTime=c.Timestamp.decode(e,e.uint32());break;case 3:r.expirationTime=c.Timestamp.decode(e,e.uint32());break;case 4:r.firstname=e.string();break;case 5:r.lastname=e.string();break;case 6:r.userGroupId=e.int32();break;case 7:r.creationUser=c.Person.decode(e,e.uint32());break;case 1e3:r.siteId=e.string();break;case 1001:r.subscriptionId=e.int64();break;case 1002:r.membercardUid=e.string();break;default:e.skipType(7&i)}}return r},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/GroupMember"},e}(),c.GroupMembers=function(){function e(e){if(this.groupMembers=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.groupMembers=l.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.groupMembers&&e.groupMembers.length)for(var n=0;n<e.groupMembers.length;++n)c.GroupMember.encode(e.groupMembers[n],t.uint32(10).fork()).ldelim();return t},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.GroupMembers;e.pos<n;){var i=e.uint32();i>>>3==1?(r.groupMembers&&r.groupMembers.length||(r.groupMembers=[]),r.groupMembers.push(c.GroupMember.decode(e,e.uint32()))):e.skipType(7&i)}return r},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/GroupMembers"},e}(),c.Timestamp=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.value=l.Long?l.Long.fromBits(0,0,!1):0,e.prototype.scale=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(8).sint64(e.value),null!=e.scale&&Object.hasOwnProperty.call(e,"scale")&&t.uint32(16).uint32(e.scale),t},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.Timestamp;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.value=e.sint64();break;case 2:r.scale=e.uint32();break;default:e.skipType(7&i)}}return r},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/Timestamp"},e}(),c.InGroup=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.inGroup=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.inGroup&&Object.hasOwnProperty.call(e,"inGroup")&&t.uint32(8).bool(e.inGroup),t},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.InGroup;e.pos<n;){var i=e.uint32();i>>>3==1?r.inGroup=e.bool():e.skipType(7&i)}return r},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/InGroup"},e}(),c.Person=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.personId="",e.prototype.firstname="",e.prototype.lastname="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.personId&&Object.hasOwnProperty.call(e,"personId")&&t.uint32(10).string(e.personId),null!=e.firstname&&Object.hasOwnProperty.call(e,"firstname")&&t.uint32(18).string(e.firstname),null!=e.lastname&&Object.hasOwnProperty.call(e,"lastname")&&t.uint32(26).string(e.lastname),t},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.Person;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.personId=e.string();break;case 2:r.firstname=e.string();break;case 3:r.lastname=e.string();break;default:e.skipType(7&i)}}return r},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/Person"},e}(),c.RemoveUserResponse=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.expirationTime=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.expirationTime&&Object.hasOwnProperty.call(e,"expirationTime")&&c.Timestamp.encode(e.expirationTime,t.uint32(10).fork()).ldelim(),t},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.RemoveUserResponse;e.pos<n;){var i=e.uint32();i>>>3==1?r.expirationTime=c.Timestamp.decode(e,e.uint32()):e.skipType(7&i)}return r},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/RemoveUserResponse"},e}(),c.SiteInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.siteId="",e.prototype.locationId=0,e.prototype.siteName="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.siteId&&Object.hasOwnProperty.call(e,"siteId")&&t.uint32(10).string(e.siteId),null!=e.locationId&&Object.hasOwnProperty.call(e,"locationId")&&t.uint32(16).int32(e.locationId),null!=e.siteName&&Object.hasOwnProperty.call(e,"siteName")&&t.uint32(26).string(e.siteName),t},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.SiteInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.siteId=e.string();break;case 2:r.locationId=e.int32();break;case 3:r.siteName=e.string();break;default:e.skipType(7&i)}}return r},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/SiteInfo"},e}(),c.SiteInfos=function(){function e(e){if(this.siteInfos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.siteInfos=l.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.siteInfos&&e.siteInfos.length)for(var n=0;n<e.siteInfos.length;++n)c.SiteInfo.encode(e.siteInfos[n],t.uint32(10).fork()).ldelim();return t},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.SiteInfos;e.pos<n;){var i=e.uint32();i>>>3==1?(r.siteInfos&&r.siteInfos.length||(r.siteInfos=[]),r.siteInfos.push(c.SiteInfo.decode(e,e.uint32()))):e.skipType(7&i)}return r},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/SiteInfos"},e}(),c.UpdateUacMemberRequest=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.expirationTime=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.expirationTime&&Object.hasOwnProperty.call(e,"expirationTime")&&c.Timestamp.encode(e.expirationTime,t.uint32(10).fork()).ldelim(),t},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.UpdateUacMemberRequest;e.pos<n;){var i=e.uint32();i>>>3==1?r.expirationTime=c.Timestamp.decode(e,e.uint32()):e.skipType(7&i)}return r},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/UpdateUacMemberRequest"},e}(),c.CreateUserGroupRequest=function(){function e(e){if(this.users=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.users=l.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.users&&e.users.length)for(var n=0;n<e.users.length;++n)t.uint32(802).string(e.users[n]);return t},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.CreateUserGroupRequest;e.pos<n;){var i=e.uint32();i>>>3==100?(r.users&&r.users.length||(r.users=[]),r.users.push(e.string())):e.skipType(7&i)}return r},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/CreateUserGroupRequest"},e}(),c.UserGroup=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.id=0,e.prototype.showName="",e.prototype.description="",e.prototype.siteId="",e.prototype.pageId=0,e.prototype.parentGroupId=0,e.prototype.userCount=0,e.prototype.invitationCount=0,e.prototype.isSystemGroup=!1,e.prototype.enableMembercard=!1,e.prototype.walletReservationGroupId=0,e.prototype.createUserGroupRequest=null,e.prototype.userGroupMeta=null,Object.defineProperty(e.prototype,"_createUserGroupRequest",{get:l.oneOfGetter(t=["createUserGroupRequest"]),set:l.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_userGroupMeta",{get:l.oneOfGetter(t=["userGroupMeta"]),set:l.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int32(e.id),null!=e.showName&&Object.hasOwnProperty.call(e,"showName")&&t.uint32(18).string(e.showName),null!=e.description&&Object.hasOwnProperty.call(e,"description")&&t.uint32(26).string(e.description),null!=e.siteId&&Object.hasOwnProperty.call(e,"siteId")&&t.uint32(34).string(e.siteId),null!=e.pageId&&Object.hasOwnProperty.call(e,"pageId")&&t.uint32(40).int32(e.pageId),null!=e.parentGroupId&&Object.hasOwnProperty.call(e,"parentGroupId")&&t.uint32(48).int32(e.parentGroupId),null!=e.userCount&&Object.hasOwnProperty.call(e,"userCount")&&t.uint32(56).int32(e.userCount),null!=e.invitationCount&&Object.hasOwnProperty.call(e,"invitationCount")&&t.uint32(64).int32(e.invitationCount),null!=e.isSystemGroup&&Object.hasOwnProperty.call(e,"isSystemGroup")&&t.uint32(72).bool(e.isSystemGroup),null!=e.enableMembercard&&Object.hasOwnProperty.call(e,"enableMembercard")&&t.uint32(80).bool(e.enableMembercard),null!=e.walletReservationGroupId&&Object.hasOwnProperty.call(e,"walletReservationGroupId")&&t.uint32(8008).int32(e.walletReservationGroupId),null!=e.createUserGroupRequest&&Object.hasOwnProperty.call(e,"createUserGroupRequest")&&c.CreateUserGroupRequest.encode(e.createUserGroupRequest,t.uint32(80002).fork()).ldelim(),null!=e.userGroupMeta&&Object.hasOwnProperty.call(e,"userGroupMeta")&&c.UserGroupMeta.encode(e.userGroupMeta,t.uint32(80010).fork()).ldelim(),t},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.UserGroup;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.id=e.int32();break;case 2:r.showName=e.string();break;case 3:r.description=e.string();break;case 4:r.siteId=e.string();break;case 5:r.pageId=e.int32();break;case 6:r.parentGroupId=e.int32();break;case 7:r.userCount=e.int32();break;case 8:r.invitationCount=e.int32();break;case 9:r.isSystemGroup=e.bool();break;case 10:r.enableMembercard=e.bool();break;case 1001:r.walletReservationGroupId=e.int32();break;case 1e4:r.createUserGroupRequest=c.CreateUserGroupRequest.decode(e,e.uint32());break;case 10001:r.userGroupMeta=c.UserGroupMeta.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/UserGroup"},e}(),c.UserGroupMeta=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.admissionFee=null,e.prototype.admissionFeeArticleId=l.Long?l.Long.fromBits(0,0,!1):0,e.prototype.subscriptionPrice=null,e.prototype.subscriptionArticleId=l.Long?l.Long.fromBits(0,0,!1):0,e.prototype.membercardCancellationDescription="",e.prototype.subscriptionInterval=0,e.prototype.walletReservationGroupId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.admissionFee&&Object.hasOwnProperty.call(e,"admissionFee")&&c.Decimal.encode(e.admissionFee,t.uint32(802).fork()).ldelim(),null!=e.admissionFeeArticleId&&Object.hasOwnProperty.call(e,"admissionFeeArticleId")&&t.uint32(808).int64(e.admissionFeeArticleId),null!=e.subscriptionPrice&&Object.hasOwnProperty.call(e,"subscriptionPrice")&&c.Decimal.encode(e.subscriptionPrice,t.uint32(818).fork()).ldelim(),null!=e.subscriptionArticleId&&Object.hasOwnProperty.call(e,"subscriptionArticleId")&&t.uint32(824).int64(e.subscriptionArticleId),null!=e.membercardCancellationDescription&&Object.hasOwnProperty.call(e,"membercardCancellationDescription")&&t.uint32(834).string(e.membercardCancellationDescription),null!=e.subscriptionInterval&&Object.hasOwnProperty.call(e,"subscriptionInterval")&&t.uint32(840).int32(e.subscriptionInterval),null!=e.walletReservationGroupId&&Object.hasOwnProperty.call(e,"walletReservationGroupId")&&t.uint32(8008).int32(e.walletReservationGroupId),t},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.UserGroupMeta;e.pos<n;){var i=e.uint32();switch(i>>>3){case 100:r.admissionFee=c.Decimal.decode(e,e.uint32());break;case 101:r.admissionFeeArticleId=e.int64();break;case 102:r.subscriptionPrice=c.Decimal.decode(e,e.uint32());break;case 103:r.subscriptionArticleId=e.int64();break;case 104:r.membercardCancellationDescription=e.string();break;case 105:r.subscriptionInterval=e.int32();break;case 1001:r.walletReservationGroupId=e.int32();break;default:e.skipType(7&i)}}return r},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/UserGroupMeta"},e}(),c.UserGroups=function(){function e(e){if(this.userGroups=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.userGroups=l.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.userGroups&&e.userGroups.length)for(var n=0;n<e.userGroups.length;++n)c.UserGroup.encode(e.userGroups[n],t.uint32(10).fork()).ldelim();return t},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.UserGroups;e.pos<n;){var i=e.uint32();i>>>3==1?(r.userGroups&&r.userGroups.length||(r.userGroups=[]),r.userGroups.push(c.UserGroup.decode(e,e.uint32()))):e.skipType(7&i)}return r},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/UserGroups"},e}(),c.UserGroupUpdateRequest=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.showName="",e.prototype.description="",e.prototype.pageId=0,e.prototype.parentGroupId=0,e.prototype.enableMembercard=!1,e.prototype.membercardCancellationDescription="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.showName&&Object.hasOwnProperty.call(e,"showName")&&t.uint32(10).string(e.showName),null!=e.description&&Object.hasOwnProperty.call(e,"description")&&t.uint32(18).string(e.description),null!=e.pageId&&Object.hasOwnProperty.call(e,"pageId")&&t.uint32(32).int32(e.pageId),null!=e.parentGroupId&&Object.hasOwnProperty.call(e,"parentGroupId")&&t.uint32(40).int32(e.parentGroupId),null!=e.enableMembercard&&Object.hasOwnProperty.call(e,"enableMembercard")&&t.uint32(48).bool(e.enableMembercard),null!=e.membercardCancellationDescription&&Object.hasOwnProperty.call(e,"membercardCancellationDescription")&&t.uint32(58).string(e.membercardCancellationDescription),t},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.UserGroupUpdateRequest;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.showName=e.string();break;case 2:r.description=e.string();break;case 4:r.pageId=e.int32();break;case 5:r.parentGroupId=e.int32();break;case 6:r.enableMembercard=e.bool();break;case 7:r.membercardCancellationDescription=e.string();break;default:e.skipType(7&i)}}return r},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/UserGroupUpdateRequest"},e}(),e.exports=c},3803:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o,z:()=>s});var r=n(744);let i={};function s(e){i=e}function o(e,t,n,s){r.Z.level>0&&i[e]&&i[e].call(null,t,n,s)}},4088:(e,t,n)=>{"use strict";n.d(t,{Df:()=>i,FP:()=>a,iI:()=>o,zG:()=>s});var r=n(744);const i={DEFAULT:-1,LNGLAT:1,METER_OFFSETS:2,LNGLAT_OFFSETS:3,CARTESIAN:0};Object.defineProperty(i,"IDENTITY",{get:()=>(r.Z.deprecated("COORDINATE_SYSTEM.IDENTITY","COORDINATE_SYSTEM.CARTESIAN")(),0)});const s={WEB_MERCATOR:1,GLOBE:2,WEB_MERCATOR_AUTO_OFFSET:4,IDENTITY:0},o={common:0,meters:1,pixels:2},a={click:{handler:"onClick"},panstart:{handler:"onDragStart"},panmove:{handler:"onDrag"},panend:{handler:"onDragEnd"}}},5522:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Ye});var r=n(4572),i=n(4088),s=n(4211),o=n(6948),a=n(3478);class l{constructor(e,t){(0,r.Z)(this,"opts",void 0),(0,r.Z)(this,"source",void 0),this.opts=t,this.source=e}get value(){return this.source.value}getValue(){const e=this.source.getBuffer(),t=this.getAccessor();if(e)return[e,t];const{value:n}=this.source,{size:r}=t;let i=n;if(n&&n.length!==r){i=new Float32Array(r);const e=t.elementOffset||0;for(let t=0;t<r;++t)i[t]=n[e+t]}return i}getAccessor(){return{...this.source.getAccessor(),...this.opts}}}var c=n(6610),u=n(5126),h=n(744);function d(e){return e.stride||e.size*e.bytesPerElement}function f(e,t){t.offset&&h.Z.removed("shaderAttribute.offset","vertexOffset, elementOffset")();const n=d(e),r=(void 0!==t.vertexOffset?t.vertexOffset:e.vertexOffset||0)*n+(t.elementOffset||0)*e.bytesPerElement+(e.offset||0);return{...t,offset:r,stride:n}}class p{constructor(e,t,n){(0,r.Z)(this,"gl",void 0),(0,r.Z)(this,"id",void 0),(0,r.Z)(this,"size",void 0),(0,r.Z)(this,"settings",void 0),(0,r.Z)(this,"value",void 0),(0,r.Z)(this,"doublePrecision",void 0),(0,r.Z)(this,"_buffer",void 0),(0,r.Z)(this,"state",void 0),this.gl=e,this.id=t.id||"",this.size=t.size||1;const i=t.logicalType||t.type,a=5130===i;let l,{defaultValue:c}=t;c=Number.isFinite(c)?[c]:c||new Array(this.size).fill(0),l=a?5126:!i&&t.isIndexed?e&&(0,s.U6)(e,o.h.ELEMENT_INDEX_UINT32)?5125:5123:i||5126;let u=function(e){switch(e){case 5126:return Float32Array;case 5130:return Float64Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return Uint8ClampedArray;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Unknown GL type")}}(i||l||5126);this.doublePrecision=a,a&&!1===t.fp64&&(u=Float32Array),this.value=null,this.settings={...t,defaultType:u,defaultValue:c,logicalType:i,type:l,size:this.size,bytesPerElement:u.BYTES_PER_ELEMENT},this.state={...n,externalBuffer:null,bufferAccessor:this.settings,allocatedValue:null,numInstances:0,bounds:null,constant:!1},this._buffer=null}get isConstant(){return this.state.constant}get buffer(){if(!this._buffer){const{isIndexed:e,type:t}=this.settings;this._buffer=new a.Z(this.gl,{id:this.id,target:e?34963:34962,accessor:{type:t}})}return this._buffer}get byteOffset(){const e=this.getAccessor();return e.vertexOffset?e.vertexOffset*d(e):0}get numInstances(){return this.state.numInstances}set numInstances(e){this.state.numInstances=e}delete(){this._buffer&&(this._buffer.delete(),this._buffer=null),c.Z.release(this.state.allocatedValue)}getShaderAttributes(e,t){if(this.doublePrecision){const n={},r=this.value instanceof Float64Array,i=function(e,t){const n=f(e,t);return{high:n,low:{...n,offset:n.offset+4*e.size}}}(this.getAccessor(),t||{});return n[e]=new l(this,i.high),n["".concat(e,"64Low")]=r?new l(this,i.low):new Float32Array(this.size),n}if(t){const n=f(this.getAccessor(),t);return{[e]:new l(this,n)}}return{[e]:this}}getBuffer(){return this.state.constant?null:this.state.externalBuffer||this._buffer}getValue(){return this.state.constant?this.value:[this.getBuffer(),this.getAccessor()]}getAccessor(){return this.state.bufferAccessor}getBounds(){if(this.state.bounds)return this.state.bounds;let e=null;if(this.state.constant&&this.value){const t=Array.from(this.value);e=[t,t]}else{const{value:t,numInstances:n,size:r}=this,i=n*r;if(t&&i&&t.length>=i){const n=new Array(r).fill(1/0),s=new Array(r).fill(-1/0);for(let e=0;e<i;)for(let i=0;i<r;i++){const r=t[e++];r<n[i]&&(n[i]=r),r>s[i]&&(s[i]=r)}e=[n,s]}}return this.state.bounds=e,e}setData(e){const{state:t}=this;let n;n=ArrayBuffer.isView(e)?{value:e}:e instanceof a.Z?{buffer:e}:e;const r={...this.settings,...n};if(t.bufferAccessor=r,t.bounds=null,n.constant){let e=n.value;if(e=this._normalizeValue(e,[],0),this.settings.normalized&&(e=this.normalizeConstant(e)),t.constant&&this._areValuesEqual(e,this.value))return!1;t.externalBuffer=null,t.constant=!0,this.value=e}else if(n.buffer){const e=n.buffer;t.externalBuffer=e,t.constant=!1,this.value=n.value||null;const i=n.value instanceof Float64Array;r.type=n.type||e.accessor.type,r.bytesPerElement=e.accessor.BYTES_PER_ELEMENT*(i?2:1),r.stride=d(r)}else if(n.value){this._checkExternalBuffer(n);let e=n.value;t.externalBuffer=null,t.constant=!1,this.value=e,r.bytesPerElement=e.BYTES_PER_ELEMENT,r.stride=d(r);const{buffer:i,byteOffset:s}=this;this.doublePrecision&&e instanceof Float64Array&&(e=(0,u.TK)(e,r));const o=e.byteLength+s+2*r.stride;i.byteLength<o&&i.reallocate(o),i.setAccessor(null),i.subData({data:e,offset:s}),r.type=n.type||i.accessor.type}return!0}updateSubBuffer(e={}){this.state.bounds=null;const t=this.value,{startOffset:n=0,endOffset:r}=e;this.buffer.subData({data:this.doublePrecision&&t instanceof Float64Array?(0,u.TK)(t,{size:this.size,startIndex:n,endIndex:r}):t.subarray(n,r),offset:n*t.BYTES_PER_ELEMENT+this.byteOffset})}allocate(e,t=!1){const{state:n}=this,r=n.allocatedValue,i=c.Z.allocate(r,e+1,{size:this.size,type:this.settings.defaultType,copy:t});this.value=i;const{buffer:s,byteOffset:o}=this;return s.byteLength<i.byteLength+o&&(s.reallocate(i.byteLength+o),t&&r&&s.subData({data:r instanceof Float64Array?(0,u.TK)(r,this):r,offset:o})),n.allocatedValue=i,n.constant=!1,n.externalBuffer=null,n.bufferAccessor=this.settings,!0}_checkExternalBuffer(e){const{value:t}=e;if(!ArrayBuffer.isView(t))throw new Error("Attribute ".concat(this.id," value is not TypedArray"));const n=this.settings.defaultType;let r=!1;if(this.doublePrecision&&(r=t.BYTES_PER_ELEMENT<4),r)throw new Error("Attribute ".concat(this.id," does not support ").concat(t.constructor.name));t instanceof n||!this.settings.normalized||"normalized"in e||h.Z.warn("Attribute ".concat(this.id," is normalized"))()}normalizeConstant(e){switch(this.settings.type){case 5120:return new Float32Array(e).map((e=>(e+128)/255*2-1));case 5122:return new Float32Array(e).map((e=>(e+32768)/65535*2-1));case 5121:return new Float32Array(e).map((e=>e/255));case 5123:return new Float32Array(e).map((e=>e/65535));default:return e}}_normalizeValue(e,t,n){const{defaultValue:r,size:i}=this.settings;if(Number.isFinite(e))return t[n]=e,t;if(!e){let e=i;for(;--e>=0;)t[n+e]=r[e];return t}switch(i){case 4:t[n+3]=Number.isFinite(e[3])?e[3]:r[3];case 3:t[n+2]=Number.isFinite(e[2])?e[2]:r[2];case 2:t[n+1]=Number.isFinite(e[1])?e[1]:r[1];case 1:t[n+0]=Number.isFinite(e[0])?e[0]:r[0];break;default:let s=i;for(;--s>=0;)t[n+s]=Number.isFinite(e[s])?e[s]:r[s]}return t}_areValuesEqual(e,t){if(!e||!t)return!1;const{size:n}=this;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}}var g=n(5304),m=n(8550),v=n(1855);const y=[],b=[[0,1/0]];function w(e){const{source:t,target:n,start:r=0,size:i,getData:s}=e,o=e.end||n.length,a=t.length,l=o-r;if(a>l)return void n.set(t.subarray(0,l),r);if(n.set(t,r),!s)return;let c=a;for(;c<l;){const e=s(c,t);for(let t=0;t<i;t++)n[r+c]=e[t]||0,c++}}const _={interpolation:{duration:0,easing:e=>e},spring:{stiffness:.05,damping:.5}};function A(e,t){if(!e)return null;Number.isFinite(e)&&(e={type:"interpolation",duration:e});const n=e.type||"interpolation";return{..._[n],...t,...e,type:n}}function E(e,t){const n=t.getBuffer();return n?[n,{divisor:0,size:t.size,normalized:t.settings.normalized}]:t.value}function C(e){switch(e){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error('No defined attribute type for size "'.concat(e,'"'))}}function x(e){e.push(e.shift())}function S(e,t){const{doublePrecision:n,settings:r,value:i,size:s}=e,o=n&&i instanceof Float64Array?2:1;return(r.noAlloc?i.length:t*s)*o}function T({buffer:e,numInstances:t,attribute:n,fromLength:r,fromStartIndices:i,getData:s=(e=>e)}){const o=n.doublePrecision&&n.value instanceof Float64Array?2:1,a=n.size*o,l=n.byteOffset,c=n.startIndices,u=i&&c,h=S(n,t),d=n.isConstant;if(!u&&r>=h)return;const f=d?n.value:n.getBuffer().getData({srcByteOffset:l});if(n.settings.normalized&&!d){const e=s;s=(t,r)=>n.normalizeConstant(e(t,r))}const p=d?(e,t)=>s(f,t):(e,t)=>s(f.subarray(e,e+a),t),g=e.getData({length:r}),m=new Float32Array(h);!function({source:e,target:t,size:n,getData:r,sourceStartIndices:i,targetStartIndices:s}){if(!Array.isArray(s))return w({source:e,target:t,size:n,getData:r}),t;let o=0,a=0;const l=r&&((e,t)=>r(e+a,t)),c=Math.min(i.length,s.length);for(let r=1;r<c;r++){const c=i[r]*n,u=s[r]*n;w({source:e.subarray(o,c),target:t,start:a,end:u,size:n,getData:l}),o=c,a=u}a<t.length&&w({source:[],target:t,start:a,size:n,getData:l})}({source:g,target:m,sourceStartIndices:i,targetStartIndices:c,size:a,getData:p}),e.byteLength<m.byteLength+l&&e.reallocate(m.byteLength+l),e.subData({data:m,offset:l})}class I extends p{constructor(e,t){super(e,t,{startIndices:null,lastExternalBuffer:null,binaryValue:null,binaryAccessor:null,needsUpdate:!0,needsRedraw:!1,updateRanges:b}),(0,r.Z)(this,"constant",!1),this.settings.update=t.update||(t.accessor?this._autoUpdater:void 0),Object.seal(this.settings),Object.seal(this.state),this._validateAttributeUpdaters()}get startIndices(){return this.state.startIndices}set startIndices(e){this.state.startIndices=e}needsUpdate(){return this.state.needsUpdate}needsRedraw({clearChangedFlags:e=!1}={}){const t=this.state.needsRedraw;return this.state.needsRedraw=t&&!e,t}getUpdateTriggers(){const{accessor:e}=this.settings;return[this.id].concat("function"!=typeof e&&e||[])}supportsTransition(){return Boolean(this.settings.transition)}getTransitionSetting(e){if(!e||!this.supportsTransition())return null;const{accessor:t}=this.settings,n=this.settings.transition;return A(Array.isArray(t)?e[t.find((t=>e[t]))]:e[t],n)}setNeedsUpdate(e=this.id,t){if(this.state.needsUpdate=this.state.needsUpdate||e,this.setNeedsRedraw(e),t){const{startRow:e=0,endRow:n=1/0}=t;this.state.updateRanges=function(e,t){if(e===b)return e;if(t[0]<0&&(t[0]=0),t[0]>=t[1])return e;const n=[],r=e.length;let i=0;for(let s=0;s<r;s++){const r=e[s];r[1]<t[0]?(n.push(r),i=s+1):r[0]>t[1]?n.push(r):t=[Math.min(r[0],t[0]),Math.max(r[1],t[1])]}return n.splice(i,0,t),n}(this.state.updateRanges,[e,n])}else this.state.updateRanges=b}clearNeedsUpdate(){this.state.needsUpdate=!1,this.state.updateRanges=y}setNeedsRedraw(e=this.id){this.state.needsRedraw=this.state.needsRedraw||e}allocate(e){const{state:t,settings:n}=this;return!n.noAlloc&&!!n.update&&(super.allocate(e,t.updateRanges!==b),!0)}updateBuffer({numInstances:e,data:t,props:n,context:r}){if(!this.needsUpdate())return!1;const{state:{updateRanges:i},settings:{update:s,noAlloc:o}}=this;let a=!0;if(s){for(const[o,a]of i)s.call(r,this,{data:t,startRow:o,endRow:a,props:n,numInstances:e});if(this.value)if(this.constant||this.buffer.byteLength<this.value.byteLength+this.byteOffset)this.setData({value:this.value,constant:this.constant}),this.constant=!1;else for(const[t,n]of i){const r=Number.isFinite(t)?this.getVertexOffset(t):0,i=Number.isFinite(n)?this.getVertexOffset(n):o||!Number.isFinite(e)?this.value.length:e*this.size;super.updateSubBuffer({startOffset:r,endOffset:i})}this._checkAttributeArray()}else a=!1;return this.clearNeedsUpdate(),this.setNeedsRedraw(),a}setConstantValue(e){return void 0!==e&&"function"!=typeof e&&(this.setData({constant:!0,value:e})&&this.setNeedsRedraw(),this.clearNeedsUpdate(),!0)}setExternalBuffer(e){const{state:t}=this;return e?(this.clearNeedsUpdate(),t.lastExternalBuffer===e||(t.lastExternalBuffer=e,this.setNeedsRedraw(),this.setData(e)),!0):(t.lastExternalBuffer=null,!1)}setBinaryValue(e,t=null){const{state:n,settings:r}=this;if(!e)return n.binaryValue=null,n.binaryAccessor=null,!1;if(r.noAlloc)return!1;if(n.binaryValue===e)return this.clearNeedsUpdate(),!0;if(n.binaryValue=e,this.setNeedsRedraw(),r.transform||t!==this.startIndices){ArrayBuffer.isView(e)&&(e={value:e});const i=e;(0,g.Z)(ArrayBuffer.isView(i.value),"invalid ".concat(r.accessor));const s=Boolean(i.size)&&i.size!==this.size;return n.binaryAccessor=(0,m.jr)(i.value,{size:i.size||this.size,stride:i.stride,offset:i.offset,startIndices:t,nested:s}),!1}return this.clearNeedsUpdate(),this.setData(e),!0}getVertexOffset(e){const{startIndices:t}=this;return(t?e<t.length?t[e]:this.numInstances:e)*this.size}getShaderAttributes(){const e=this.settings.shaderAttributes||{[this.id]:null},t={};for(const n in e)Object.assign(t,super.getShaderAttributes(n,e[n]));return t}_autoUpdater(e,{data:t,startRow:n,endRow:r,props:i,numInstances:s}){if(e.constant)return;const{settings:o,state:a,value:l,size:c,startIndices:u}=e,{accessor:h,transform:d}=o,f=a.binaryAccessor||("function"==typeof h?h:i[h]);(0,g.Z)("function"==typeof f,'accessor "'.concat(h,'" is not a function'));let p=e.getVertexOffset(n);const{iterable:y,objectInfo:b}=(0,m.jB)(t,n,r);for(const t of y){b.index++;let n=f(t,b);if(d&&(n=d.call(this,n)),u){const t=(b.index<u.length-1?u[b.index+1]:s)-u[b.index];if(n&&Array.isArray(n[0])){let t=p;for(const r of n)e._normalizeValue(r,l,t),t+=c}else n&&n.length>c?l.set(n,p):(e._normalizeValue(n,b.target,0),(0,v.k)({target:l,source:b.target,start:p,count:t}));p+=t*c}else e._normalizeValue(n,l,p),p+=c}}_validateAttributeUpdaters(){const{settings:e}=this;if(!e.noAlloc&&"function"!=typeof e.update)throw new Error("Attribute ".concat(this.id," missing update or accessor"))}_checkAttributeArray(){const{value:e}=this,t=Math.min(4,this.size);if(e&&e.length>=t){let n=!0;switch(t){case 4:n=n&&Number.isFinite(e[3]);case 3:n=n&&Number.isFinite(e[2]);case 2:n=n&&Number.isFinite(e[1]);case 1:n=n&&Number.isFinite(e[0]);break;default:n=!1}if(!n)throw new Error("Illegal attribute generated for ".concat(this.id))}}}var O=n(8177),P=n(3803),M=n(9047);const B="out vec4 transform_output;\nvoid main() {\n  transform_output = vec4(0);\n}",k="#version 300 es\n".concat(B);function R(e,t){t=Array.isArray(t)?t:[t];const n=e.replace(/^\s+/,"").split(/\s+/),[r,i,s]=n;return t.includes(r)&&i&&s?{qualifier:r,type:i,name:s.split(";")[0]}:null}function L(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{version:t=100,input:n,inputType:r,output:i}=e;if(!n)return 300===t?k:t>300?"#version ".concat(t,"\n").concat(B):"void main() {gl_FragColor = vec4(0);}";const s=function(e,t){switch(t){case"float":return"vec4(".concat(e,", 0.0, 0.0, 1.0)");case"vec2":return"vec4(".concat(e,", 0.0, 1.0)");case"vec3":return"vec4(".concat(e,", 1.0)");case"vec4":return e;default:return(0,M.Z)(!1),null}}(n,r);return t>=300?"#version ".concat(t," ").concat(300===t?"es":"","\nin ").concat(r," ").concat(n,";\nout vec4 ").concat(i,";\nvoid main() {\n  ").concat(i," = ").concat(s,";\n}"):"varying ".concat(r," ").concat(n,";\nvoid main() {\n  gl_FragColor = ").concat(s,";\n}")}var F=n(9450),D=n(1053),N=n(2525);class j{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=e,this.currentIndex=0,this.feedbackMap={},this.varyings=null,this.bindings=[],this.resources={},this._initialize(t),Object.seal(this)}setupResources(e){for(const t of this.bindings)this._setupTransformFeedback(t,e)}updateModelProps(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{varyings:t}=this;return t.length>0&&(e=Object.assign({},e,{varyings:t})),e}getDrawOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.bindings[this.currentIndex],{sourceBuffers:n,transformFeedback:r}=t;return{attributes:Object.assign({},n,e.attributes),transformFeedback:r}}swap(){return!!this.feedbackMap&&(this.currentIndex=this._getNextIndex(),!0)}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setupBuffers(e)}getBuffer(e){const{feedbackBuffers:t}=this.bindings[this.currentIndex],n=e?t[e]:null;return n?n instanceof a.Z?n:n.buffer:null}getData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{varyingName:t}=e,n=this.getBuffer(t);return n?n.getData():null}delete(){for(const e in this.resources)this.resources[e].delete()}_initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setupBuffers(e),this.varyings=e.varyings||Object.keys(this.bindings[this.currentIndex].feedbackBuffers),this.varyings.length>0&&(0,N.h)((0,F.D0)(this.gl))}_getFeedbackBuffers(e){const{sourceBuffers:t={}}=e,n={};if(this.bindings[this.currentIndex]&&Object.assign(n,this.bindings[this.currentIndex].feedbackBuffers),this.feedbackMap)for(const e in this.feedbackMap){const r=this.feedbackMap[e];e in t&&(n[r]=e)}Object.assign(n,e.feedbackBuffers);for(const e in n){const r=n[e];if("string"==typeof r){const i=t[r],{byteLength:s,usage:o,accessor:a}=i;n[e]=this._createNewBuffer(e,{byteLength:s,usage:o,accessor:a})}}return n}_setupBuffers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceBuffers:t=null}=e;Object.assign(this.feedbackMap,e.feedbackMap);const n=this._getFeedbackBuffers(e);this._updateBindings({sourceBuffers:t,feedbackBuffers:n})}_setupTransformFeedback(e,t){let{model:n}=t;const{program:r}=n;e.transformFeedback=new D.Z(this.gl,{program:r,buffers:e.feedbackBuffers})}_updateBindings(e){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],e),this.feedbackMap){const{sourceBuffers:e,feedbackBuffers:t}=this._swapBuffers(this.bindings[this.currentIndex]),n=this._getNextIndex();this.bindings[n]=this._updateBinding(this.bindings[n],{sourceBuffers:e,feedbackBuffers:t})}}_updateBinding(e,t){return e?(Object.assign(e.sourceBuffers,t.sourceBuffers),Object.assign(e.feedbackBuffers,t.feedbackBuffers),e.transformFeedback&&e.transformFeedback.setBuffers(e.feedbackBuffers),e):{sourceBuffers:Object.assign({},t.sourceBuffers),feedbackBuffers:Object.assign({},t.feedbackBuffers)}}_swapBuffers(e){if(!this.feedbackMap)return null;const t=Object.assign({},e.sourceBuffers),n=Object.assign({},e.feedbackBuffers);for(const r in this.feedbackMap){const i=this.feedbackMap[r];t[r]=e.feedbackBuffers[i],n[i]=e.sourceBuffers[r],(0,N.h)(n[i]instanceof a.Z)}return{sourceBuffers:t,feedbackBuffers:n}}_createNewBuffer(e,t){const n=new a.Z(this.gl,t);return this.resources[e]&&this.resources[e].delete(),this.resources[e]=n,n}_getNextIndex(){return(this.currentIndex+1)%2}}var U=n(1953),G=n(4912),z=n(3849),V=n(5432);function H(e){let t=100;const n=e.match(/[^\s]+/g);if(n.length>=2&&"#version"===n[0]){const e=parseInt(n[1],10);Number.isFinite(e)&&(t=e)}return t}var Z=n(6713);const W={name:"transform",vs:"attribute float transform_elementID;\nvec2 transform_getPixelSizeHalf(vec2 size) {\n  return vec2(1.) / (2. * size);\n}\n\nvec2 transform_getPixelIndices(vec2 texSize, vec2 pixelSizeHalf) {\n  float yIndex = floor((transform_elementID / texSize[0]) + pixelSizeHalf[1]);\n  float xIndex = transform_elementID - (yIndex * texSize[0]);\n  return vec2(xIndex, yIndex);\n}\nvec2 transform_getTexCoord(vec2 size) {\n  vec2 pixelSizeHalf = transform_getPixelSizeHalf(size);\n  vec2 indices = transform_getPixelIndices(size, pixelSizeHalf);\n  vec2 coord = indices / size + pixelSizeHalf;\n  return coord;\n}\nvec2 transform_getPos(vec2 size) {\n  vec2 texCoord = transform_getTexCoord(size);\n  vec2 pos = (texCoord * (2.0, 2.0)) - (1., 1.);\n  return pos;\n}\nvec4 transform_getInput(sampler2D texSampler, vec2 size) {\n  vec2 texCoord = transform_getTexCoord(size);\n  vec4 textureColor = texture2D(texSampler, texCoord);\n  return textureColor;\n}\n",fs:null},J="transform_uSize_",K="transform_position";const X={10241:9728,10240:9728,10242:33071,10243:33071};class q{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=e,this.id=this.currentIndex=0,this._swapTexture=null,this.targetTextureVarying=null,this.targetTextureType=null,this.samplerTextureMap=null,this.bindings=[],this.resources={},this._initialize(t),Object.seal(this)}updateModelProps(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this._processVertexShader(e);return Object.assign({},e,t)}getDrawOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceBuffers:t,sourceTextures:n,framebuffer:r,targetTexture:i}=this.bindings[this.currentIndex],s=Object.assign({},t,e.attributes),o=Object.assign({},e.uniforms),a=Object.assign({},e.parameters);let l=e.discard;if(this.hasSourceTextures||this.hasTargetTexture){s.transform_elementID=this.elementIDBuffer;for(const e in this.samplerTextureMap){const t=this.samplerTextureMap[e];o[e]=n[t]}this._setSourceTextureParameters();const e=function(e){let{sourceTextureMap:t,targetTextureVarying:n,targetTexture:r}=e;const i={};let s,o;n&&(({width:s,height:o}=r),i["".concat(J).concat(n)]=[s,o]);for(const e in t)({width:s,height:o}=t[e]),i["".concat(J).concat(e)]=[s,o];return i}({sourceTextureMap:n,targetTextureVarying:this.targetTextureVarying,targetTexture:i});Object.assign(o,e)}return this.hasTargetTexture&&(l=!1,a.viewport=[0,0,r.width,r.height]),{attributes:s,framebuffer:r,uniforms:o,discard:l,parameters:a}}swap(){return!!this._swapTexture&&(this.currentIndex=this._getNextIndex(),!0)}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setupTextures(e)}getTargetTexture(){const{targetTexture:e}=this.bindings[this.currentIndex];return e}getData(){let{packed:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{framebuffer:t}=this.bindings[this.currentIndex],n=(0,U.z6)(t);if(!e)return n;const r=n.constructor,i=function(e){switch(e){case"float":return 1;case"vec2":return 2;case"vec3":return 3;case"vec4":return 4;default:return(0,M.Z)(!1),null}}(this.targetTextureType),s=new r(n.length*i/4);let o=0;for(let e=0;e<n.length;e+=4)for(let t=0;t<i;t++)s[o++]=n[e+t];return s}getFramebuffer(){return this.bindings[this.currentIndex].framebuffer}delete(){this.ownTexture&&this.ownTexture.delete(),this.elementIDBuffer&&this.elementIDBuffer.delete()}_initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{_targetTextureVarying:t,_swapTexture:n}=e;this._swapTexture=n,this.targetTextureVarying=t,this.hasTargetTexture=t,this._setupTextures(e)}_createTargetTexture(e){const{sourceTextures:t,textureOrReference:n}=e;if(n instanceof G.Z)return n;const r=t[n];return r?(this._targetRefTexName=n,this._createNewTexture(r)):null}_setupTextures(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceBuffers:t,_sourceTextures:n={},_targetTexture:r}=e,i=this._createTargetTexture({sourceTextures:n,textureOrReference:r});this.hasSourceTextures=this.hasSourceTextures||n&&Object.keys(n).length>0,this._updateBindings({sourceBuffers:t,sourceTextures:n,targetTexture:i}),"elementCount"in e&&this._updateElementIDBuffer(e.elementCount)}_updateElementIDBuffer(e){if("number"!=typeof e||this.elementCount>=e)return;const t=new Float32Array(e);t.forEach(((e,t,n)=>{n[t]=t})),this.elementIDBuffer?this.elementIDBuffer.setData({data:t}):this.elementIDBuffer=new a.Z(this.gl,{data:t,accessor:{size:1}}),this.elementCount=e}_updateBindings(e){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],e),this._swapTexture){const{sourceTextures:e,targetTexture:t}=this._swapTextures(this.bindings[this.currentIndex]),n=this._getNextIndex();this.bindings[n]=this._updateBinding(this.bindings[n],{sourceTextures:e,targetTexture:t})}}_updateBinding(e,t){const{sourceBuffers:n,sourceTextures:r,targetTexture:i}=t;if(e||(e={sourceBuffers:{},sourceTextures:{},targetTexture:null}),Object.assign(e.sourceTextures,r),Object.assign(e.sourceBuffers,n),i){e.targetTexture=i;const{width:t,height:n}=i,{framebuffer:r}=e;r?(r.update({attachments:{36064:i},resizeAttachments:!1}),r.resize({width:t,height:n})):e.framebuffer=new z.Z(this.gl,{id:"transform-framebuffer",width:t,height:n,attachments:{36064:i}})}return e}_setSourceTextureParameters(){const e=this.currentIndex,{sourceTextures:t}=this.bindings[e];for(const e in t)t[e].setParameters(X)}_swapTextures(e){if(!this._swapTexture)return null;const t=Object.assign({},e.sourceTextures);return t[this._swapTexture]=e.targetTexture,{sourceTextures:t,targetTexture:e.sourceTextures[this._swapTexture]}}_createNewTexture(e){const t=(0,V.h)(e,{parameters:{10241:9728,10240:9728,10242:33071,10243:33071},pixelStore:{37440:!1}});return this.ownTexture&&this.ownTexture.delete(),this.ownTexture=t,t}_getNextIndex(){return(this.currentIndex+1)%2}_processVertexShader(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceTextures:t,targetTexture:n}=this.bindings[this.currentIndex],{vs:r,uniforms:i,targetTextureType:s,inject:o,samplerTextureMap:a}=function(e){let{vs:t,sourceTextureMap:n,targetTextureVarying:r,targetTexture:i}=e,s=Object.keys(n).length,o=null;const a={};let l=t,c={};if(s>0||r){const e=l.split("\n"),t=e.slice();if(e.forEach(((e,i,l)=>{if(s>0){const r=function(e,t){const n={},r=function(e){return R(e,["attribute","in"])}(e);if(!r)return null;const{type:i,name:s}=r;if(s&&t[s]){const t="// ".concat(e," => Replaced by Transform with a sampler"),{samplerName:r,sizeName:o,uniformDeclerations:a}=function(e){const t="".concat("transform_uSampler_").concat(e),n="".concat(J).concat(e);return{samplerName:t,sizeName:n,uniformDeclerations:"  uniform sampler2D ".concat(t,";\n  uniform vec2 ").concat(n,";")}}(s),l=function(e){switch(e){case"float":return"x";case"vec2":return"xy";case"vec3":return"xyz";case"vec4":return"xyzw";default:return(0,M.Z)(!1),null}}(i),c="  ".concat(i," ").concat(s," = transform_getInput(").concat(r,", ").concat(o,").").concat(l,";\n");return n[r]=s,{updatedLine:t,inject:{"vs:#decl":a,"vs:#main-start":c},samplerTextureMap:n}}return null}(e,n);if(r){const{updatedLine:e,inject:n}=r;t[i]=e,c=(0,Z.Lm)([c,n]),Object.assign(a,r.samplerTextureMap),s--}}r&&!o&&(o=function(e,t){const n=R(e,["varying","out"]);return n&&n.name===t?n.type:null}(e,r))})),r){(0,N.h)(i);const e="".concat(J).concat(r),t={"vs:#decl":"uniform vec2 ".concat(e,";\n"),"vs:#main-start":"     vec2 ".concat(K," = transform_getPos(").concat(e,");\n     gl_Position = vec4(").concat(K,", 0, 1.);\n")};c=(0,Z.Lm)([c,t])}l=t.join("\n")}return{vs:l,targetTextureType:o,inject:c,samplerTextureMap:a}}({vs:e.vs,sourceTextureMap:t,targetTextureVarying:this.targetTextureVarying,targetTexture:n}),l=(0,Z.Lm)([e.inject||{},o]);return this.targetTextureType=s,this.samplerTextureMap=a,{vs:r,fs:e._fs||L({version:H(r),input:this.targetTextureVarying,inputType:s,output:"transform_output"}),modules:this.hasSourceTextures||this.targetTextureVarying?[W].concat(e.modules||[]):e.modules,uniforms:i,inject:l}}}var Y=n(4538),Q=n(9769);class ${static isSupported(e){return(0,F.D0)(e)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=e,this.model=null,this.elementCount=0,this.bufferTransform=null,this.textureTransform=null,this.elementIDBuffer=null,this._initialize(t),Object.seal(this)}delete(){const{model:e,bufferTransform:t,textureTransform:n}=this;e&&e.delete(),t&&t.delete(),n&&n.delete()}run(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{clearRenderTarget:t=!0}=e,n=this._updateDrawOptions(e);t&&n.framebuffer&&n.framebuffer.clear({color:!0}),this.model.transform(n)}swap(){let e=!1;const t=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const n of t)e=e||n.swap();(0,N.h)(e,"Nothing to swap")}getBuffer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.bufferTransform&&this.bufferTransform.getBuffer(e)}getData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const n of t){const t=n.getData(e);if(t)return t}return null}getFramebuffer(){return this.textureTransform&&this.textureTransform.getFramebuffer()}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"elementCount"in e&&this.model.setVertexCount(e.elementCount);const t=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const n of t)n.update(e)}_initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{gl:t}=this;this._buildResourceTransforms(t,e),e=this._updateModelProps(e),this.model=new Q.Z(t,Object.assign({},e,{fs:e.fs||L({version:H(e.vs)}),id:e.id||"transform-model",drawMode:e.drawMode||0,vertexCount:e.elementCount})),this.bufferTransform&&this.bufferTransform.setupResources({model:this.model})}_updateModelProps(e){let t=Object.assign({},e);const n=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const e of n)t=e.updateModelProps(t);return t}_buildResourceTransforms(e,t){(function(e){return!((0,Y.nK)(e.feedbackBuffers)&&(0,Y.nK)(e.feedbackMap)&&!(e.varyings&&e.varyings.length>0))})(t)&&(this.bufferTransform=new j(e,t)),function(e){return!((0,Y.nK)(e._sourceTextures)&&!e._targetTexture&&!e._targetTextureVarying)}(t)&&(this.textureTransform=new q(e,t)),(0,N.h)(this.bufferTransform||this.textureTransform,"must provide source/feedback buffers or source/target textures")}_updateDrawOptions(e){let t=Object.assign({},e);const n=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const e of n)t=Object.assign(t,e.getDrawOptions(t));return t}}var ee=n(3630);const te={interpolation:class{constructor({gl:e,attribute:t,timeline:n}){(0,r.Z)(this,"gl",void 0),(0,r.Z)(this,"type","interpolation"),(0,r.Z)(this,"attributeInTransition",void 0),(0,r.Z)(this,"settings",void 0),(0,r.Z)(this,"attribute",void 0),(0,r.Z)(this,"transition",void 0),(0,r.Z)(this,"currentStartIndices",void 0),(0,r.Z)(this,"currentLength",void 0),(0,r.Z)(this,"transform",void 0),(0,r.Z)(this,"buffers",void 0),this.gl=e,this.transition=new ee.Z(n),this.attribute=t,this.attributeInTransition=new I(e,t.settings),this.currentStartIndices=t.startIndices,this.currentLength=0,this.transform=function(e,t){const n=C(t.size);return new $(e,{vs:"\n#define SHADER_NAME interpolation-transition-vertex-shader\n\nuniform float time;\nattribute ATTRIBUTE_TYPE aFrom;\nattribute ATTRIBUTE_TYPE aTo;\nvarying ATTRIBUTE_TYPE vCurrent;\n\nvoid main(void) {\n  vCurrent = mix(aFrom, aTo, time);\n  gl_Position = vec4(0.0);\n}\n",defines:{ATTRIBUTE_TYPE:n},varyings:["vCurrent"]})}(e,t);const i={byteLength:0,usage:35050};this.buffers=[new a.Z(e,i),new a.Z(e,i)]}get inProgress(){return this.transition.inProgress}start(e,t){if(e.duration<=0)return void this.transition.cancel();this.settings=e;const{gl:n,buffers:r,attribute:i}=this;x(r);const s={numInstances:t,attribute:i,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:e.enter};for(const e of r)T({buffer:e,...s});this.currentStartIndices=i.startIndices,this.currentLength=S(i,t),this.attributeInTransition.setData({buffer:r[1],value:i.value}),this.transition.start(e),this.transform.update({elementCount:Math.floor(this.currentLength/i.size),sourceBuffers:{aFrom:r[0],aTo:E(0,i)},feedbackBuffers:{vCurrent:r[1]}})}update(){const e=this.transition.update();if(e){const{duration:e,easing:t}=this.settings,{time:n}=this.transition;let r=n/e;t&&(r=t(r)),this.transform.run({uniforms:{time:r}})}return e}cancel(){this.transition.cancel(),this.transform.delete();for(const e of this.buffers)e.delete();this.buffers.length=0}},spring:class{constructor({gl:e,attribute:t,timeline:n}){(0,r.Z)(this,"gl",void 0),(0,r.Z)(this,"type","spring"),(0,r.Z)(this,"attributeInTransition",void 0),(0,r.Z)(this,"settings",void 0),(0,r.Z)(this,"attribute",void 0),(0,r.Z)(this,"transition",void 0),(0,r.Z)(this,"currentStartIndices",void 0),(0,r.Z)(this,"currentLength",void 0),(0,r.Z)(this,"texture",void 0),(0,r.Z)(this,"framebuffer",void 0),(0,r.Z)(this,"transform",void 0),(0,r.Z)(this,"buffers",void 0),this.gl=e,this.type="spring",this.transition=new ee.Z(n),this.attribute=t,this.attributeInTransition=new I(e,{...t.settings,normalized:!1}),this.currentStartIndices=t.startIndices,this.currentLength=0,this.texture=function(e){return new G.Z(e,{data:new Uint8Array(4),format:6408,type:5121,border:0,mipmaps:!1,dataFormat:6408,width:1,height:1})}(e),this.framebuffer=function(e,t){return new z.Z(e,{id:"spring-transition-is-transitioning-framebuffer",width:1,height:1,attachments:{36064:t}})}(e,this.texture),this.transform=function(e,t,n){const r=C(t.size);return new $(e,{framebuffer:n,vs:"\n#define SHADER_NAME spring-transition-vertex-shader\n\n#define EPSILON 0.00001\n\nuniform float stiffness;\nuniform float damping;\nattribute ATTRIBUTE_TYPE aPrev;\nattribute ATTRIBUTE_TYPE aCur;\nattribute ATTRIBUTE_TYPE aTo;\nvarying ATTRIBUTE_TYPE vNext;\nvarying float vIsTransitioningFlag;\n\nATTRIBUTE_TYPE getNextValue(ATTRIBUTE_TYPE cur, ATTRIBUTE_TYPE prev, ATTRIBUTE_TYPE dest) {\n  ATTRIBUTE_TYPE velocity = cur - prev;\n  ATTRIBUTE_TYPE delta = dest - cur;\n  ATTRIBUTE_TYPE spring = delta * stiffness;\n  ATTRIBUTE_TYPE damper = velocity * -1.0 * damping;\n  return spring + damper + velocity + cur;\n}\n\nvoid main(void) {\n  bool isTransitioning = length(aCur - aPrev) > EPSILON || length(aTo - aCur) > EPSILON;\n  vIsTransitioningFlag = isTransitioning ? 1.0 : 0.0;\n\n  vNext = getNextValue(aCur, aPrev, aTo);\n  gl_Position = vec4(0, 0, 0, 1);\n  gl_PointSize = 100.0;\n}\n",fs:"\n#define SHADER_NAME spring-transition-is-transitioning-fragment-shader\n\nvarying float vIsTransitioningFlag;\n\nvoid main(void) {\n  if (vIsTransitioningFlag == 0.0) {\n    discard;\n  }\n  gl_FragColor = vec4(1.0);\n}",defines:{ATTRIBUTE_TYPE:r},varyings:["vNext"]})}(e,t,this.framebuffer);const i={byteLength:0,usage:35050};this.buffers=[new a.Z(e,i),new a.Z(e,i),new a.Z(e,i)]}get inProgress(){return this.transition.inProgress}start(e,t){const{gl:n,buffers:r,attribute:i}=this,s={numInstances:t,attribute:i,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:e.enter};for(const e of r)T({buffer:e,...s});this.settings=e,this.currentStartIndices=i.startIndices,this.currentLength=S(i,t),this.attributeInTransition.setData({buffer:r[1],value:i.value}),this.transition.start({...e,duration:1/0}),this.transform.update({elementCount:Math.floor(this.currentLength/i.size),sourceBuffers:{aTo:E(0,i)}})}update(){const{buffers:e,transform:t,framebuffer:n,transition:r}=this;if(!r.update())return!1;const i=this.settings;return t.update({sourceBuffers:{aPrev:e[0],aCur:e[1]},feedbackBuffers:{vNext:e[2]}}),t.run({framebuffer:n,discard:!1,clearRenderTarget:!0,uniforms:{stiffness:i.stiffness,damping:i.damping},parameters:{depthTest:!1,blend:!0,viewport:[0,0,1,1],blendFunc:[1,1],blendEquation:[32776,32776]}}),x(e),this.attributeInTransition.setData({buffer:e[1],value:this.attribute.value}),(0,U.z6)(n)[0]>0||r.end(),!0}cancel(){this.transition.cancel(),this.transform.delete();for(const e of this.buffers)e.delete();this.buffers.length=0,this.texture.delete(),this.framebuffer.delete()}}};class ne{constructor(e,{id:t,timeline:n}){(0,r.Z)(this,"id",void 0),(0,r.Z)(this,"isSupported",void 0),(0,r.Z)(this,"gl",void 0),(0,r.Z)(this,"timeline",void 0),(0,r.Z)(this,"transitions",void 0),(0,r.Z)(this,"needsRedraw",void 0),(0,r.Z)(this,"numInstances",void 0),this.id=t,this.gl=e,this.timeline=n,this.transitions={},this.needsRedraw=!1,this.numInstances=1,this.isSupported=$.isSupported(e)}finalize(){for(const e in this.transitions)this._removeTransition(e)}update({attributes:e,transitions:t,numInstances:n}){this.numInstances=n||1;for(const n in e){const r=e[n],i=r.getTransitionSetting(t);i&&this._updateAttribute(n,r,i)}for(const n in this.transitions){const r=e[n];r&&r.getTransitionSetting(t)||this._removeTransition(n)}}hasAttribute(e){const t=this.transitions[e];return t&&t.inProgress}getAttributes(){const e={};for(const t in this.transitions){const n=this.transitions[t];n.inProgress&&(e[t]=n.attributeInTransition)}return e}run(){if(!this.isSupported||0===this.numInstances)return!1;for(const e in this.transitions)this.transitions[e].update()&&(this.needsRedraw=!0);const e=this.needsRedraw;return this.needsRedraw=!1,e}_removeTransition(e){this.transitions[e].cancel(),delete this.transitions[e]}_updateAttribute(e,t,n){const r=this.transitions[e];let i=!r||r.type!==n.type;if(i){if(!this.isSupported)return void h.Z.warn("WebGL2 not supported by this browser. Transition for ".concat(e," is disabled."))();r&&this._removeTransition(e);const s=te[n.type];s?this.transitions[e]=new s({attribute:t,timeline:this.timeline,gl:this.gl}):(h.Z.error("unsupported transition type '".concat(n.type,"'"))(),i=!1)}(i||t.needsRedraw())&&(this.needsRedraw=!0,this.transitions[e].start(n,this.numInstances))}}const re="attributeManager.invalidate";class ie{constructor(e,{id:t="attribute-manager",stats:n,timeline:i}={}){(0,r.Z)(this,"id",void 0),(0,r.Z)(this,"gl",void 0),(0,r.Z)(this,"attributes",void 0),(0,r.Z)(this,"updateTriggers",void 0),(0,r.Z)(this,"needsRedraw",void 0),(0,r.Z)(this,"userData",void 0),(0,r.Z)(this,"stats",void 0),(0,r.Z)(this,"attributeTransitionManager",void 0),(0,r.Z)(this,"mergeBoundsMemoized",(0,O.Z)(u.cc)),this.id=t,this.gl=e,this.attributes={},this.updateTriggers={},this.needsRedraw=!0,this.userData={},this.stats=n,this.attributeTransitionManager=new ne(e,{id:"".concat(t,"-transitions"),timeline:i}),Object.seal(this)}finalize(){for(const e in this.attributes)this.attributes[e].delete();this.attributeTransitionManager.finalize()}getNeedsRedraw(e={clearRedrawFlags:!1}){const t=this.needsRedraw;return this.needsRedraw=this.needsRedraw&&!e.clearRedrawFlags,t&&this.id}setNeedsRedraw(){this.needsRedraw=!0}add(e){this._add(e)}addInstanced(e){this._add(e,{instanced:1})}remove(e){for(const t of e)void 0!==this.attributes[t]&&(this.attributes[t].delete(),delete this.attributes[t])}invalidate(e,t){const n=this._invalidateTrigger(e,t);(0,P.Z)(re,this,e,n)}invalidateAll(e){for(const t in this.attributes)this.attributes[t].setNeedsUpdate(t,e);(0,P.Z)(re,this,"all")}update({data:e,numInstances:t,startIndices:n=null,transitions:r,props:i={},buffers:s={},context:o={}}){let a=!1;(0,P.Z)("attributeManager.updateStart",this),this.stats&&this.stats.get("Update Attributes").timeStart();for(const r in this.attributes){const l=this.attributes[r],c=l.settings.accessor;l.startIndices=n,l.numInstances=t,i[r]&&h.Z.removed("props.".concat(r),"data.attributes.".concat(r))(),l.setExternalBuffer(s[r])||l.setBinaryValue("string"==typeof c?s[c]:void 0,e.startIndices)||"string"==typeof c&&!s[c]&&l.setConstantValue(i[c])||l.needsUpdate()&&(a=!0,this._updateAttribute({attribute:l,numInstances:t,data:e,props:i,context:o})),this.needsRedraw=this.needsRedraw||l.needsRedraw()}a&&(0,P.Z)("attributeManager.updateEnd",this,t),this.stats&&this.stats.get("Update Attributes").timeEnd(),this.attributeTransitionManager.update({attributes:this.attributes,numInstances:t,transitions:r})}updateTransition(){const{attributeTransitionManager:e}=this,t=e.run();return this.needsRedraw=this.needsRedraw||t,t}getAttributes(){return this.attributes}getBounds(e){const t=e.map((e=>{var t;return null===(t=this.attributes[e])||void 0===t?void 0:t.getBounds()}));return this.mergeBoundsMemoized(t)}getChangedAttributes(e={clearChangedFlags:!1}){const{attributes:t,attributeTransitionManager:n}=this,r={...n.getAttributes()};for(const i in t){const s=t[i];s.needsRedraw(e)&&!n.hasAttribute(i)&&(r[i]=s)}return r}getShaderAttributes(e,t={}){e||(e=this.getAttributes());const n={};for(const r in e)t[r]||Object.assign(n,e[r].getShaderAttributes());return n}_add(e,t={}){for(const n in e){const r=e[n];this.attributes[n]=this._createAttribute(n,r,t)}this._mapUpdateTriggersToAttributes()}_createAttribute(e,t,n){const r={...t,id:e,size:(t.isIndexed?1:t.size)||1,divisor:n.instanced?1:t.divisor||0};return new I(this.gl,r)}_mapUpdateTriggersToAttributes(){const e={};for(const t in this.attributes)this.attributes[t].getUpdateTriggers().forEach((n=>{e[n]||(e[n]=[]),e[n].push(t)}));this.updateTriggers=e}_invalidateTrigger(e,t){const{attributes:n,updateTriggers:r}=this,i=r[e];return i&&i.forEach((e=>{const r=n[e];r&&r.setNeedsUpdate(r.id,t)})),i}_updateAttribute(e){const{attribute:t,numInstances:n}=e;(0,P.Z)("attribute.updateStart",t),t.constant?t.setConstantValue(t.value):(t.allocate(n)&&(0,P.Z)("attribute.allocate",t,n),t.updateBuffer(e)&&(this.needsRedraw=!0,(0,P.Z)("attribute.updateEnd",t,n)))}}var se=n(4034);class oe extends ee.Z{get value(){return this._value}_onUpdate(){const{time:e,settings:{fromValue:t,toValue:n,duration:r,easing:i}}=this,s=i(e/r);this._value=(0,se.t7)(t,n,s)}}const ae=1e-5;function le(e,t,n,r,i){const s=t-e;return(n-t)*i+-s*r+s+t}function ce(e,t){if(Array.isArray(e)){let n=0;for(let r=0;r<e.length;r++){const i=e[r]-t[r];n+=i*i}return Math.sqrt(n)}return Math.abs(e-t)}class ue extends ee.Z{get value(){return this._currValue}_onUpdate(){const{fromValue:e,toValue:t,damping:n,stiffness:r}=this.settings,{_prevValue:i=e,_currValue:s=e}=this;let o=function(e,t,n,r,i){if(Array.isArray(n)){const s=[];for(let o=0;o<n.length;o++)s[o]=le(e[o],t[o],n[o],r,i);return s}return le(e,t,n,r,i)}(i,s,t,n,r);const a=ce(o,t),l=ce(o,s);a<ae&&l<ae&&(o=t,this.end()),this._prevValue=s,this._currValue=o}}const he={interpolation:oe,spring:ue};class de{constructor(e){this.transitions=new Map,this.timeline=e}get active(){return this.transitions.size>0}add(e,t,n,r){const{transitions:i}=this;if(i.has(e)){const n=i.get(e),{value:r=n.settings.fromValue}=n;t=r,this.remove(e)}if(!(r=A(r)))return;const s=he[r.type];if(!s)return void h.Z.error("unsupported transition type '".concat(r.type,"'"))();const o=new s(this.timeline);o.start({...r,fromValue:t,toValue:n}),i.set(e,o)}remove(e){const{transitions:t}=this;t.has(e)&&(t.get(e).cancel(),t.delete(e))}update(){const e={};for(const[t,n]of this.transitions)n.update(),e[t]=n.value,n.inProgress||this.remove(t);return e}clear(){for(const e of this.transitions.keys())this.remove(e)}}var fe=n(5409);function pe(e,t){if(!e.transitions)return!1;const n={},r=e[fe.Wb];let i=!1;for(const s in e.transitions){const o=r[s],a=o&&o.type;("number"===a||"color"===a||"array"===a)&&me(e[s],t[s],o)&&(n[s]=!0,i=!0)}return!!i&&n}function ge({newProps:e,oldProps:t,ignoreProps:n={},propTypes:r={},triggerName:i="props"}){if(t===e)return!1;if("object"!=typeof e||null===e)return"".concat(i," changed shallowly");if("object"!=typeof t||null===t)return"".concat(i," changed shallowly");for(const s of Object.keys(e))if(!(s in n)){if(!(s in t))return"".concat(i,".").concat(s," added");const n=me(e[s],t[s],r[s]);if(n)return"".concat(i,".").concat(s," ").concat(n)}for(const s of Object.keys(t))if(!(s in n)){if(!(s in e))return"".concat(i,".").concat(s," dropped");if(!Object.hasOwnProperty.call(e,s)){const n=me(e[s],t[s],r[s]);if(n)return"".concat(i,".").concat(s," ").concat(n)}}return!1}function me(e,t,n){let r=n&&n.equal;return r&&!r(e,t,n)?"changed deeply":r||(r=e&&t&&e.equals,!r||r.call(e,t))?r||t===e?null:"changed shallowly":"changed deeply"}function ve(e,t){if(null===t)return!0;const n=t.extensions,{extensions:r}=e;if(r===n)return!1;if(!n||!r)return!0;if(r.length!==n.length)return!0;for(let e=0;e<r.length;e++)if(!r[e].equals(n[e]))return!0;return!1}function ye(e,t,n){let r=e.updateTriggers[n];r=null==r?{}:r;let i=t.updateTriggers[n];return i=null==i?{}:i,ge({oldProps:i,newProps:r,triggerName:n})}function be(e,t){if(!t)return e;const n={...e,...t};if("defines"in t&&(n.defines={...e.defines,...t.defines}),"modules"in t&&(n.modules=(e.modules||[]).concat(t.modules),t.modules.some((e=>"project64"===e.name)))){const e=n.modules.findIndex((e=>"project32"===e.name));e>=0&&n.modules.splice(e,1)}if("inject"in t)if(e.inject){const r={...e.inject};for(const e in t.inject)r[e]=(r[e]||"")+t.inject[e];n.inject=r}else n.inject=t.inject;return n}var we=n(8771),_e=n(6935),Ae=n(8333),Ee=n(7160),Ce=n(7013);const xe=[0,0,0];function Se(e,t,n=!1){const r=t.projectPosition(e);if(n&&t instanceof _e.Z){const[n,i,s=0]=e,o=t.getDistanceScales([n,i]);r[2]=s*o.unitsPerMeter[2]}return r}function Te(e,{viewport:t,modelMatrix:n,coordinateSystem:r,coordinateOrigin:s,offsetMode:o}){let[a,l,c=0]=e;switch(n&&([a,l,c]=Ae.fF([],[a,l,c,1],n)),r){case i.Df.LNGLAT:return Se([a,l,c],t,o);case i.Df.LNGLAT_OFFSETS:return Se([a+s[0],l+s[1],c+(s[2]||0)],t,o);case i.Df.METER_OFFSETS:return Se((0,Ce.eG)(s,[a,l,c]),t,o);case i.Df.CARTESIAN:default:return t.isGeospatial?[a+s[0],l+s[1],c+s[2]]:t.projectPosition([a,l,c])}}const Ie={10241:9987,10240:9729,10242:33071,10243:33071},Oe={};var Pe=n(6871);const Me={boolean:{validate:(e,t)=>!0,equal:(e,t,n)=>Boolean(e)===Boolean(t)},number:{validate:(e,t)=>Number.isFinite(e)&&(!("max"in t)||e<=t.max)&&(!("min"in t)||e>=t.min)},color:{validate:(e,t)=>t.optional&&!e||Re(e)&&(3===e.length||4===e.length),equal:(e,t,n)=>(0,Pe.v)(e,t,1)},accessor:{validate(e,t){const n=Le(e);return"function"===n||n===Le(t.value)},equal:(e,t,n)=>"function"==typeof t||(0,Pe.v)(e,t,1)},array:{validate:(e,t)=>t.optional&&!e||Re(e),equal(e,t,n){const{compare:r}=n,i=Number.isInteger(r)?r:r?1:0;return r?(0,Pe.v)(e,t,i):e===t}},object:{equal(e,t,n){if(n.ignore)return!0;const{compare:r}=n,i=Number.isInteger(r)?r:r?1:0;return r?(0,Pe.v)(e,t,i):e===t}},function:{validate:(e,t)=>t.optional&&!e||"function"==typeof e,equal:(e,t,n)=>!n.compare&&!1!==n.ignore||e===t},data:{transform:(e,t,n)=>{const{dataTransform:r}=n.props;return r&&e?r(e):e}},image:{transform:(e,t,n)=>{const r=n.context;return r&&r.gl?function(e,t,n,r){if(n instanceof G.Z)return n;n.constructor&&"Object"!==n.constructor.name&&(n={data:n});let i=null;n.compressed&&(i={10241:n.data.length>1?9985:9729});const s=new G.Z(t,{...n,parameters:{...Ie,...i,...r}});return Oe[s.id]=e,s}(n.id,r.gl,e,{...t.parameters,...n.props.textureParameters}):null},release:(e,t,n)=>{var r,i;r=n.id,(i=e)&&i instanceof G.Z&&Oe[i.id]===r&&(i.delete(),delete Oe[i.id])}}};function Be(e,t){switch(Le(t)){case"object":return ke(e,t);case"array":return ke(e,{type:"array",value:t,compare:!1});case"boolean":return ke(e,{type:"boolean",value:t});case"number":return ke(e,{type:"number",value:t});case"function":return ke(e,{type:"function",value:t,compare:!0});default:return{name:e,type:"unknown",value:t}}}function ke(e,t){return"type"in t?{name:e,...Me[t.type],...t}:"value"in t?{name:e,type:Le(t.value),...t}:{name:e,type:"object",value:t}}function Re(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function Le(e){return Re(e)?"array":null===e?"null":typeof e}function Fe(e,t){let n="_mergedDefaultProps";if(t)for(const e of t){const t=e.constructor;t&&(n+=":".concat(t.extensionName||t.name))}return je(e,n)||(e[n]=function(e,t){if(!e.prototype)return null;const n=Fe(Object.getPrototypeOf(e)),r=function(e){const t={},n={},r={};for(const[i,s]of Object.entries(e)){const e=null==s?void 0:s.deprecatedFor;if(e)r[i]=Array.isArray(e)?e:[e];else{const e=Be(i,s);t[i]=e,n[i]=e.value}}return{propTypes:t,defaultProps:n,deprecatedProps:r}}(je(e,"defaultProps")||{}),i=Object.assign(Object.create(null),n,r.defaultProps),s=Object.assign(Object.create(null),null==n?void 0:n[fe.Wb],r.propTypes),o=Object.assign(Object.create(null),null==n?void 0:n[fe.E7],r.deprecatedProps);for(const e of t){const t=Fe(e.constructor);t&&(Object.assign(i,t),Object.assign(s,t[fe.Wb]),Object.assign(o,t[fe.E7]))}return function(e,t){const n=function(e){const t=e.componentName;return t||h.Z.warn("".concat(e.name,".componentName not specified"))(),t||e.name}(t);Object.defineProperties(e,{id:{writable:!0,value:n}})}(i,e),function(e,t){const n={},r={};for(const e in t){const i=t[e],{name:s,value:o}=i;i.async&&(n[s]=o,r[s]=De(s))}e[fe.lY]=n,e[fe.fO]={},Object.defineProperties(e,r)}(i,s),function(e,t){for(const n in t)Object.defineProperty(e,n,{enumerable:!1,set(e){const r="".concat(this.id,": ").concat(n);for(const r of t[n])Ne(this,r)||(this[r]=e);h.Z.deprecated(r,t[n].join("/"))()}})}(i,o),i[fe.Wb]=s,i[fe.E7]=o,0!==t.length||Ne(e,"_propTypes")||(e._propTypes=s),i}(e,t||[]))}function De(e){return{enumerable:!0,set(t){"string"==typeof t||t instanceof Promise||(0,m.D0)(t)?this[fe.fO][e]=t:this[fe.bN][e]=t},get(){if(this[fe.bN]){if(e in this[fe.bN])return this[fe.bN][e]||this[fe.lY][e];if(e in this[fe.fO]){const t=this[fe.fm]&&this[fe.fm].internalState;if(t&&t.hasAsyncProp(e))return t.getAsyncProp(e)||this[fe.lY][e]}}return this[fe.lY][e]}}}function Ne(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function je(e,t){return Ne(e,t)&&e[t]}let Ue=0;class Ge{constructor(...e){(0,r.Z)(this,"id",void 0),(0,r.Z)(this,"props",void 0),(0,r.Z)(this,"count",void 0),this.props=function(e,t){let n;for(let e=t.length-1;e>=0;e--){const r=t[e];"extensions"in r&&(n=r.extensions)}const r=Fe(e.constructor,n),i=Object.create(r);i[fe.fm]=e,i[fe.fO]={},i[fe.bN]={};for(let e=0;e<t.length;++e){const n=t[e];for(const e in n)i[e]=n[e]}return Object.freeze(i),i}(this,e),this.id=this.props.id,this.count=Ue++}clone(e){const{props:t}=this,n={};for(const e in t[fe.lY])e in t[fe.bN]?n[e]=t[fe.bN][e]:e in t[fe.fO]&&(n[e]=t[fe.fO][e]);return new this.constructor({...t,...n,...e})}}(0,r.Z)(Ge,"componentName","Component"),(0,r.Z)(Ge,"defaultProps",{});const ze=Object.freeze({});class Ve{constructor(e){(0,r.Z)(this,"component",void 0),(0,r.Z)(this,"onAsyncPropUpdated",void 0),(0,r.Z)(this,"asyncProps",void 0),(0,r.Z)(this,"oldProps",void 0),(0,r.Z)(this,"oldAsyncProps",void 0),this.component=e,this.asyncProps={},this.onAsyncPropUpdated=()=>{},this.oldProps=null,this.oldAsyncProps=null}finalize(){for(const e in this.asyncProps){const t=this.asyncProps[e];t&&t.type&&t.type.release&&t.type.release(t.resolvedValue,t.type,this.component)}this.asyncProps={},this.component=null,this.resetOldProps()}getOldProps(){return this.oldAsyncProps||this.oldProps||ze}resetOldProps(){this.oldAsyncProps=null,this.oldProps=this.component?this.component.props:null}hasAsyncProp(e){return e in this.asyncProps}getAsyncProp(e){const t=this.asyncProps[e];return t&&t.resolvedValue}isAsyncPropLoading(e){if(e){const t=this.asyncProps[e];return Boolean(t&&t.pendingLoadCount>0&&t.pendingLoadCount!==t.resolvedLoadCount)}for(const e in this.asyncProps)if(this.isAsyncPropLoading(e))return!0;return!1}reloadAsyncProp(e,t){this._watchPromise(e,Promise.resolve(t))}setAsyncProps(e){this.component=e[fe.fm]||this.component;const t=e[fe.bN]||{},n=e[fe.fO]||e,r=e[fe.lY]||{};for(const e in t){const n=t[e];this._createAsyncPropData(e,r[e]),this._updateAsyncProp(e,n),t[e]=this.getAsyncProp(e)}for(const e in n){const t=n[e];this._createAsyncPropData(e,r[e]),this._updateAsyncProp(e,t)}}_fetch(e,t){return null}_onResolve(e,t){}_onError(e,t){}_updateAsyncProp(e,t){this._didAsyncInputValueChange(e,t)&&("string"==typeof t&&(t=this._fetch(e,t)),t instanceof Promise?this._watchPromise(e,t):(0,m.D0)(t)?this._resolveAsyncIterable(e,t):this._setPropValue(e,t))}_freezeAsyncOldProps(){if(!this.oldAsyncProps&&this.oldProps){this.oldAsyncProps=Object.create(this.oldProps);for(const e in this.asyncProps)Object.defineProperty(this.oldAsyncProps,e,{enumerable:!0,value:this.oldProps[e]})}}_didAsyncInputValueChange(e,t){const n=this.asyncProps[e];return t!==n.resolvedValue&&t!==n.lastValue&&(n.lastValue=t,!0)}_setPropValue(e,t){this._freezeAsyncOldProps();const n=this.asyncProps[e];n&&(t=this._postProcessValue(n,t),n.resolvedValue=t,n.pendingLoadCount++,n.resolvedLoadCount=n.pendingLoadCount)}_setAsyncPropValue(e,t,n){const r=this.asyncProps[e];r&&n>=r.resolvedLoadCount&&void 0!==t&&(this._freezeAsyncOldProps(),r.resolvedValue=t,r.resolvedLoadCount=n,this.onAsyncPropUpdated(e,t))}_watchPromise(e,t){const n=this.asyncProps[e];if(n){n.pendingLoadCount++;const r=n.pendingLoadCount;t.then((t=>{this.component&&(t=this._postProcessValue(n,t),this._setAsyncPropValue(e,t,r),this._onResolve(e,t))})).catch((t=>{this._onError(e,t)}))}}async _resolveAsyncIterable(e,t){if("data"!==e)return void this._setPropValue(e,t);const n=this.asyncProps[e];if(!n)return;n.pendingLoadCount++;const r=n.pendingLoadCount;let i=[],s=0;for await(const n of t){if(!this.component)return;const{dataTransform:t}=this.component.props;i=t?t(n,i):i.concat(n),Object.defineProperty(i,"__diff",{enumerable:!1,value:[{startRow:s,endRow:i.length}]}),s=i.length,this._setAsyncPropValue(e,i,r)}this._onResolve(e,i)}_postProcessValue(e,t){const n=e.type;return n&&this.component&&(n.release&&n.release(e.resolvedValue,n,this.component),n.transform)?n.transform(t,n,this.component):t}_createAsyncPropData(e,t){if(!this.asyncProps[e]){const n=this.component&&this.component.props[fe.Wb];this.asyncProps[e]={type:n&&n[e],lastValue:null,resolvedValue:t,pendingLoadCount:0,resolvedLoadCount:0}}}}class He extends Ve{constructor({attributeManager:e,layer:t}){super(t),(0,r.Z)(this,"attributeManager",void 0),(0,r.Z)(this,"needsRedraw",void 0),(0,r.Z)(this,"needsUpdate",void 0),(0,r.Z)(this,"subLayers",void 0),(0,r.Z)(this,"usesPickingColorCache",void 0),(0,r.Z)(this,"hasPickingBuffer",void 0),(0,r.Z)(this,"changeFlags",void 0),(0,r.Z)(this,"viewport",void 0),(0,r.Z)(this,"uniformTransitions",void 0),(0,r.Z)(this,"propsInTransition",void 0),this.attributeManager=e,this.needsRedraw=!0,this.needsUpdate=!0,this.subLayers=null,this.usesPickingColorCache=!1}get layer(){return this.component}_fetch(e,t){const n=this.layer,r=null==n?void 0:n.props.fetch;return r?r(t,{propName:e,layer:n}):super._fetch(e,t)}_onResolve(e,t){const n=this.layer;if(n){const r=n.props.onDataLoad;"data"===e&&r&&r(t,{propName:e,layer:n})}}_onError(e,t){const n=this.layer;n&&n.raiseError(t,"loading ".concat(e," of ").concat(this.layer))}}var Ze=n(4938);const We=2**24-1,Je=Object.freeze([]),Ke=(0,O.Z)((({oldViewport:e,viewport:t})=>e.equals(t)));let Xe=new Uint8ClampedArray(0);const qe={data:{type:"data",value:Je,async:!0},dataComparator:{type:"function",value:null,optional:!0},_dataDiff:{type:"function",value:e=>e&&e.__diff,optional:!0},dataTransform:{type:"function",value:null,optional:!0},onDataLoad:{type:"function",value:null,optional:!0},onError:{type:"function",value:null,optional:!0},fetch:{type:"function",value:(e,{propName:t,layer:n,loaders:r,loadOptions:i,signal:s})=>{const{resourceManager:o}=n.context;var a;i=i||n.getLoadOptions(),r=r||n.props.loaders,s&&(i={...i,fetch:{...null===(a=i)||void 0===a?void 0:a.fetch,signal:s}});let l=o.contains(e);return l||i||(o.add({resourceId:e,data:(0,Ze.z)(e,r),persistent:!1}),l=!0),l?o.subscribe({resourceId:e,onChange:e=>{var r;return null===(r=n.internalState)||void 0===r?void 0:r.reloadAsyncProp(t,e)},consumerId:n.id,requestId:t}):(0,Ze.z)(e,r,i)}},updateTriggers:{},visible:!0,pickable:!1,opacity:{type:"number",min:0,max:1,value:1},operation:"draw",onHover:{type:"function",value:null,optional:!0},onClick:{type:"function",value:null,optional:!0},onDragStart:{type:"function",value:null,optional:!0},onDrag:{type:"function",value:null,optional:!0},onDragEnd:{type:"function",value:null,optional:!0},coordinateSystem:i.Df.DEFAULT,coordinateOrigin:{type:"array",value:[0,0,0],compare:!0},modelMatrix:{type:"array",value:null,compare:!0,optional:!0},wrapLongitude:!1,positionFormat:"XYZ",colorFormat:"RGBA",parameters:{type:"object",value:{},optional:!0,compare:2},loadOptions:{type:"object",value:null,optional:!0,ignore:!0},transitions:null,extensions:[],loaders:{type:"array",value:[],optional:!0,ignore:!0},getPolygonOffset:{type:"function",value:({layerIndex:e})=>[0,100*-e]},highlightedObjectIndex:null,autoHighlight:!1,highlightColor:{type:"accessor",value:[0,0,128,128]}};class Ye extends Ge{constructor(...e){super(...e),(0,r.Z)(this,"internalState",null),(0,r.Z)(this,"lifecycle",fe.dt.NO_STATE),(0,r.Z)(this,"context",void 0),(0,r.Z)(this,"state",void 0),(0,r.Z)(this,"parent",null)}static get componentName(){return Object.prototype.hasOwnProperty.call(this,"layerName")?this.layerName:""}get root(){let e=this;for(;e.parent;)e=e.parent;return e}toString(){const e=this.constructor.layerName||this.constructor.name;return"".concat(e,"({id: '").concat(this.props.id,"'})")}project(e){(0,g.Z)(this.internalState);const t=this.internalState.viewport||this.context.viewport,n=Te(e,{viewport:t,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem}),[r,i,s]=(0,Ce.aW)(n,t.pixelProjectionMatrix);return 2===e.length?[r,i]:[r,i,s]}unproject(e){return(0,g.Z)(this.internalState),(this.internalState.viewport||this.context.viewport).unproject(e)}projectPosition(e,t){return(0,g.Z)(this.internalState),function(e,t){const{viewport:n,coordinateSystem:r,coordinateOrigin:s,modelMatrix:o,fromCoordinateSystem:a,fromCoordinateOrigin:l}=function(e){const{viewport:t,modelMatrix:n,coordinateOrigin:r}=e;let{coordinateSystem:s,fromCoordinateSystem:o,fromCoordinateOrigin:a}=e;return s===i.Df.DEFAULT&&(s=t.isGeospatial?i.Df.LNGLAT:i.Df.CARTESIAN),void 0===o&&(o=s),void 0===a&&(a=r),{viewport:t,coordinateSystem:s,coordinateOrigin:r,modelMatrix:n,fromCoordinateSystem:o,fromCoordinateOrigin:a}}(t),{autoOffset:c=!0}=t,{geospatialOrigin:u=xe,shaderCoordinateOrigin:h=xe,offsetMode:d=!1}=c?(0,we.v)(n,r,s):{},f=Te(e,{viewport:n,modelMatrix:o,coordinateSystem:a,coordinateOrigin:l,offsetMode:d});if(d){const e=n.projectPosition(u||h);Ee.lu(f,f,e)}return f}(e,{viewport:this.internalState.viewport||this.context.viewport,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem,...t})}get isComposite(){return!1}setState(e){this.setChangeFlags({stateChanged:!0}),Object.assign(this.state,e),this.setNeedsRedraw()}setNeedsRedraw(){this.internalState&&(this.internalState.needsRedraw=!0)}setNeedsUpdate(){this.internalState&&(this.context.layerManager.setNeedsUpdate(String(this)),this.internalState.needsUpdate=!0)}get isLoaded(){return!!this.internalState&&!this.internalState.isAsyncPropLoading()}get wrapLongitude(){return this.props.wrapLongitude}isPickable(){return this.props.pickable&&this.props.visible}getModels(){return this.state&&(this.state.models||this.state.model&&[this.state.model])||[]}setModuleParameters(e){for(const t of this.getModels())t.updateModuleSettings(e)}getAttributeManager(){return this.internalState&&this.internalState.attributeManager}getCurrentLayer(){return this.internalState&&this.internalState.layer}getLoadOptions(){return this.props.loadOptions}use64bitPositions(){const{coordinateSystem:e}=this.props;return e===i.Df.DEFAULT||e===i.Df.LNGLAT||e===i.Df.CARTESIAN}onHover(e,t){return this.props.onHover&&this.props.onHover(e,t)||!1}onClick(e,t){return this.props.onClick&&this.props.onClick(e,t)||!1}nullPickingColor(){return[0,0,0]}encodePickingColor(e,t=[]){return t[0]=e+1&255,t[1]=e+1>>8&255,t[2]=e+1>>8>>8&255,t}decodePickingColor(e){(0,g.Z)(e instanceof Uint8Array);const[t,n,r]=e;return t+256*n+65536*r-1}getNumInstances(){return Number.isFinite(this.props.numInstances)?this.props.numInstances:this.state&&void 0!==this.state.numInstances?this.state.numInstances:function(e){if(null===(t=e)||"object"!=typeof t)throw new Error("count(): argument not an object");var t;if("function"==typeof e.count)return e.count();if(Number.isFinite(e.size))return e.size;if(Number.isFinite(e.length))return e.length;if(function(e){return null!==e&&"object"==typeof e&&e.constructor===Object}(e))return Object.keys(e).length;throw new Error("count(): argument not a container")}(this.props.data)}getStartIndices(){return this.props.startIndices?this.props.startIndices:this.state&&this.state.startIndices?this.state.startIndices:null}getBounds(){var e;return null===(e=this.getAttributeManager())||void 0===e?void 0:e.getBounds(["positions","instancePositions"])}getShaders(e){for(const t of this.props.extensions)e=be(e,t.getShaders.call(this,t));return e}shouldUpdateState(e){return e.changeFlags.propsOrDataChanged}updateState(e){const t=this.getAttributeManager(),{dataChanged:n}=e.changeFlags;if(n&&t)if(Array.isArray(n))for(const e of n)t.invalidateAll(e);else t.invalidateAll();if(t){const{props:n}=e,r=this.internalState.hasPickingBuffer,i=Number.isInteger(n.highlightedObjectIndex)||n.pickable||n.extensions.some((e=>e.getNeedsPickingBuffer.call(this,e)));if(r!==i){this.internalState.hasPickingBuffer=i;const{pickingColors:e,instancePickingColors:n}=t.attributes,r=e||n;r&&(i&&r.constant&&(r.constant=!1,t.invalidate(r.id)),r.value||i||(r.constant=!0,r.value=[0,0,0]))}}}finalizeState(e){for(const e of this.getModels())e.delete();const t=this.getAttributeManager();t&&t.finalize(),this.context&&this.context.resourceManager.unsubscribe({consumerId:this.id}),this.internalState&&(this.internalState.uniformTransitions.clear(),this.internalState.finalize())}draw(e){for(const t of this.getModels())t.draw(e)}getPickingInfo({info:e,mode:t,sourceLayer:n}){const{index:r}=e;return r>=0&&Array.isArray(this.props.data)&&(e.object=this.props.data[r]),e}raiseError(e,t){var n,r,i,s;t&&(e=new Error("".concat(t,": ").concat(e.message),{cause:e})),null!==(n=(r=this.props).onError)&&void 0!==n&&n.call(r,e)||null===(i=this.context)||void 0===i||null===(s=i.onError)||void 0===s||s.call(i,e,this)}getNeedsRedraw(e={clearRedrawFlags:!1}){return this._getNeedsRedraw(e)}needsUpdate(){return!!this.internalState&&(this.internalState.needsUpdate||this.hasUniformTransition()||this.shouldUpdateState(this._getUpdateParams()))}hasUniformTransition(){var e;return(null===(e=this.internalState)||void 0===e?void 0:e.uniformTransitions.active)||!1}activateViewport(e){if(!this.internalState)return;const t=this.internalState.viewport;this.internalState.viewport=e,t&&Ke({oldViewport:t,viewport:e})||(this.setChangeFlags({viewportChanged:!0}),this.isComposite?this.needsUpdate()&&this.setNeedsUpdate():this._update())}invalidateAttribute(e="all"){const t=this.getAttributeManager();t&&("all"===e?t.invalidateAll():t.invalidate(e))}updateAttributes(e){for(const t of this.getModels())this._setModelAttributes(t,e)}_updateAttributes(){const e=this.getAttributeManager();if(!e)return;const t=this.props,n=this.getNumInstances(),r=this.getStartIndices();e.update({data:t.data,numInstances:n,startIndices:r,props:t,transitions:t.transitions,buffers:t.data.attributes,context:this});const i=e.getChangedAttributes({clearChangedFlags:!0});this.updateAttributes(i)}_updateAttributeTransition(){const e=this.getAttributeManager();e&&e.updateTransition()}_updateUniformTransition(){const{uniformTransitions:e}=this.internalState;if(e.active){const t=e.update(),n=Object.create(this.props);for(const e in t)Object.defineProperty(n,e,{value:t[e]});return n}return this.props}calculateInstancePickingColors(e,{numInstances:t}){if(e.constant)return;const n=Math.floor(Xe.length/3);if(this.internalState.usesPickingColorCache=!0,n<t){t>We&&h.Z.warn("Layer has too many data objects. Picking might not be able to distinguish all objects.")(),Xe=c.Z.allocate(Xe,t,{size:3,copy:!0,maxCount:Math.max(t,We)});const e=Math.floor(Xe.length/3),r=[];for(let t=n;t<e;t++)this.encodePickingColor(t,r),Xe[3*t+0]=r[0],Xe[3*t+1]=r[1],Xe[3*t+2]=r[2]}e.value=Xe.subarray(0,3*t)}_setModelAttributes(e,t){const n=this.getAttributeManager(),r=e.userData.excludeAttributes||{},i=n.getShaderAttributes(t,r);e.setAttributes(i)}disablePickingIndex(e){const t=this.props.data;if(!("attributes"in t))return void this._disablePickingIndex(e);const{pickingColors:n,instancePickingColors:r}=this.getAttributeManager().attributes,i=n||r,s=i&&t.attributes&&t.attributes[i.id];if(s&&s.value){const n=s.value,r=this.encodePickingColor(e);for(let e=0;e<t.length;e++){const t=i.getVertexOffset(e);n[t]===r[0]&&n[t+1]===r[1]&&n[t+2]===r[2]&&this._disablePickingIndex(e)}}else this._disablePickingIndex(e)}_disablePickingIndex(e){const{pickingColors:t,instancePickingColors:n}=this.getAttributeManager().attributes,r=t||n;if(!r)return;const i=r.getVertexOffset(e),s=r.getVertexOffset(e+1);r.buffer.subData({data:new Uint8Array(s-i),offset:i})}restorePickingColors(){const{pickingColors:e,instancePickingColors:t}=this.getAttributeManager().attributes,n=e||t;n&&(this.internalState.usesPickingColorCache&&n.value.buffer!==Xe.buffer&&(n.value=Xe.subarray(0,n.value.length)),n.updateSubBuffer({startOffset:0}))}_initialize(){(0,g.Z)(!this.internalState),(0,g.Z)(Number.isFinite(this.props.coordinateSystem)),(0,P.Z)("layer.initialize",this);const e=this._getAttributeManager();e&&e.addInstanced({instancePickingColors:{type:5121,size:3,noAlloc:!0,update:this.calculateInstancePickingColors}}),this.internalState=new He({attributeManager:e,layer:this}),this._clearChangeFlags(),this.state={},Object.defineProperty(this.state,"attributeManager",{get:()=>(h.Z.deprecated("layer.state.attributeManager","layer.getAttributeManager()")(),e)}),this.internalState.uniformTransitions=new de(this.context.timeline),this.internalState.onAsyncPropUpdated=this._onAsyncPropUpdated.bind(this),this.internalState.setAsyncProps(this.props),this.initializeState(this.context);for(const e of this.props.extensions)e.initializeState.call(this,this.context,e);this.setChangeFlags({dataChanged:"init",propsChanged:"init",viewportChanged:!0,extensionsChanged:!0}),this._update()}_transferState(e){(0,P.Z)("layer.matched",this,this===e);const{state:t,internalState:n}=e;this!==e&&(this.internalState=n,this.state=t,this.internalState.setAsyncProps(this.props),this._diffProps(this.props,this.internalState.getOldProps()))}_update(){const e=this.needsUpdate();if((0,P.Z)("layer.update",this,e),!e)return;const t=this.props,n=this.context,r=this.internalState,i=n.viewport,s=this._updateUniformTransition();r.propsInTransition=s,n.viewport=r.viewport||i,this.props=s;try{const e=this._getUpdateParams(),t=this.getModels();if(n.gl)this.updateState(e);else try{this.updateState(e)}catch(e){}for(const t of this.props.extensions)t.updateState.call(this,e,t);const r=this.getModels()[0]!==t[0];this._postUpdate(e,r)}finally{n.viewport=i,this.props=t,this._clearChangeFlags(),r.needsUpdate=!1,r.resetOldProps()}}_finalize(){(0,P.Z)("layer.finalize",this),this.finalizeState(this.context);for(const e of this.props.extensions)e.finalizeState.call(this,this.context,e)}_drawLayer({moduleParameters:e=null,uniforms:t={},parameters:n={}}){this._updateAttributeTransition();const r=this.props,i=this.context;this.props=this.internalState.propsInTransition||r;const s=this.props.opacity;t.opacity=Math.pow(s,1/2.2);try{e&&this.setModuleParameters(e);const{getPolygonOffset:r}=this.props,s=r&&r(t)||[0,0];(0,F.dR)(i.gl,{polygonOffset:s}),(0,F.s8)(i.gl,n,(()=>{const r={moduleParameters:e,uniforms:t,parameters:n,context:i};for(const e of this.props.extensions)e.draw.call(this,r,e);this.draw(r)}))}finally{this.props=r}}getChangeFlags(){var e;return null===(e=this.internalState)||void 0===e?void 0:e.changeFlags}setChangeFlags(e){if(!this.internalState)return;const{changeFlags:t}=this.internalState;for(const n in e)if(e[n]){let r=!1;if("dataChanged"===n){const i=e[n],s=t[n];i&&Array.isArray(s)&&(t.dataChanged=Array.isArray(i)?s.concat(i):i,r=!0)}t[n]||(t[n]=e[n],r=!0),r&&(0,P.Z)("layer.changeFlag",this,n,e)}const n=Boolean(t.dataChanged||t.updateTriggersChanged||t.propsChanged||t.extensionsChanged);t.propsOrDataChanged=n,t.somethingChanged=n||t.viewportChanged||t.stateChanged}_clearChangeFlags(){this.internalState.changeFlags={dataChanged:!1,propsChanged:!1,updateTriggersChanged:!1,viewportChanged:!1,stateChanged:!1,extensionsChanged:!1,propsOrDataChanged:!1,somethingChanged:!1}}_diffProps(e,t){const n=function(e,t){const n=ge({newProps:e,oldProps:t,propTypes:e[fe.Wb],ignoreProps:{data:null,updateTriggers:null,extensions:null,transitions:null}}),r=function(e,t){if(null===t)return"oldProps is null, initial diff";let n=!1;const{dataComparator:r,_dataDiff:i}=e;return r?r(e.data,t.data)||(n="Data comparator detected a change"):e.data!==t.data&&(n="A new data container was supplied"),n&&i&&(n=i(e.data,t.data)||n),n}(e,t);let i=!1;return r||(i=function(e,t){if(null===t)return{all:!0};if("all"in e.updateTriggers&&ye(e,t,"all"))return{all:!0};const n={};let r=!1;for(const i in e.updateTriggers)"all"!==i&&ye(e,t,i)&&(n[i]=!0,r=!0);return!!r&&n}(e,t)),{dataChanged:r,propsChanged:n,updateTriggersChanged:i,extensionsChanged:ve(e,t),transitionsChanged:pe(e,t)}}(e,t);if(n.updateTriggersChanged)for(const e in n.updateTriggersChanged)n.updateTriggersChanged[e]&&this.invalidateAttribute(e);if(n.transitionsChanged)for(const i in n.transitionsChanged){var r;this.internalState.uniformTransitions.add(i,t[i],e[i],null===(r=e.transitions)||void 0===r?void 0:r[i])}return this.setChangeFlags(n)}validateProps(){!function(e){const t=e[fe.Wb];for(const n in t){const r=t[n],{validate:i}=r;if(i&&!i(e[n],r))throw new Error("Invalid prop ".concat(n,": ").concat(e[n]))}}(this.props)}updateAutoHighlight(e){this.props.autoHighlight&&!Number.isInteger(this.props.highlightedObjectIndex)&&this._updateAutoHighlight(e)}_updateAutoHighlight(e){const t={pickingSelectedColor:e.picked?e.color:null},{highlightColor:n}=this.props;e.picked&&"function"==typeof n&&(t.pickingHighlightColor=n(e)),this.setModuleParameters(t),this.setNeedsRedraw()}_getAttributeManager(){const e=this.context;return new ie(e.gl,{id:this.props.id,stats:e.stats,timeline:e.timeline})}_postUpdate(e,t){const{props:n,oldProps:r}=e;this.setNeedsRedraw(),this._updateAttributes();const{model:i}=this.state;null==i||i.setInstanceCount(this.getNumInstances());const{autoHighlight:s,highlightedObjectIndex:o,highlightColor:a}=n;if(t||r.autoHighlight!==s||r.highlightedObjectIndex!==o||r.highlightColor!==a){const e={};s||(e.pickingSelectedColor=null),Array.isArray(a)&&(e.pickingHighlightColor=a),(t||o!==r.highlightedObjectIndex)&&(e.pickingSelectedColor=Number.isFinite(o)&&o>=0?this.encodePickingColor(o):null),this.setModuleParameters(e)}}_getUpdateParams(){return{props:this.props,oldProps:this.internalState.getOldProps(),context:this.context,changeFlags:this.internalState.changeFlags}}_getNeedsRedraw(e){if(!this.internalState)return!1;let t=!1;t=t||this.internalState.needsRedraw&&this.id;const n=this.getAttributeManager(),r=!!n&&n.getNeedsRedraw(e);if(t=t||r,t)for(const e of this.props.extensions)e.onNeedsRedraw.call(this,e);return this.internalState.needsRedraw=this.internalState.needsRedraw&&!e.clearRedrawFlags,t}_onAsyncPropUpdated(){this._diffProps(this.props,this.internalState.getOldProps()),this.setNeedsUpdate()}}(0,r.Z)(Ye,"defaultProps",qe),(0,r.Z)(Ye,"layerName","Layer")},5409:(e,t,n)=>{"use strict";n.d(t,{E7:()=>o,Wb:()=>s,bN:()=>c,dt:()=>r,fO:()=>l,fm:()=>i,lY:()=>a});const r={NO_STATE:"Awaiting state",MATCHED:"Matched. State transferred from previous layer",INITIALIZED:"Initialized",AWAITING_GC:"Discarded. Awaiting garbage collection",AWAITING_FINALIZATION:"No longer matched. Awaiting garbage collection",FINALIZED:"Finalized! Awaiting garbage collection"},i=Symbol.for("component"),s=Symbol.for("propTypes"),o=Symbol.for("deprecatedProps"),a=Symbol.for("asyncPropDefaults"),l=Symbol.for("asyncPropOriginal"),c=Symbol.for("asyncPropResolved")},1331:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const r={pickingSelectedColor:null,pickingHighlightColor:new Uint8Array([0,255,255,255]),pickingActive:!1,pickingAttribute:!1},i={inject:{"vs:DECKGL_FILTER_GL_POSITION":"\n    // for picking depth values\n    picking_setPickingAttribute(position.z / position.w);\n  ","vs:DECKGL_FILTER_COLOR":"\n  picking_setPickingColor(geometry.pickingColor);\n  ","fs:#decl":"\nuniform bool picking_uAttribute;\n  ","fs:DECKGL_FILTER_COLOR":{order:99,injection:"\n  // use highlight color if this fragment belongs to the selected object.\n  color = picking_filterHighlightColor(color);\n\n  // use picking color if rendering to picking FBO.\n  color = picking_filterPickingColor(color);\n    "}},name:"picking",vs:"uniform bool picking_uActive;\nuniform bool picking_uAttribute;\nuniform vec3 picking_uSelectedColor;\nuniform bool picking_uSelectedColorValid;\n\nout vec4 picking_vRGBcolor_Avalid;\n\nconst float COLOR_SCALE = 1. / 255.;\n\nbool picking_isColorValid(vec3 color) {\n  return dot(color, vec3(1.0)) > 0.001;\n}\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    picking_uSelectedColorValid &&\n    !picking_isColorValid(abs(vertexColor - picking_uSelectedColor));\n}\n\nvoid picking_setPickingColor(vec3 pickingColor) {\n  if (picking_uActive) {\n    picking_vRGBcolor_Avalid.a = float(picking_isColorValid(pickingColor));\n\n    if (!picking_uAttribute) {\n      picking_vRGBcolor_Avalid.rgb = pickingColor * COLOR_SCALE;\n    }\n  } else {\n    picking_vRGBcolor_Avalid.a = float(isVertexPicked(pickingColor));\n  }\n}\n\nvoid picking_setPickingAttribute(float value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.r = value;\n  }\n}\nvoid picking_setPickingAttribute(vec2 value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.rg = value;\n  }\n}\nvoid picking_setPickingAttribute(vec3 value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.rgb = value;\n  }\n}\n",fs:"uniform bool picking_uActive;\nuniform vec3 picking_uSelectedColor;\nuniform vec4 picking_uHighlightColor;\n\nin vec4 picking_vRGBcolor_Avalid;\nvec4 picking_filterHighlightColor(vec4 color) {\n  if (picking_uActive) {\n    return color;\n  }\n  bool selected = bool(picking_vRGBcolor_Avalid.a);\n\n  if (selected) {\n    float highLightAlpha = picking_uHighlightColor.a;\n    float blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);\n    float highLightRatio = highLightAlpha / blendedAlpha;\n\n    vec3 blendedRGB = mix(color.rgb, picking_uHighlightColor.rgb, highLightRatio);\n    return vec4(blendedRGB, blendedAlpha);\n  } else {\n    return color;\n  }\n}\nvec4 picking_filterPickingColor(vec4 color) {\n  if (picking_uActive) {\n    if (picking_vRGBcolor_Avalid.a == 0.0) {\n      discard;\n    }\n    return picking_vRGBcolor_Avalid;\n  }\n  return color;\n}\nvec4 picking_filterColor(vec4 color) {\n  vec4 highightColor = picking_filterHighlightColor(color);\n  return picking_filterPickingColor(highightColor);\n}\n\n",getUniforms:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;const t={};if(void 0!==e.pickingSelectedColor)if(e.pickingSelectedColor){const n=e.pickingSelectedColor.slice(0,3);t.picking_uSelectedColorValid=1,t.picking_uSelectedColor=n}else t.picking_uSelectedColorValid=0;if(e.pickingHighlightColor){const n=Array.from(e.pickingHighlightColor,(e=>e/255));Number.isFinite(n[3])||(n[3]=1),t.picking_uHighlightColor=n}return void 0!==e.pickingActive&&(t.picking_uActive=Boolean(e.pickingActive),t.picking_uAttribute=Boolean(e.pickingAttribute)),t}}},6084:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});const r="#define SMOOTH_EDGE_RADIUS 0.5",i={name:"geometry",vs:"\n".concat(r,"\n\nstruct VertexGeometry {\n  vec4 position;\n  vec3 worldPosition;\n  vec3 worldPositionAlt;\n  vec3 normal;\n  vec2 uv;\n  vec3 pickingColor;\n} geometry = VertexGeometry(\n  vec4(0.0, 0.0, 1.0, 0.0),\n  vec3(0.0),\n  vec3(0.0),\n  vec3(0.0),\n  vec2(0.0),\n  vec3(0.0)\n);\n"),fs:"\n".concat(r,"\n\nstruct FragmentGeometry {\n  vec2 uv;\n} geometry;\n\nfloat smoothedge(float edge, float x) {\n  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);\n}\n")};var s=n(4088);const o=Object.keys(s.Df).map((e=>"const int COORDINATE_SYSTEM_".concat(e," = ").concat(s.Df[e],";"))).join(""),a=Object.keys(s.zG).map((e=>"const int PROJECTION_MODE_".concat(e," = ").concat(s.zG[e],";"))).join(""),l=Object.keys(s.iI).map((e=>"const int UNIT_".concat(e.toUpperCase()," = ").concat(s.iI[e],";"))).join(""),c="".concat(o,"\n").concat(a,"\n").concat(l,"\n\nuniform int project_uCoordinateSystem;\nuniform int project_uProjectionMode;\nuniform float project_uScale;\nuniform bool project_uWrapLongitude;\nuniform vec3 project_uCommonUnitsPerMeter;\nuniform vec3 project_uCommonUnitsPerWorldUnit;\nuniform vec3 project_uCommonUnitsPerWorldUnit2;\nuniform vec4 project_uCenter;\nuniform mat4 project_uModelMatrix;\nuniform mat4 project_uViewProjectionMatrix;\nuniform vec2 project_uViewportSize;\nuniform float project_uDevicePixelRatio;\nuniform float project_uFocalDistance;\nuniform vec3 project_uCameraPosition;\nuniform vec3 project_uCoordinateOrigin;\nuniform vec3 project_uCommonOrigin;\nuniform bool project_uPseudoMeters;\n\nconst float TILE_SIZE = 512.0;\nconst float PI = 3.1415926536;\nconst float WORLD_SCALE = TILE_SIZE / (PI * 2.0);\nconst vec3 ZERO_64_LOW = vec3(0.0);\nconst float EARTH_RADIUS = 6370972.0;\nconst float GLOBE_RADIUS = 256.0;\nfloat project_size_at_latitude(float lat) {\n  float y = clamp(lat, -89.9, 89.9);\n  return 1.0 / cos(radians(y));\n}\n\nfloat project_size() {\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR &&\n    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT &&\n    project_uPseudoMeters == false) {\n    \n    if (geometry.position.w == 0.0) {\n      return project_size_at_latitude(geometry.worldPosition.y);\n    }\n  \n    float y = geometry.position.y / TILE_SIZE * 2.0 - 1.0;\n    float y2 = y * y;\n    float y4 = y2 * y2;\n    float y6 = y4 * y2;\n    return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;\n  }\n  return 1.0;\n}\n\nfloat project_size_at_latitude(float meters, float lat) {\n  return meters * project_uCommonUnitsPerMeter.z * project_size_at_latitude(lat);\n}\nfloat project_size(float meters) {\n  return meters * project_uCommonUnitsPerMeter.z * project_size();\n}\n\nvec2 project_size(vec2 meters) {\n  return meters * project_uCommonUnitsPerMeter.xy * project_size();\n}\n\nvec3 project_size(vec3 meters) {\n  return meters * project_uCommonUnitsPerMeter * project_size();\n}\n\nvec4 project_size(vec4 meters) {\n  return vec4(meters.xyz * project_uCommonUnitsPerMeter, meters.w);\n}\nmat3 project_get_orientation_matrix(vec3 up) {\n  vec3 uz = normalize(up);\n  vec3 ux = abs(uz.z) == 1.0 ? vec3(1.0, 0.0, 0.0) : normalize(vec3(uz.y, -uz.x, 0));\n  vec3 uy = cross(uz, ux);\n  return mat3(ux, uy, uz);\n}\n\nbool project_needs_rotation(vec3 commonPosition, out mat3 transform) {\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\n    transform = project_get_orientation_matrix(commonPosition);\n    return true;\n  }\n  return false;\n}\nvec3 project_normal(vec3 vector) {\n  vec4 normal_modelspace = project_uModelMatrix * vec4(vector, 0.0);\n  vec3 n = normalize(normal_modelspace.xyz * project_uCommonUnitsPerMeter);\n  mat3 rotation;\n  if (project_needs_rotation(geometry.position.xyz, rotation)) {\n    n = rotation * n;\n  }\n  return n;\n}\n\nvec4 project_offset_(vec4 offset) {\n  float dy = offset.y;\n  vec3 commonUnitsPerWorldUnit = project_uCommonUnitsPerWorldUnit + project_uCommonUnitsPerWorldUnit2 * dy;\n  return vec4(offset.xyz * commonUnitsPerWorldUnit, offset.w);\n}\nvec2 project_mercator_(vec2 lnglat) {\n  float x = lnglat.x;\n  if (project_uWrapLongitude) {\n    x = mod(x + 180., 360.0) - 180.;\n  }\n  float y = clamp(lnglat.y, -89.9, 89.9);\n  return vec2(\n    radians(x) + PI,\n    PI + log(tan_fp32(PI * 0.25 + radians(y) * 0.5))\n  ) * WORLD_SCALE;\n}\n\nvec3 project_globe_(vec3 lnglatz) {\n  float lambda = radians(lnglatz.x);\n  float phi = radians(lnglatz.y);\n  float cosPhi = cos(phi);\n  float D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;\n\n  return vec3(\n    sin(lambda) * cosPhi,\n    -cos(lambda) * cosPhi,\n    sin(phi)\n  ) * D;\n}\nvec4 project_position(vec4 position, vec3 position64Low) {\n  vec4 position_world = project_uModelMatrix * position;\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      return vec4(\n        project_mercator_(position_world.xy),\n        project_size_at_latitude(position_world.z, position_world.y),\n        position_world.w\n      );\n    }\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {\n      position_world.xyz += project_uCoordinateOrigin;\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      return vec4(\n        project_globe_(position_world.xyz),\n        position_world.w\n      );\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      if (abs(position_world.y - project_uCoordinateOrigin.y) > 0.25) {\n        return vec4(\n          project_mercator_(position_world.xy) - project_uCommonOrigin.xy,\n          project_size(position_world.z),\n          position_world.w\n        );\n      }\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_IDENTITY ||\n    (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&\n    (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n     project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {\n    position_world.xyz -= project_uCoordinateOrigin;\n  }\n  return project_offset_(position_world + project_uModelMatrix * vec4(position64Low, 0.0));\n}\n\nvec4 project_position(vec4 position) {\n  return project_position(position, ZERO_64_LOW);\n}\n\nvec3 project_position(vec3 position, vec3 position64Low) {\n  vec4 projected_position = project_position(vec4(position, 1.0), position64Low);\n  return projected_position.xyz;\n}\n\nvec3 project_position(vec3 position) {\n  vec4 projected_position = project_position(vec4(position, 1.0), ZERO_64_LOW);\n  return projected_position.xyz;\n}\n\nvec2 project_position(vec2 position) {\n  vec4 projected_position = project_position(vec4(position, 0.0, 1.0), ZERO_64_LOW);\n  return projected_position.xy;\n}\n\nvec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {\n  return viewProjectionMatrix * position + center;\n}\nvec4 project_common_position_to_clipspace(vec4 position) {\n  return project_common_position_to_clipspace(position, project_uViewProjectionMatrix, project_uCenter);\n}\nvec2 project_pixel_size_to_clipspace(vec2 pixels) {\n  vec2 offset = pixels / project_uViewportSize * project_uDevicePixelRatio * 2.0;\n  return offset * project_uFocalDistance;\n}\n\nfloat project_size_to_pixel(float meters) {\n  return project_size(meters) * project_uScale;\n}\nfloat project_size_to_pixel(float size, int unit) {\n  if (unit == UNIT_METERS) return project_size_to_pixel(size);\n  if (unit == UNIT_COMMON) return size * project_uScale;\n  return size;\n}\nfloat project_pixel_size(float pixels) {\n  return pixels / project_uScale;\n}\nvec2 project_pixel_size(vec2 pixels) {\n  return pixels / project_uScale;\n}\n");var u=n(8771);const h={},d={name:"project",dependencies:[{name:"fp32",vs:"#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\nconst float TWO_PI = 6.2831854820251465;\nconst float PI_2 = 1.5707963705062866;\nconst float PI_16 = 0.1963495463132858;\n\nconst float SIN_TABLE_0 = 0.19509032368659973;\nconst float SIN_TABLE_1 = 0.3826834261417389;\nconst float SIN_TABLE_2 = 0.5555702447891235;\nconst float SIN_TABLE_3 = 0.7071067690849304;\n\nconst float COS_TABLE_0 = 0.9807852506637573;\nconst float COS_TABLE_1 = 0.9238795042037964;\nconst float COS_TABLE_2 = 0.8314695954322815;\nconst float COS_TABLE_3 = 0.7071067690849304;\n\nconst float INVERSE_FACTORIAL_3 = 1.666666716337204e-01;\nconst float INVERSE_FACTORIAL_5 = 8.333333767950535e-03;\nconst float INVERSE_FACTORIAL_7 = 1.9841270113829523e-04;\nconst float INVERSE_FACTORIAL_9 = 2.75573188446287533e-06;\n\nfloat sin_taylor_fp32(float a) {\n  float r, s, t, x;\n\n  if (a == 0.0) {\n    return 0.0;\n  }\n\n  x = -a * a;\n  s = a;\n  r = a;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_3;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_5;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_7;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_9;\n  s = s + t;\n\n  return s;\n}\n\nvoid sincos_taylor_fp32(float a, out float sin_t, out float cos_t) {\n  if (a == 0.0) {\n    sin_t = 0.0;\n    cos_t = 1.0;\n  }\n  sin_t = sin_taylor_fp32(a);\n  cos_t = sqrt(1.0 - sin_t * sin_t);\n}\n\nfloat tan_taylor_fp32(float a) {\n    float sin_a;\n    float cos_a;\n\n    if (a == 0.0) {\n        return 0.0;\n    }\n    float z = floor(a / TWO_PI);\n    float r = a - TWO_PI * z;\n\n    float t;\n    float q = floor(r / PI_2 + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return 1.0 / 0.0;\n    }\n\n    t = r - PI_2 * q;\n\n    q = floor(t / PI_16 + 0.5);\n    int k = int(q);\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return 1.0 / 0.0;\n    } else {\n        t = t - PI_16 * q;\n    }\n\n    float u = 0.0;\n    float v = 0.0;\n\n    float sin_t, cos_t;\n    float s, c;\n    sincos_taylor_fp32(t, sin_t, cos_t);\n\n    if (k == 0) {\n        s = sin_t;\n        c = cos_t;\n    } else {\n        if (abs(float(abs_k) - 1.0) < 0.5) {\n            u = COS_TABLE_0;\n            v = SIN_TABLE_0;\n        } else if (abs(float(abs_k) - 2.0) < 0.5) {\n            u = COS_TABLE_1;\n            v = SIN_TABLE_1;\n        } else if (abs(float(abs_k) - 3.0) < 0.5) {\n            u = COS_TABLE_2;\n            v = SIN_TABLE_2;\n        } else if (abs(float(abs_k) - 4.0) < 0.5) {\n            u = COS_TABLE_3;\n            v = SIN_TABLE_3;\n        }\n        if (k > 0) {\n            s = u * sin_t + v * cos_t;\n            c = u * cos_t - v * sin_t;\n        } else {\n            s = u * sin_t - v * cos_t;\n            c = u * cos_t + v * sin_t;\n        }\n    }\n\n    if (j == 0) {\n        sin_a = s;\n        cos_a = c;\n    } else if (j == 1) {\n        sin_a = c;\n        cos_a = -s;\n    } else if (j == -1) {\n        sin_a = -c;\n        cos_a = s;\n    } else {\n        sin_a = -s;\n        cos_a = -c;\n    }\n    return sin_a / cos_a;\n}\n#endif\n\nfloat tan_fp32(float a) {\n#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\n  return tan_taylor_fp32(a);\n#else\n  return tan(a);\n#endif\n}\n",fs:null},i],vs:c,getUniforms:function(e=h){return"viewport"in e?(0,u.C)(e):{}}}},8771:(e,t,n)=>{"use strict";n.d(t,{C:()=>p,v:()=>f});var r=n(5975),i=n(8333),s=n(4088),o=n(8177);const a=[0,0,0,0],l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],u=[0,0,0],h=[0,0,0],d=(0,o.Z)((function({viewport:e,devicePixelRatio:t,coordinateSystem:n,coordinateOrigin:o}){const{projectionCenter:h,viewProjectionMatrix:d,originCommon:p,cameraPosCommon:g,shaderCoordinateOrigin:m,geospatialOrigin:v}=function(e,t,n){const{viewMatrixUncentered:s,projectionMatrix:o}=e;let{viewMatrix:c,viewProjectionMatrix:u}=e,h=a,d=a,p=e.cameraPosition;const{geospatialOrigin:g,shaderCoordinateOrigin:m,offsetMode:v}=f(e,t,n);return v&&(d=e.projectPosition(g||m),p=[p[0]-d[0],p[1]-d[1],p[2]-d[2]],d[3]=1,h=i.fF([],d,u),c=s||c,u=r.Jp([],o,c),u=r.Jp([],u,l)),{viewMatrix:c,viewProjectionMatrix:u,projectionCenter:h,originCommon:d,cameraPosCommon:p,shaderCoordinateOrigin:m,geospatialOrigin:g}}(e,n,o),y=e.getDistanceScales(),b=[e.width*t,e.height*t],w=i.fF([],[0,0,-e.focalDistance,1],e.projectionMatrix)[3]||1,_={project_uCoordinateSystem:n,project_uProjectionMode:e.projectionMode,project_uCoordinateOrigin:m,project_uCommonOrigin:p.slice(0,3),project_uCenter:h,project_uPseudoMeters:Boolean(e._pseudoMeters),project_uViewportSize:b,project_uDevicePixelRatio:t,project_uFocalDistance:w,project_uCommonUnitsPerMeter:y.unitsPerMeter,project_uCommonUnitsPerWorldUnit:y.unitsPerMeter,project_uCommonUnitsPerWorldUnit2:u,project_uScale:e.scale,project_uWrapLongitude:!1,project_uViewProjectionMatrix:d,project_uModelMatrix:c,project_uCameraPosition:g};if(v){const t=e.getDistanceScales(v);switch(n){case s.Df.METER_OFFSETS:_.project_uCommonUnitsPerWorldUnit=t.unitsPerMeter,_.project_uCommonUnitsPerWorldUnit2=t.unitsPerMeter2;break;case s.Df.LNGLAT:case s.Df.LNGLAT_OFFSETS:e._pseudoMeters||(_.project_uCommonUnitsPerMeter=t.unitsPerMeter),_.project_uCommonUnitsPerWorldUnit=t.unitsPerDegree,_.project_uCommonUnitsPerWorldUnit2=t.unitsPerDegree2;break;case s.Df.CARTESIAN:_.project_uCommonUnitsPerWorldUnit=[1,1,t.unitsPerMeter[2]],_.project_uCommonUnitsPerWorldUnit2=[0,0,t.unitsPerMeter2[2]]}}return _}));function f(e,t,n=h){n.length<3&&(n=[n[0],n[1],0]);let r,i=n,o=!0;switch(r=t===s.Df.LNGLAT_OFFSETS||t===s.Df.METER_OFFSETS?n:e.isGeospatial?[Math.fround(e.longitude),Math.fround(e.latitude),0]:null,e.projectionMode){case s.zG.WEB_MERCATOR:t!==s.Df.LNGLAT&&t!==s.Df.CARTESIAN||(r=[0,0,0],o=!1);break;case s.zG.WEB_MERCATOR_AUTO_OFFSET:t===s.Df.LNGLAT?i=r:t===s.Df.CARTESIAN&&(i=[Math.fround(e.center[0]),Math.fround(e.center[1]),0],r=e.unprojectPosition(i),i[0]-=n[0],i[1]-=n[1],i[2]-=n[2]);break;case s.zG.IDENTITY:i=e.position.map(Math.fround),i[2]=i[2]||0;break;case s.zG.GLOBE:o=!1,r=null;break;default:o=!1}return{geospatialOrigin:r,shaderCoordinateOrigin:i,offsetMode:o}}function p({viewport:e,devicePixelRatio:t=1,modelMatrix:n=null,coordinateSystem:r=s.Df.DEFAULT,coordinateOrigin:i=h,autoWrapLongitude:o=!1}){r===s.Df.DEFAULT&&(r=e.isGeospatial?s.Df.LNGLAT:s.Df.CARTESIAN);const a=d({viewport:e,devicePixelRatio:t,coordinateSystem:r,coordinateOrigin:i});return a.project_uWrapLongitude=o,a.project_uModelMatrix=n||c,a}},3844:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={name:"project32",dependencies:[n(6084).Z],vs:"\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset, out vec4 commonPosition\n) {\n  vec3 projectedPosition = project_position(position, position64Low);\n  mat3 rotation;\n  if (project_needs_rotation(projectedPosition, rotation)) {\n    // offset is specified as ENU\n    // when in globe projection, rotate offset so that the ground alighs with the surface of the globe\n    offset = rotation * offset;\n  }\n  commonPosition = vec4(projectedPosition + offset, 1.0);\n  return project_common_position_to_clipspace(commonPosition);\n}\n\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset\n) {\n  vec4 commonPosition;\n  return project_position_to_clipspace(position, position64Low, offset, commonPosition);\n}\n"}},7045:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(4572),i=n(6507),s=n(4034),o=n(7013);const a={bearing:0,pitch:0,position:[0,0,0]},l={speed:1.2,curve:1.414};class c extends i.Z{constructor(e={}){super({compare:["longitude","latitude","zoom","bearing","pitch","position"],extract:["width","height","longitude","latitude","zoom","bearing","pitch","position"],required:["width","height","latitude","longitude","zoom"]}),(0,r.Z)(this,"opts",void 0),this.opts={...l,...e}}interpolateProps(e,t,n){const r=(0,o.if)(e,t,n,this.opts);for(const i in a)r[i]=(0,s.t7)(e[i]||a[i],t[i]||a[i],n);return r}getDuration(e,t){let{transitionDuration:n}=t;return"auto"===n&&(n=(0,o.up)(e,t,this.opts)),n}}},6507:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(4572),i=n(4034),s=n(5304);class o{constructor(e){(0,r.Z)(this,"_propsToCompare",void 0),(0,r.Z)(this,"_propsToExtract",void 0),(0,r.Z)(this,"_requiredProps",void 0);const{compare:t,extract:n,required:i}=e;this._propsToCompare=t,this._propsToExtract=n||t,this._requiredProps=i}arePropsEqual(e,t){for(const n of this._propsToCompare)if(!(n in e)||!(n in t)||!(0,i.fS)(e[n],t[n]))return!1;return!0}initializeProps(e,t){const n={},r={};for(const i of this._propsToExtract)(i in e||i in t)&&(n[i]=e[i],r[i]=t[i]);return this._checkRequiredProps(n),this._checkRequiredProps(r),{start:n,end:r}}getDuration(e,t){return t.transitionDuration}_checkRequiredProps(e){this._requiredProps&&this._requiredProps.forEach((t=>{const n=e[t];(0,s.Z)(Number.isFinite(n)||Array.isArray(n),"".concat(t," is required for transition"))}))}}},3630:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(4572);class i{constructor(e){(0,r.Z)(this,"_inProgress",void 0),(0,r.Z)(this,"_handle",void 0),(0,r.Z)(this,"_timeline",void 0),(0,r.Z)(this,"time",void 0),(0,r.Z)(this,"settings",void 0),this._inProgress=!1,this._handle=null,this._timeline=e,this.time=0,this.settings={duration:0}}get inProgress(){return this._inProgress}start(e){var t,n;this.cancel(),this.settings=e,this._inProgress=!0,null===(t=(n=this.settings).onStart)||void 0===t||t.call(n,this)}end(){var e,t;this._inProgress&&(this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1,null===(e=(t=this.settings).onEnd)||void 0===e||e.call(t,this))}cancel(){var e,t;this._inProgress&&(null===(e=(t=this.settings).onInterrupt)||void 0===e||e.call(t,this),this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1)}update(){var e,t;if(!this._inProgress)return!1;if(null===this._handle){const{_timeline:e,settings:t}=this;this._handle=e.addChannel({delay:e.getTime(),duration:t.duration})}return this.time=this._timeline.getTime(this._handle),this._onUpdate(),null===(e=(t=this.settings).onUpdate)||void 0===e||e.call(t,this),this._timeline.isFinished(this._handle)&&this.end(),!0}_onUpdate(){}}},5304:(e,t,n)=>{"use strict";function r(e,t){if(!e)throw new Error(t||"deck.gl: assertion failed.")}n.d(t,{Z:()=>r})},6871:(e,t,n)=>{"use strict";function r(e,t,n){if(e===t)return!0;if(!n||!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!r(e[i],t[i],n-1))return!1;return!0}if(Array.isArray(t))return!1;if("object"==typeof e&&"object"==typeof t){const i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(const s of i){if(!t.hasOwnProperty(s))return!1;if(!r(e[s],t[s],n-1))return!1}return!0}return!1}n.d(t,{v:()=>r})},1855:(e,t,n)=>{"use strict";function r(e,t=(()=>!0)){return Array.isArray(e)?i(e,t,[]):t(e)?[e]:[]}function i(e,t,n){let r=-1;for(;++r<e.length;){const s=e[r];Array.isArray(s)?i(s,t,n):t(s)&&n.push(s)}return n}function s({target:e,source:t,start:n=0,count:r=1}){const i=t.length,s=r*i;let o=0;for(let r=n;o<i;o++)e[r++]=t[o];for(;o<s;)o<s-o?(e.copyWithin(n+o,n,n+o),o*=2):(e.copyWithin(n+o,n,n+s-o),o=s);return e}n.d(t,{k:()=>s,x:()=>r})},8550:(e,t,n)=>{"use strict";n.d(t,{D0:()=>o,jB:()=>s,jr:()=>a});const r=[],i=[];function s(e,t=0,n=1/0){let s=r;const o={index:-1,data:e,target:[]};return e?"function"==typeof e[Symbol.iterator]?s=e:e.length>0&&(i.length=e.length,s=i):s=r,(t>0||Number.isFinite(n))&&(s=(Array.isArray(s)?s:Array.from(s)).slice(t,n),o.index=t-1),{iterable:s,objectInfo:o}}function o(e){return e&&e[Symbol.asyncIterator]}function a(e,t){const{size:n,stride:r,offset:i,startIndices:s,nested:o}=t,a=e.BYTES_PER_ELEMENT,l=r?r/a:n,c=i?i/a:0,u=Math.floor((e.length-c)/l);return(t,{index:r,target:i})=>{if(!s){const t=r*l+c;for(let r=0;r<n;r++)i[r]=e[t+r];return i}const a=s[r],h=s[r+1]||u;let d;if(o){d=new Array(h-a);for(let t=a;t<h;t++){const r=t*l+c;i=new Array(n);for(let t=0;t<n;t++)i[t]=e[r+t];d[t-a]=i}}else if(l===n)d=e.subarray(a*n+c,h*n+c);else{d=new e.constructor((h-a)*n);let t=0;for(let r=a;r<h;r++){const i=r*l+c;for(let r=0;r<n;r++)d[t++]=e[i+r]}}return d}}},744:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=new(n(9109).Z)({id:"deck"})},5126:(e,t,n)=>{"use strict";n.d(t,{Du:()=>a,TK:()=>h,Xt:()=>o,bS:()=>s,cc:()=>d});var r=n(6610),i=n(3855);function s(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function o(e){return[e[12],e[13],e[14]]}function a(e){return{left:c(e[3]+e[0],e[7]+e[4],e[11]+e[8],e[15]+e[12]),right:c(e[3]-e[0],e[7]-e[4],e[11]-e[8],e[15]-e[12]),bottom:c(e[3]+e[1],e[7]+e[5],e[11]+e[9],e[15]+e[13]),top:c(e[3]-e[1],e[7]-e[5],e[11]-e[9],e[15]-e[13]),near:c(e[3]+e[2],e[7]+e[6],e[11]+e[10],e[15]+e[14]),far:c(e[3]-e[2],e[7]-e[6],e[11]-e[10],e[15]-e[14])}}const l=new i.Z;function c(e,t,n,r){l.set(e,t,n);const s=l.len();return{distance:r/s,normal:new i.Z(-e/s,-t/s,-n/s)}}let u;function h(e,t){const{size:n=1,startIndex:i=0}=t,s=void 0!==t.endIndex?t.endIndex:e.length,o=(s-i)/n;u=r.Z.allocate(u,o,{type:Float32Array,size:2*n});let a=i,l=0;for(;a<s;){for(let t=0;t<n;t++){const r=e[a++];u[l+t]=r,u[l+t+n]=(c=r)-Math.fround(c)}l+=2*n}var c;return u.subarray(0,o*n*2)}function d(e){let t=null,n=!1;for(const r of e)r&&(t?(n||(t=[[t[0][0],t[0][1]],[t[1][0],t[1][1]]],n=!0),t[0][0]=Math.min(t[0][0],r[0][0]),t[0][1]=Math.min(t[0][1],r[0][1]),t[1][0]=Math.max(t[1][0],r[1][0]),t[1][1]=Math.max(t[1][1],r[1][1])):t=r);return t}},8177:(e,t,n)=>{"use strict";function r(e,t){if(e===t)return!0;if(Array.isArray(e)){const n=e.length;if(!t||t.length!==n)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}return!1}function i(e){let t,n={};return i=>{for(const s in i)if(!r(i[s],n[s])){t=e(i),n=i;break}return t}}n.d(t,{Z:()=>i})},6610:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(4572);const i=new class{constructor(e={}){(0,r.Z)(this,"_pool",[]),(0,r.Z)(this,"opts",{overAlloc:2,poolSize:100}),this.setOptions(e)}setOptions(e){Object.assign(this.opts,e)}allocate(e,t,{size:n=1,type:r,padding:i=0,copy:s=!1,initialize:o=!1,maxCount:a}){const l=r||e&&e.constructor||Float32Array,c=t*n+i;if(ArrayBuffer.isView(e)){if(c<=e.length)return e;if(c*e.BYTES_PER_ELEMENT<=e.buffer.byteLength)return new l(e.buffer,0,c)}let u=1/0;a&&(u=a*n+i);const h=this._allocate(l,c,o,u);return e&&s?h.set(e):o||h.fill(0,0,4),this._release(e),h}release(e){this._release(e)}_allocate(e,t,n,r){let i=Math.max(Math.ceil(t*this.opts.overAlloc),1);i>r&&(i=r);const s=this._pool,o=e.BYTES_PER_ELEMENT*i,a=s.findIndex((e=>e.byteLength>=o));if(a>=0){const t=new e(s.splice(a,1)[0],0,i);return n&&t.fill(0),t}return new e(i)}_release(e){if(!ArrayBuffer.isView(e))return;const t=this._pool,{buffer:n}=e,{byteLength:r}=n,i=t.findIndex((e=>e.byteLength>=r));i<0?t.push(n):(i>0||t.length<this.opts.poolSize)&&t.splice(i,0,n),t.length>this.opts.poolSize&&t.shift()}}},9225:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(4572),i=n(744),s=n(5126),o=n(5451),a=n(4034),l=n(3855),c=n(5975),u=n(7013),h=n(4088);const d=Math.PI/180,f=(0,s.bS)(),p=[0,0,0],g={unitsPerMeter:[1,1,1],metersPerUnit:[1,1,1]};class m{constructor(e={}){(0,r.Z)(this,"id",void 0),(0,r.Z)(this,"x",void 0),(0,r.Z)(this,"y",void 0),(0,r.Z)(this,"width",void 0),(0,r.Z)(this,"height",void 0),(0,r.Z)(this,"padding",void 0),(0,r.Z)(this,"isGeospatial",void 0),(0,r.Z)(this,"zoom",void 0),(0,r.Z)(this,"focalDistance",void 0),(0,r.Z)(this,"position",void 0),(0,r.Z)(this,"modelMatrix",void 0),(0,r.Z)(this,"distanceScales",void 0),(0,r.Z)(this,"scale",void 0),(0,r.Z)(this,"center",void 0),(0,r.Z)(this,"cameraPosition",void 0),(0,r.Z)(this,"projectionMatrix",void 0),(0,r.Z)(this,"viewMatrix",void 0),(0,r.Z)(this,"viewMatrixUncentered",void 0),(0,r.Z)(this,"viewMatrixInverse",void 0),(0,r.Z)(this,"viewProjectionMatrix",void 0),(0,r.Z)(this,"pixelProjectionMatrix",void 0),(0,r.Z)(this,"pixelUnprojectionMatrix",void 0),(0,r.Z)(this,"resolution",void 0),(0,r.Z)(this,"_frustumPlanes",{}),this.id=e.id||this.constructor.displayName||"viewport",this.x=e.x||0,this.y=e.y||0,this.width=e.width||1,this.height=e.height||1,this.zoom=e.zoom||0,this.padding=e.padding,this.distanceScales=e.distanceScales||g,this.focalDistance=e.focalDistance||1,this.position=e.position||p,this.modelMatrix=e.modelMatrix||null;const{longitude:t,latitude:n}=e;this.isGeospatial=Number.isFinite(n)&&Number.isFinite(t),this._initProps(e),this._initMatrices(e),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}get subViewports(){return null}get metersPerPixel(){return this.distanceScales.metersPerUnit[2]/this.scale}get projectionMode(){return this.isGeospatial?this.zoom<12?h.zG.WEB_MERCATOR:h.zG.WEB_MERCATOR_AUTO_OFFSET:h.zG.IDENTITY}equals(e){return e instanceof m&&(this===e||e.width===this.width&&e.height===this.height&&e.scale===this.scale&&(0,a.fS)(e.projectionMatrix,this.projectionMatrix)&&(0,a.fS)(e.viewMatrix,this.viewMatrix))}project(e,{topLeft:t=!0}={}){const n=this.projectPosition(e),r=(0,u.aW)(n,this.pixelProjectionMatrix),[i,s]=r,o=t?s:this.height-s;return 2===e.length?[i,o]:[i,o,r[2]]}unproject(e,{topLeft:t=!0,targetZ:n}={}){const[r,i,s]=e,o=t?i:this.height-i,a=n&&n*this.distanceScales.unitsPerMeter[2],l=(0,u.CT)([r,o,s],this.pixelUnprojectionMatrix,a),[c,h,d]=this.unprojectPosition(l);return Number.isFinite(s)?[c,h,d]:Number.isFinite(n)?[c,h,n]:[c,h]}projectPosition(e){const[t,n]=this.projectFlat(e);return[t,n,(e[2]||0)*this.distanceScales.unitsPerMeter[2]]}unprojectPosition(e){const[t,n]=this.unprojectFlat(e);return[t,n,(e[2]||0)*this.distanceScales.metersPerUnit[2]]}projectFlat(e){if(this.isGeospatial){const t=(0,u.w5)(e);return t[1]=(0,a.uZ)(t[1],-318,830),t}return e}unprojectFlat(e){return this.isGeospatial?(0,u.es)(e):e}getBounds(e={}){const t={targetZ:e.z||0},n=this.unproject([0,0],t),r=this.unproject([this.width,0],t),i=this.unproject([0,this.height],t),s=this.unproject([this.width,this.height],t);return[Math.min(n[0],r[0],i[0],s[0]),Math.min(n[1],r[1],i[1],s[1]),Math.max(n[0],r[0],i[0],s[0]),Math.max(n[1],r[1],i[1],s[1])]}getDistanceScales(e){return e?(0,u.ro)({longitude:e[0],latitude:e[1],highPrecision:!0}):this.distanceScales}containsPixel({x:e,y:t,width:n=1,height:r=1}){return e<this.x+this.width&&this.x<e+n&&t<this.y+this.height&&this.y<t+r}getFrustumPlanes(){return this._frustumPlanes.near||Object.assign(this._frustumPlanes,(0,s.Du)(this.viewProjectionMatrix)),this._frustumPlanes}panByPosition(e,t){return null}_initProps(e){const t=e.longitude,n=e.latitude;this.isGeospatial&&(Number.isFinite(e.zoom)||(this.zoom=(0,u.Bf)({latitude:n})+Math.log2(this.focalDistance)),this.distanceScales=e.distanceScales||(0,u.ro)({latitude:n,longitude:t}));const r=Math.pow(2,this.zoom);this.scale=r;const{position:i,modelMatrix:s}=e;let a=p;if(i&&(a=s?new o.Z(s).transformAsVector(i,[]):i),this.isGeospatial){const e=this.projectPosition([t,n,0]);this.center=new l.Z(a).scale(this.distanceScales.unitsPerMeter).add(e)}else this.center=this.projectPosition(a)}_initMatrices(e){const{viewMatrix:t=f,projectionMatrix:n=null,orthographic:r=!1,fovyRadians:u,fovy:h=75,near:p=.1,far:g=1e3,padding:m=null,focalDistance:v=1}=e;this.viewMatrixUncentered=t,this.viewMatrix=(new o.Z).multiplyRight(t).translate(new l.Z(this.center).negate()),this.projectionMatrix=n||function({width:e,height:t,orthographic:n,fovyRadians:r,focalDistance:i,padding:s,near:l,far:c}){const u=e/t,h=n?(new o.Z).orthographic({fovy:r,aspect:u,focalDistance:i,near:l,far:c}):(new o.Z).perspective({fovy:r,aspect:u,near:l,far:c});if(s){const{left:n=0,right:r=0,top:i=0,bottom:o=0}=s,l=(0,a.uZ)((n+e-r)/2,0,e)-e/2,c=(0,a.uZ)((i+t-o)/2,0,t)-t/2;h[8]-=2*l/e,h[9]+=2*c/t}return h}({width:this.width,height:this.height,orthographic:r,fovyRadians:u||h*d,focalDistance:v,padding:m,near:p,far:g});const y=(0,s.bS)();c.Jp(y,y,this.projectionMatrix),c.Jp(y,y,this.viewMatrix),this.viewProjectionMatrix=y,this.viewMatrixInverse=c.U_([],this.viewMatrix)||this.viewMatrix,this.cameraPosition=(0,s.Xt)(this.viewMatrixInverse);const b=(0,s.bS)(),w=(0,s.bS)();c.bA(b,b,[this.width/2,-this.height/2,1]),c.Iu(b,b,[1,-1,0]),c.Jp(w,b,this.viewProjectionMatrix),this.pixelProjectionMatrix=w,this.pixelUnprojectionMatrix=c.U_((0,s.bS)(),this.pixelProjectionMatrix),this.pixelUnprojectionMatrix||i.Z.warn("Pixel project matrix not invertible")()}}(0,r.Z)(m,"displayName","Viewport")},6935:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(4572),i=n(9225),s=n(7013),o=n(1437),a=n(4034),l=n(5451);class c extends i.Z{constructor(e={}){const{latitude:t=0,longitude:n=0,zoom:i=0,pitch:o=0,bearing:c=0,nearZMultiplier:u=.1,farZMultiplier:h=1.01,nearZ:d,farZ:f,orthographic:p=!1,projectionMatrix:g,repeat:m=!1,worldOffset:v=0,position:y,padding:b,legacyMeterSizes:w=!1}=e;let{width:_,height:A,altitude:E=1.5}=e;const C=Math.pow(2,i);let x;_=_||1,A=A||1;let S=null;if(g)E=g[5]/2,x=(0,s.Lu)(E);else{let n;if(e.fovy?(x=e.fovy,E=(0,s.sj)(x)):x=(0,s.Lu)(E),b){const{top:e=0,bottom:t=0}=b;n=[0,(0,a.uZ)((e+A-t)/2,0,A)-A/2]}S=(0,s.wl)({width:_,height:A,scale:C,center:y&&[0,0,y[2]*(0,s.NC)(t)],offset:n,pitch:o,fovy:x,nearZMultiplier:u,farZMultiplier:h}),Number.isFinite(d)&&(S.near=d),Number.isFinite(f)&&(S.far=f)}let T=(0,s.lf)({height:A,pitch:o,bearing:c,scale:C,altitude:E});v&&(T=(new l.Z).translate([512*v,0,0]).multiplyLeft(T)),super({...e,width:_,height:A,viewMatrix:T,longitude:n,latitude:t,zoom:i,...S,fovy:x,focalDistance:E}),(0,r.Z)(this,"longitude",void 0),(0,r.Z)(this,"latitude",void 0),(0,r.Z)(this,"pitch",void 0),(0,r.Z)(this,"bearing",void 0),(0,r.Z)(this,"altitude",void 0),(0,r.Z)(this,"fovy",void 0),(0,r.Z)(this,"orthographic",void 0),(0,r.Z)(this,"_subViewports",void 0),(0,r.Z)(this,"_pseudoMeters",void 0),this.latitude=t,this.longitude=n,this.zoom=i,this.pitch=o,this.bearing=c,this.altitude=E,this.fovy=x,this.orthographic=p,this._subViewports=m?[]:null,this._pseudoMeters=w,Object.freeze(this)}get subViewports(){if(this._subViewports&&!this._subViewports.length){const e=this.getBounds(),t=Math.floor((e[0]+180)/360),n=Math.ceil((e[2]-180)/360);for(let e=t;e<=n;e++){const t=e?new c({...this,worldOffset:e}):this;this._subViewports.push(t)}}return this._subViewports}projectPosition(e){if(this._pseudoMeters)return super.projectPosition(e);const[t,n]=this.projectFlat(e);return[t,n,(e[2]||0)*(0,s.NC)(e[1])]}unprojectPosition(e){if(this._pseudoMeters)return super.unprojectPosition(e);const[t,n]=this.unprojectFlat(e);return[t,n,(e[2]||0)/(0,s.NC)(n)]}addMetersToLngLat(e,t){return(0,s.eG)(e,t)}panByPosition(e,t){const n=(0,s.CT)(t,this.pixelUnprojectionMatrix),r=this.projectFlat(e),i=o.IH([],r,o.tk([],n)),a=o.IH([],this.center,i),[l,c]=this.unprojectFlat(a);return{longitude:l,latitude:c}}getBounds(e={}){const t=(0,s.zX)(this,e.z||0);return[Math.min(t[0][0],t[1][0],t[2][0],t[3][0]),Math.min(t[0][1],t[1][1],t[2][1],t[3][1]),Math.max(t[0][0],t[1][0],t[2][0],t[3][0]),Math.max(t[0][1],t[1][1],t[2][1],t[3][1])]}fitBounds(e,t={}){const{width:n,height:r}=this,{longitude:i,latitude:o,zoom:a}=(0,s.Xg)({width:n,height:r,bounds:e,...t});return new c({width:n,height:r,longitude:i,latitude:o,zoom:a})}}(0,r.Z)(c,"displayName","WebMercatorViewport")},6867:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(4572),i=n(5522),s=n(3844),o=n(1331),a=n(4088),l=n(744),c=n(9769),u=n(3982),h=n(4912),d=n(1953),f=n(4938),p=n(8550);const g=()=>{},m={10241:9987,10240:9729,10242:33071,10243:33071};function v(e,t,n,r){const i=Math.min(n/t.width,r/t.height),s=Math.floor(t.width*i),o=Math.floor(t.height*i);return 1===i?{data:t,width:s,height:o}:(e.canvas.height=o,e.canvas.width=s,e.clearRect(0,0,s,o),e.drawImage(t,0,0,t.width,t.height,0,0,s,o),{data:e.canvas,width:s,height:o})}function y(e){return e&&(e.id||e.url)}function b(e,t,n){for(let r=0;r<t.length;r++){const{icon:i,xOffset:s}=t[r];e[y(i)]={...i,x:s,y:n}}}class w{constructor(e,{onUpdate:t=g,onError:n=g}){(0,r.Z)(this,"gl",void 0),(0,r.Z)(this,"onUpdate",void 0),(0,r.Z)(this,"onError",void 0),(0,r.Z)(this,"_loadOptions",null),(0,r.Z)(this,"_texture",null),(0,r.Z)(this,"_externalTexture",null),(0,r.Z)(this,"_mapping",{}),(0,r.Z)(this,"_textureParameters",null),(0,r.Z)(this,"_pendingCount",0),(0,r.Z)(this,"_autoPacking",!1),(0,r.Z)(this,"_xOffset",0),(0,r.Z)(this,"_yOffset",0),(0,r.Z)(this,"_rowHeight",0),(0,r.Z)(this,"_buffer",4),(0,r.Z)(this,"_canvasWidth",1024),(0,r.Z)(this,"_canvasHeight",0),(0,r.Z)(this,"_canvas",null),this.gl=e,this.onUpdate=t,this.onError=n}finalize(){var e;null===(e=this._texture)||void 0===e||e.delete()}getTexture(){return this._texture||this._externalTexture}getIconMapping(e){const t=this._autoPacking?y(e):e;return this._mapping[t]||{}}setProps({loadOptions:e,autoPacking:t,iconAtlas:n,iconMapping:r,textureParameters:i}){var s;e&&(this._loadOptions=e),void 0!==t&&(this._autoPacking=t),r&&(this._mapping=r),n&&(null===(s=this._texture)||void 0===s||s.delete(),this._texture=null,this._externalTexture=n),i&&(this._textureParameters=i)}get isLoaded(){return 0===this._pendingCount}packIcons(e,t){if(!this._autoPacking||"undefined"==typeof document)return;const n=Object.values(function(e,t,n){if(!e||!t)return null;n=n||{};const r={},{iterable:i,objectInfo:s}=(0,p.jB)(e);for(const e of i){s.index++;const i=t(e,s),o=y(i);if(!i)throw new Error("Icon is missing.");if(!i.url)throw new Error("Icon url is missing.");r[o]||n[o]&&i.url===n[o].url||(r[o]={...i,source:e,sourceIndex:s.index})}return r}(e,t,this._mapping)||{});if(n.length>0){const{mapping:e,xOffset:t,yOffset:r,rowHeight:i,canvasHeight:s}=function({icons:e,buffer:t,mapping:n={},xOffset:r=0,yOffset:i=0,rowHeight:s=0,canvasWidth:o}){let a=[];for(let l=0;l<e.length;l++){const c=e[l];if(!n[y(c)]){const{height:e,width:l}=c;r+l+t>o&&(b(n,a,i),r=0,i=s+i+t,s=0,a=[]),a.push({icon:c,xOffset:r}),r=r+l+t,s=Math.max(s,e)}}return a.length>0&&b(n,a,i),{mapping:n,rowHeight:s,xOffset:r,yOffset:i,canvasWidth:o,canvasHeight:(l=s+i+t,Math.pow(2,Math.ceil(Math.log2(l))))};var l}({icons:n,buffer:this._buffer,canvasWidth:this._canvasWidth,mapping:this._mapping,rowHeight:this._rowHeight,xOffset:this._xOffset,yOffset:this._yOffset});this._rowHeight=i,this._mapping=e,this._xOffset=t,this._yOffset=r,this._canvasHeight=s,this._texture||(this._texture=new h.Z(this.gl,{width:this._canvasWidth,height:this._canvasHeight,parameters:this._textureParameters||m})),this._texture.height!==this._canvasHeight&&(this._texture=function(e,t,n,r){const i=e.width,s=e.height,o=new h.Z(e.gl,{width:t,height:n,parameters:r});return(0,d.Lv)(e,o,{targetY:0,width:i,height:s}),e.delete(),o}(this._texture,this._canvasWidth,this._canvasHeight,this._textureParameters||m)),this.onUpdate(),this._canvas=this._canvas||document.createElement("canvas"),this._loadIcons(n)}}_loadIcons(e){const t=this._canvas.getContext("2d",{willReadFrequently:!0});for(const n of e)this._pendingCount++,(0,f.z)(n.url,this._loadOptions).then((e=>{const r=y(n),i=this._mapping[r],{x:s,y:o,width:a,height:l}=i,{data:c,width:u,height:h}=v(t,e,a,l);this._texture.setSubImageData({data:c,x:s+(a-u)/2,y:o+(l-h)/2,width:u,height:h}),i.width=u,i.height=h,this._texture.generateMipmap(),this.onUpdate()})).catch((e=>{this.onError({url:n.url,source:n.source,sourceIndex:n.sourceIndex,loadOptions:this._loadOptions,error:e})})).finally((()=>{this._pendingCount--}))}}const _=[0,0,0,255],A={iconAtlas:{type:"image",value:null,async:!0},iconMapping:{type:"object",value:{},async:!0},sizeScale:{type:"number",value:1,min:0},billboard:!0,sizeUnits:"pixels",sizeMinPixels:{type:"number",min:0,value:0},sizeMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},alphaCutoff:{type:"number",value:.05,min:0,max:1},getPosition:{type:"accessor",value:e=>e.position},getIcon:{type:"accessor",value:e=>e.icon},getColor:{type:"accessor",value:_},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},onIconError:{type:"function",value:null,optional:!0},textureParameters:{type:"object",ignore:!0}};class E extends i.Z{constructor(...e){super(...e),(0,r.Z)(this,"state",void 0)}getShaders(){return super.getShaders({vs:"#define SHADER_NAME icon-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute float instanceSizes;\nattribute float instanceAngles;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute vec4 instanceIconFrames;\nattribute float instanceColorModes;\nattribute vec2 instanceOffsets;\nattribute vec2 instancePixelOffset;\n\nuniform float sizeScale;\nuniform vec2 iconsTextureDim;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform bool billboard;\nuniform int sizeUnits;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = angle * PI / 180.0;\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = positions;\n  geometry.pickingColor = instancePickingColors;\n  uv = positions;\n\n  vec2 iconSize = instanceIconFrames.zw;\n  float sizePixels = clamp(\n    project_size_to_pixel(instanceSizes * sizeScale, sizeUnits), \n    sizeMinPixels, sizeMaxPixels\n  );\n  float instanceScale = iconSize.y == 0.0 ? 0.0 : sizePixels / iconSize.y;\n  vec2 pixelOffset = positions / 2.0 * iconSize + instanceOffsets;\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles) * instanceScale;\n  pixelOffset += instancePixelOffset;\n  pixelOffset.y *= -1.0;\n\n  if (billboard)  {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n    vec3 offset = vec3(pixelOffset, 0.0);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n\n  } else {\n    vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);\n    DECKGL_FILTER_SIZE(offset_common, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position); \n    DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n  }\n\n  vTextureCoords = mix(\n    instanceIconFrames.xy,\n    instanceIconFrames.xy + iconSize,\n    (positions.xy + 1.0) / 2.0\n  ) / iconsTextureDim;\n\n  vColor = instanceColors;\n  DECKGL_FILTER_COLOR(vColor, geometry);\n\n  vColorMode = instanceColorModes;\n}\n",fs:"#define SHADER_NAME icon-layer-fragment-shader\n\nprecision highp float;\n\nuniform float opacity;\nuniform sampler2D iconsTexture;\nuniform float alphaCutoff;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  vec4 texColor = texture2D(iconsTexture, vTextureCoords);\n  vec3 color = mix(texColor.rgb, vColor.rgb, vColorMode);\n  float a = texColor.a * opacity * vColor.a;\n\n  if (a < alphaCutoff) {\n    discard;\n  }\n\n  gl_FragColor = vec4(color, a);\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[s.Z,o.Z]})}initializeState(){this.state={iconManager:new w(this.context.gl,{onUpdate:this._onUpdate.bind(this),onError:this._onError.bind(this)})},this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceOffsets:{size:2,accessor:"getIcon",transform:this.getInstanceOffset},instanceIconFrames:{size:4,accessor:"getIcon",transform:this.getInstanceIconFrame},instanceColorModes:{size:1,type:5121,accessor:"getIcon",transform:this.getInstanceColorMode},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getColor",defaultValue:_},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instancePixelOffset:{size:2,transition:!0,accessor:"getPixelOffset"}})}updateState(e){super.updateState(e);const{props:t,oldProps:n,changeFlags:r}=e,i=this.getAttributeManager(),{iconAtlas:s,iconMapping:o,data:a,getIcon:l,textureParameters:c}=t,{iconManager:u}=this.state,h=s||this.internalState.isAsyncPropLoading("iconAtlas");if(u.setProps({loadOptions:t.loadOptions,autoPacking:!h,iconAtlas:s,iconMapping:h?o:null,textureParameters:c}),h?n.iconMapping!==t.iconMapping&&i.invalidate("getIcon"):(r.dataChanged||r.updateTriggersChanged&&(r.updateTriggersChanged.all||r.updateTriggersChanged.getIcon))&&u.packIcons(a,l),r.extensionsChanged){var d;const{gl:e}=this.context;null===(d=this.state.model)||void 0===d||d.delete(),this.state.model=this._getModel(e),i.invalidateAll()}}get isLoaded(){return super.isLoaded&&this.state.iconManager.isLoaded}finalizeState(e){super.finalizeState(e),this.state.iconManager.finalize()}draw({uniforms:e}){const{sizeScale:t,sizeMinPixels:n,sizeMaxPixels:r,sizeUnits:i,billboard:s,alphaCutoff:o}=this.props,{iconManager:l}=this.state,c=l.getTexture();c&&this.state.model.setUniforms(e).setUniforms({iconsTexture:c,iconsTextureDim:[c.width,c.height],sizeUnits:a.iI[i],sizeScale:t,sizeMinPixels:n,sizeMaxPixels:r,billboard:s,alphaCutoff:o}).draw()}_getModel(e){return new c.Z(e,{...this.getShaders(),id:this.props.id,geometry:new u.Z({drawMode:6,attributes:{positions:{size:2,value:new Float32Array([-1,-1,-1,1,1,1,1,-1])}}}),isInstanced:!0})}_onUpdate(){this.setNeedsRedraw()}_onError(e){var t;const n=null===(t=this.getCurrentLayer())||void 0===t?void 0:t.props.onIconError;n?n(e):l.Z.error(e.error.message)()}getInstanceOffset(e){const{width:t,height:n,anchorX:r=t/2,anchorY:i=n/2}=this.state.iconManager.getIconMapping(e);return[t/2-r,n/2-i]}getInstanceColorMode(e){return this.state.iconManager.getIconMapping(e).mask?1:0}getInstanceIconFrame(e){const{x:t,y:n,width:r,height:i}=this.state.iconManager.getIconMapping(e);return[t,n,r,i]}}(0,r.Z)(E,"defaultProps",A),(0,r.Z)(E,"layerName","IconLayer")},6006:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var r=n(4572),i=n(5522),s=n(3844),o=n(1331),a=n(4088),l=n(9769),c=n(3982),u=n(8550),h=n(6610),d=n(5304),f=n(3478);class p{constructor(e){(0,r.Z)(this,"opts",void 0),(0,r.Z)(this,"typedArrayManager",void 0),(0,r.Z)(this,"indexStarts",[0]),(0,r.Z)(this,"vertexStarts",[0]),(0,r.Z)(this,"vertexCount",0),(0,r.Z)(this,"instanceCount",0),(0,r.Z)(this,"attributes",void 0),(0,r.Z)(this,"_attributeDefs",void 0),(0,r.Z)(this,"data",void 0),(0,r.Z)(this,"getGeometry",void 0),(0,r.Z)(this,"geometryBuffer",void 0),(0,r.Z)(this,"buffers",void 0),(0,r.Z)(this,"positionSize",void 0),(0,r.Z)(this,"normalize",void 0);const{attributes:t={}}=e;this.typedArrayManager=h.Z,this.attributes={},this._attributeDefs=t,this.opts=e,this.updateGeometry(e)}updateGeometry(e){Object.assign(this.opts,e);const{data:t,buffers:n={},getGeometry:r,geometryBuffer:i,positionFormat:s,dataChanged:o,normalize:a=!0}=this.opts;if(this.data=t,this.getGeometry=r,this.positionSize=i&&i.size||("XY"===s?2:3),this.buffers=n,this.normalize=a,i&&((0,d.Z)(t.startIndices),this.getGeometry=this.getGeometryFromBuffer(i),a||(n.positions=i)),this.geometryBuffer=n.positions,Array.isArray(o))for(const e of o)this._rebuildGeometry(e);else this._rebuildGeometry()}updatePartialGeometry({startRow:e,endRow:t}){this._rebuildGeometry({startRow:e,endRow:t})}getGeometryFromBuffer(e){const t=e.value||e;return ArrayBuffer.isView(t)?(0,u.jr)(t,{size:this.positionSize,offset:e.offset,stride:e.stride,startIndices:this.data.startIndices}):null}_allocate(e,t){const{attributes:n,buffers:r,_attributeDefs:i,typedArrayManager:s}=this;for(const o in i)if(o in r)s.release(n[o]),n[o]=null;else{const r=i[o];r.copy=t,n[o]=s.allocate(n[o],e,r)}}_forEachGeometry(e,t,n){const{data:r,getGeometry:i}=this,{iterable:s,objectInfo:o}=(0,u.jB)(r,t,n);for(const t of s)o.index++,e(i?i(t,o):null,o.index)}_rebuildGeometry(e){if(!this.data)return;let{indexStarts:t,vertexStarts:n,instanceCount:r}=this;const{data:i,geometryBuffer:s}=this,{startRow:o=0,endRow:a=1/0}=e||{},l={};if(e||(t=[0],n=[0]),this.normalize||!s)this._forEachGeometry(((e,t)=>{const r=e&&this.normalizeGeometry(e);l[t]=r,n[t+1]=n[t]+(r?this.getGeometrySize(r):0)}),o,a),r=n[n.length-1];else if(n=i.startIndices,r=n[i.length]||0,ArrayBuffer.isView(s))r=r||s.length/this.positionSize;else if(s instanceof f.Z){const e=s.accessor.stride||4*this.positionSize;r=r||s.byteLength/e}else if(s.buffer){const e=s.stride||4*this.positionSize;r=r||s.buffer.byteLength/e}else if(s.value){const e=s.value,t=s.stride/e.BYTES_PER_ELEMENT||this.positionSize;r=r||e.length/t}this._allocate(r,Boolean(e)),this.indexStarts=t,this.vertexStarts=n,this.instanceCount=r;const c={};this._forEachGeometry(((e,i)=>{const s=l[i]||e;c.vertexStart=n[i],c.indexStart=t[i];const o=i<n.length-1?n[i+1]:r;c.geometrySize=o-n[i],c.geometryIndex=i,this.updateGeometryAttributes(s,c)}),o,a),this.vertexCount=t[t.length-1]}}function g(e,t,n,r,i=[]){let s,o;if(8&n)s=(r[3]-e[1])/(t[1]-e[1]),o=3;else if(4&n)s=(r[1]-e[1])/(t[1]-e[1]),o=1;else if(2&n)s=(r[2]-e[0])/(t[0]-e[0]),o=2;else{if(!(1&n))return null;s=(r[0]-e[0])/(t[0]-e[0]),o=0}for(let n=0;n<e.length;n++)i[n]=(1&o)===n?r[o]:s*(t[n]-e[n])+e[n];return i}function m(e,t){let n=0;return e[0]<t[0]?n|=1:e[0]>t[2]&&(n|=2),e[1]<t[1]?n|=4:e[1]>t[3]&&(n|=8),n}function v(e,t){const n=t.length,r=e.length;if(r>0){let i=!0;for(let s=0;s<n;s++)if(e[r-n+s]!==t[s]){i=!1;break}if(i)return!1}for(let i=0;i<n;i++)e[r+i]=t[i];return!0}function y(e,t){const n=t.length;for(let r=0;r<n;r++)e[r]=t[r]}function b(e,t,n,r,i=[]){const s=r+t*n;for(let t=0;t<n;t++)i[t]=e[s+t];return i}function w(e,t){const{size:n=2,broken:r=!1,gridResolution:i=10,gridOffset:s=[0,0],startIndex:o=0,endIndex:a=e.length}=t||{},l=(a-o)/n;let c=[];const u=[c],h=b(e,0,n,o);let d,f;const p=function(e,t,n,r){const i=Math.floor((e[0]-n[0])/t)*t+n[0],s=Math.floor((e[1]-n[1])/t)*t+n[1];return r[0]=i,r[1]=s,r[2]=i+t,r[3]=s+t,r}(h,i,s,[]),w=[];v(c,h);for(let t=1;t<l;t++){for(d=b(e,t,n,o,d),f=m(d,p);f;){g(h,d,f,p,w);const e=m(w,p);e&&(g(h,w,e,p,w),f=e),v(c,w),y(h,w),_(p,i,f),r&&c.length>n&&(c=[],u.push(c),v(c,h)),f=m(d,p)}v(c,d),y(h,d)}return r?u:u[0]}function _(e,t,n){8&n?(e[1]+=t,e[3]+=t):4&n?(e[1]-=t,e[3]-=t):2&n?(e[0]+=t,e[2]+=t):1&n&&(e[0]-=t,e[2]-=t)}function A(e,t){let n;const r=e.length/t;for(let i=0;i<r&&(n=e[i*t],(n+180)%360==0);i++);const i=360*-Math.round(n/360);if(0!==i)for(let n=0;n<r;n++)e[n*t]+=i}function E(e,t,n,r){let i;if(Array.isArray(e[0])){const n=e.length*t;i=new Array(n);for(let n=0;n<e.length;n++)for(let r=0;r<t;r++)i[n*t+r]=e[n][r]||0}else i=e;return n?w(i,{size:t,gridResolution:n}):r?function(e,t){const{size:n=2,startIndex:r=0,endIndex:i=e.length,normalize:s=!0}=t||{},o=e.slice(r,i);!function(e,t,n,r){let i,s=e[0];for(let o=n;o<r;o+=t){i=e[o];const t=i-s;(t>180||t<-180)&&(i-=360*Math.round(t/360)),e[o]=s=i}}(o,n,0,i-r);const a=w(o,{size:n,broken:!0,gridResolution:360,gridOffset:[-180,-180]});if(s)for(const e of a)A(e,n);return a}(i,{size:t}):i}class C extends p{constructor(e){super({...e,attributes:{positions:{size:3,padding:18,initialize:!0,type:e.fp64?Float64Array:Float32Array},segmentTypes:{size:1,type:Uint8ClampedArray}}})}get(e){return this.attributes[e]}getGeometryFromBuffer(e){return this.normalize?super.getGeometryFromBuffer(e):null}normalizeGeometry(e){return this.normalize?E(e,this.positionSize,this.opts.resolution,this.opts.wrapLongitude):e}getGeometrySize(e){if(x(e)){let t=0;for(const n of e)t+=this.getGeometrySize(n);return t}const t=this.getPathLength(e);return t<2?0:this.isClosed(e)?t<3?0:t+2:t}updateGeometryAttributes(e,t){if(0!==t.geometrySize)if(e&&x(e))for(const n of e){const e=this.getGeometrySize(n);t.geometrySize=e,this.updateGeometryAttributes(n,t),t.vertexStart+=e}else this._updateSegmentTypes(e,t),this._updatePositions(e,t)}_updateSegmentTypes(e,t){const n=this.attributes.segmentTypes,r=!!e&&this.isClosed(e),{vertexStart:i,geometrySize:s}=t;n.fill(0,i,i+s),r?(n[i]=4,n[i+s-2]=4):(n[i]+=1,n[i+s-2]+=2),n[i+s-1]=4}_updatePositions(e,t){const{positions:n}=this.attributes;if(!n||!e)return;const{vertexStart:r,geometrySize:i}=t,s=new Array(3);for(let t=r,o=0;o<i;t++,o++)this.getPointOnPath(e,o,s),n[3*t]=s[0],n[3*t+1]=s[1],n[3*t+2]=s[2]}getPathLength(e){return e.length/this.positionSize}getPointOnPath(e,t,n=[]){const{positionSize:r}=this;t*r>=e.length&&(t+=1-e.length/r);const i=t*r;return n[0]=e[i],n[1]=e[i+1],n[2]=3===r&&e[i+2]||0,n}isClosed(e){if(!this.normalize)return Boolean(this.opts.loop);const{positionSize:t}=this,n=e.length-t;return e[0]===e[n]&&e[1]===e[n+1]&&(2===t||e[2]===e[n+2])}}function x(e){return Array.isArray(e[0])}const S=[0,0,0,255],T={widthUnits:"meters",widthScale:{type:"number",min:0,value:1},widthMinPixels:{type:"number",min:0,value:0},widthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},jointRounded:!1,capRounded:!1,miterLimit:{type:"number",min:0,value:4},billboard:!1,_pathType:null,getPath:{type:"accessor",value:e=>e.path},getColor:{type:"accessor",value:S},getWidth:{type:"accessor",value:1},rounded:{deprecatedFor:["jointRounded","capRounded"]}},I={enter:(e,t)=>t.length?t.subarray(t.length-e.length):e};class O extends i.Z{constructor(...e){super(...e),(0,r.Z)(this,"state",void 0)}getShaders(){return super.getShaders({vs:"#define SHADER_NAME path-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute float instanceTypes;\nattribute vec3 instanceStartPositions;\nattribute vec3 instanceEndPositions;\nattribute vec3 instanceLeftPositions;\nattribute vec3 instanceRightPositions;\nattribute vec3 instanceLeftPositions64Low;\nattribute vec3 instanceStartPositions64Low;\nattribute vec3 instanceEndPositions64Low;\nattribute vec3 instanceRightPositions64Low;\nattribute float instanceStrokeWidths;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform float jointType;\nuniform float capType;\nuniform float miterLimit;\nuniform bool billboard;\nuniform int widthUnits;\n\nuniform float opacity;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\nvarying vec2 vPathPosition;\nvarying float vPathLength;\nvarying float vJointType;\n\nconst float EPSILON = 0.001;\nconst vec3 ZERO_OFFSET = vec3(0.0);\n\nfloat flipIfTrue(bool flag) {\n  return -(float(flag) * 2. - 1.);\n}\nvec3 getLineJoinOffset(\n  vec3 prevPoint, vec3 currPoint, vec3 nextPoint,\n  vec2 width\n) {\n  bool isEnd = positions.x > 0.0;\n  float sideOfPath = positions.y;\n  float isJoint = float(sideOfPath == 0.0);\n\n  vec3 deltaA3 = (currPoint - prevPoint);\n  vec3 deltaB3 = (nextPoint - currPoint);\n\n  mat3 rotationMatrix;\n  bool needsRotation = !billboard && project_needs_rotation(currPoint, rotationMatrix);\n  if (needsRotation) {\n    deltaA3 = deltaA3 * rotationMatrix;\n    deltaB3 = deltaB3 * rotationMatrix;\n  }\n  vec2 deltaA = deltaA3.xy / width;\n  vec2 deltaB = deltaB3.xy / width;\n\n  float lenA = length(deltaA);\n  float lenB = length(deltaB);\n\n  vec2 dirA = lenA > 0. ? normalize(deltaA) : vec2(0.0, 0.0);\n  vec2 dirB = lenB > 0. ? normalize(deltaB) : vec2(0.0, 0.0);\n\n  vec2 perpA = vec2(-dirA.y, dirA.x);\n  vec2 perpB = vec2(-dirB.y, dirB.x);\n  vec2 tangent = dirA + dirB;\n  tangent = length(tangent) > 0. ? normalize(tangent) : perpA;\n  vec2 miterVec = vec2(-tangent.y, tangent.x);\n  vec2 dir = isEnd ? dirA : dirB;\n  vec2 perp = isEnd ? perpA : perpB;\n  float L = isEnd ? lenA : lenB;\n  float sinHalfA = abs(dot(miterVec, perp));\n  float cosHalfA = abs(dot(dirA, miterVec));\n  float turnDirection = flipIfTrue(dirA.x * dirB.y >= dirA.y * dirB.x);\n  float cornerPosition = sideOfPath * turnDirection;\n\n  float miterSize = 1.0 / max(sinHalfA, EPSILON);\n  miterSize = mix(\n    min(miterSize, max(lenA, lenB) / max(cosHalfA, EPSILON)),\n    miterSize,\n    step(0.0, cornerPosition)\n  );\n\n  vec2 offsetVec = mix(miterVec * miterSize, perp, step(0.5, cornerPosition))\n    * (sideOfPath + isJoint * turnDirection);\n  bool isStartCap = lenA == 0.0 || (!isEnd && (instanceTypes == 1.0 || instanceTypes == 3.0));\n  bool isEndCap = lenB == 0.0 || (isEnd && (instanceTypes == 2.0 || instanceTypes == 3.0));\n  bool isCap = isStartCap || isEndCap;\n  if (isCap) {\n    offsetVec = mix(perp * sideOfPath, dir * capType * 4.0 * flipIfTrue(isStartCap), isJoint);\n    vJointType = capType;\n  } else {\n    vJointType = jointType;\n  }\n  vPathLength = L;\n  vCornerOffset = offsetVec;\n  vMiterLength = dot(vCornerOffset, miterVec * turnDirection);\n  vMiterLength = isCap ? isJoint : vMiterLength;\n\n  vec2 offsetFromStartOfPath = vCornerOffset + deltaA * float(isEnd);\n  vPathPosition = vec2(\n    dot(offsetFromStartOfPath, perp),\n    dot(offsetFromStartOfPath, dir)\n  );\n  geometry.uv = vPathPosition;\n\n  float isValid = step(instanceTypes, 3.5);\n  vec3 offset = vec3(offsetVec * width * isValid, 0.0);\n\n  if (needsRotation) {\n    offset = rotationMatrix * offset;\n  }\n  return offset;\n}\nvoid clipLine(inout vec4 position, vec4 refPosition) {\n  if (position.w < EPSILON) {\n    float r = (EPSILON - refPosition.w) / (position.w - refPosition.w);\n    position = refPosition + (position - refPosition) * r;\n  }\n}\n\nvoid main() {\n  geometry.pickingColor = instancePickingColors;\n\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity);\n\n  float isEnd = positions.x;\n\n  vec3 prevPosition = mix(instanceLeftPositions, instanceStartPositions, isEnd);\n  vec3 prevPosition64Low = mix(instanceLeftPositions64Low, instanceStartPositions64Low, isEnd);\n\n  vec3 currPosition = mix(instanceStartPositions, instanceEndPositions, isEnd);\n  vec3 currPosition64Low = mix(instanceStartPositions64Low, instanceEndPositions64Low, isEnd);\n\n  vec3 nextPosition = mix(instanceEndPositions, instanceRightPositions, isEnd);\n  vec3 nextPosition64Low = mix(instanceEndPositions64Low, instanceRightPositions64Low, isEnd);\n\n  geometry.worldPosition = currPosition;\n  vec2 widthPixels = vec2(clamp(\n    project_size_to_pixel(instanceStrokeWidths * widthScale, widthUnits),\n    widthMinPixels, widthMaxPixels) / 2.0);\n  vec3 width;\n\n  if (billboard) {\n    vec4 prevPositionScreen = project_position_to_clipspace(prevPosition, prevPosition64Low, ZERO_OFFSET);\n    vec4 currPositionScreen = project_position_to_clipspace(currPosition, currPosition64Low, ZERO_OFFSET, geometry.position);\n    vec4 nextPositionScreen = project_position_to_clipspace(nextPosition, nextPosition64Low, ZERO_OFFSET);\n\n    clipLine(prevPositionScreen, currPositionScreen);\n    clipLine(nextPositionScreen, currPositionScreen);\n    clipLine(currPositionScreen, mix(nextPositionScreen, prevPositionScreen, isEnd));\n\n    width = vec3(widthPixels, 0.0);\n    DECKGL_FILTER_SIZE(width, geometry);\n\n    vec3 offset = getLineJoinOffset(\n      prevPositionScreen.xyz / prevPositionScreen.w,\n      currPositionScreen.xyz / currPositionScreen.w,\n      nextPositionScreen.xyz / nextPositionScreen.w,\n      project_pixel_size_to_clipspace(width.xy)\n    );\n\n    DECKGL_FILTER_GL_POSITION(currPositionScreen, geometry);\n    gl_Position = vec4(currPositionScreen.xyz + offset * currPositionScreen.w, currPositionScreen.w);\n  } else {\n    prevPosition = project_position(prevPosition, prevPosition64Low);\n    currPosition = project_position(currPosition, currPosition64Low);\n    nextPosition = project_position(nextPosition, nextPosition64Low);\n\n    width = vec3(project_pixel_size(widthPixels), 0.0);\n    DECKGL_FILTER_SIZE(width, geometry);\n\n    vec3 offset = getLineJoinOffset(prevPosition, currPosition, nextPosition, width.xy);\n    geometry.position = vec4(currPosition + offset, 1.0);\n    gl_Position = project_common_position_to_clipspace(geometry.position);\n    DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n  }\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#define SHADER_NAME path-layer-fragment-shader\n\nprecision highp float;\n\nuniform float miterLimit;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\nvarying vec2 vPathPosition;\nvarying float vPathLength;\nvarying float vJointType;\n\nvoid main(void) {\n  geometry.uv = vPathPosition;\n\n  if (vPathPosition.y < 0.0 || vPathPosition.y > vPathLength) {\n    if (vJointType > 0.5 && length(vCornerOffset) > 1.0) {\n      discard;\n    }\n    if (vJointType < 0.5 && vMiterLength > miterLimit + 1.0) {\n      discard;\n    }\n  }\n  gl_FragColor = vColor;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[s.Z,o.Z]})}get wrapLongitude(){return!1}initializeState(){this.getAttributeManager().addInstanced({positions:{size:3,vertexOffset:1,type:5130,fp64:this.use64bitPositions(),transition:I,accessor:"getPath",update:this.calculatePositions,noAlloc:!0,shaderAttributes:{instanceLeftPositions:{vertexOffset:0},instanceStartPositions:{vertexOffset:1},instanceEndPositions:{vertexOffset:2},instanceRightPositions:{vertexOffset:3}}},instanceTypes:{size:1,type:5121,update:this.calculateSegmentTypes,noAlloc:!0},instanceStrokeWidths:{size:1,accessor:"getWidth",transition:I,defaultValue:1},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,accessor:"getColor",transition:I,defaultValue:S},instancePickingColors:{size:3,type:5121,accessor:(e,{index:t,target:n})=>this.encodePickingColor(e&&e.__source?e.__source.index:t,n)}}),this.setState({pathTesselator:new C({fp64:this.use64bitPositions()})})}updateState(e){super.updateState(e);const{props:t,changeFlags:n}=e,r=this.getAttributeManager();if(n.dataChanged||n.updateTriggersChanged&&(n.updateTriggersChanged.all||n.updateTriggersChanged.getPath)){const{pathTesselator:e}=this.state,i=t.data.attributes||{};e.updateGeometry({data:t.data,geometryBuffer:i.getPath,buffers:i,normalize:!t._pathType,loop:"loop"===t._pathType,getGeometry:t.getPath,positionFormat:t.positionFormat,wrapLongitude:t.wrapLongitude,resolution:this.context.viewport.resolution,dataChanged:n.dataChanged}),this.setState({numInstances:e.instanceCount,startIndices:e.vertexStarts}),n.dataChanged||r.invalidateAll()}if(n.extensionsChanged){var i;const{gl:e}=this.context;null===(i=this.state.model)||void 0===i||i.delete(),this.state.model=this._getModel(e),r.invalidateAll()}}getPickingInfo(e){const t=super.getPickingInfo(e),{index:n}=t,{data:r}=this.props;return r[0]&&r[0].__source&&(t.object=r.find((e=>e.__source.index===n))),t}disablePickingIndex(e){const{data:t}=this.props;if(t[0]&&t[0].__source)for(let n=0;n<t.length;n++)t[n].__source.index===e&&this._disablePickingIndex(n);else super.disablePickingIndex(e)}draw({uniforms:e}){const{jointRounded:t,capRounded:n,billboard:r,miterLimit:i,widthUnits:s,widthScale:o,widthMinPixels:l,widthMaxPixels:c}=this.props;this.state.model.setUniforms(e).setUniforms({jointType:Number(t),capType:Number(n),billboard:r,widthUnits:a.iI[s],widthScale:o,miterLimit:i,widthMinPixels:l,widthMaxPixels:c}).draw()}_getModel(e){return new l.Z(e,{...this.getShaders(),id:this.props.id,geometry:new c.Z({drawMode:4,attributes:{indices:new Uint16Array([0,1,2,1,4,2,1,3,4,3,5,4]),positions:{value:new Float32Array([0,0,0,-1,0,1,1,-1,1,1,1,0]),size:2}}}),isInstanced:!0})}calculatePositions(e){const{pathTesselator:t}=this.state;e.startIndices=t.vertexStarts,e.value=t.get("positions")}calculateSegmentTypes(e){const{pathTesselator:t}=this.state;e.startIndices=t.vertexStarts,e.value=t.get("segmentTypes")}}(0,r.Z)(O,"defaultProps",T),(0,r.Z)(O,"layerName","PathLayer")},51:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Or});var r={};n.r(r),n.d(r,{readFileAsArrayBuffer:()=>_e,readFileAsText:()=>Ae,requireFromFile:()=>Ee,requireFromString:()=>Ce});var i={};n.r(i),n.d(i,{decode:()=>Bt,name:()=>Mt});var s={};n.r(s),n.d(s,{name:()=>Nt,preprocess:()=>jt});var o={};n.r(o),n.d(o,{name:()=>Gt,preprocess:()=>zt});var a={};n.r(a),n.d(a,{decode:()=>fn,encode:()=>pn,name:()=>hn,preprocess:()=>dn});var l={};n.r(l),n.d(l,{decode:()=>Bn,name:()=>In});var c={};n.r(c),n.d(c,{decode:()=>Nn,encode:()=>jn,name:()=>Dn});var u={};n.r(u),n.d(u,{decode:()=>zn,encode:()=>Vn,name:()=>Gn});var h={};n.r(h),n.d(h,{decode:()=>Wn,encode:()=>Jn,name:()=>Zn});var d={};n.r(d),n.d(d,{decode:()=>Yn,name:()=>qn});var f=n(4572),p=n(5522),g=n(3844),m=n(1331),v=n(744),y=n(9450);const b={name:"pbr",vs:"uniform mat4 u_MVPMatrix;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_NormalMatrix;\n\nvarying vec3 pbr_vPosition;\nvarying vec2 pbr_vUV;\n\n#ifdef HAS_NORMALS\n# ifdef HAS_TANGENTS\nvarying mat3 pbr_vTBN;\n# else\nvarying vec3 pbr_vNormal;\n# endif\n#endif\n\nvoid pbr_setPositionNormalTangentUV(vec4 position, vec4 normal, vec4 tangent, vec2 uv)\n{\n  vec4 pos = u_ModelMatrix * position;\n  pbr_vPosition = vec3(pos.xyz) / pos.w;\n\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\n  vec3 normalW = normalize(vec3(u_NormalMatrix * vec4(normal.xyz, 0.0)));\n  vec3 tangentW = normalize(vec3(u_ModelMatrix * vec4(tangent.xyz, 0.0)));\n  vec3 bitangentW = cross(normalW, tangentW) * tangent.w;\n  pbr_vTBN = mat3(tangentW, bitangentW, normalW);\n#else\n  pbr_vNormal = normalize(vec3(u_ModelMatrix * vec4(normal.xyz, 0.0)));\n#endif\n#endif\n\n#ifdef HAS_UV\n  pbr_vUV = uv;\n#else\n  pbr_vUV = vec2(0.,0.);\n#endif\n}\n",fs:"#if defined(USE_TEX_LOD) && !defined(FEATURE_GLSL_TEXTURE_LOD)\n# error PBR fragment shader: Texture LOD is not available\n#endif\n\n#if !defined(HAS_TANGENTS) && !defined(FEATURE_GLSL_DERIVATIVES)\n# error PBR fragment shader: Derivatives are not available\n#endif\n\n\n#if (__VERSION__ < 300)\n  #define SMART_FOR(INIT, WEBGL1COND, WEBGL2COND, INCR) for (INIT; WEBGL1COND; INCR)\n#else\n  #define SMART_FOR(INIT, WEBGL1COND, WEBGL2COND, INCR) for (INIT; WEBGL2COND; INCR)\n#endif\n\nprecision highp float;\n\nuniform bool pbr_uUnlit;\n\n#ifdef USE_IBL\nuniform samplerCube u_DiffuseEnvSampler;\nuniform samplerCube u_SpecularEnvSampler;\nuniform sampler2D u_brdfLUT;\nuniform vec2 u_ScaleIBLAmbient;\n#endif\n\n#ifdef HAS_BASECOLORMAP\nuniform sampler2D u_BaseColorSampler;\n#endif\n#ifdef HAS_NORMALMAP\nuniform sampler2D u_NormalSampler;\nuniform float u_NormalScale;\n#endif\n#ifdef HAS_EMISSIVEMAP\nuniform sampler2D u_EmissiveSampler;\nuniform vec3 u_EmissiveFactor;\n#endif\n#ifdef HAS_METALROUGHNESSMAP\nuniform sampler2D u_MetallicRoughnessSampler;\n#endif\n#ifdef HAS_OCCLUSIONMAP\nuniform sampler2D u_OcclusionSampler;\nuniform float u_OcclusionStrength;\n#endif\n\n#ifdef ALPHA_CUTOFF\nuniform float u_AlphaCutoff;\n#endif\n\nuniform vec2 u_MetallicRoughnessValues;\nuniform vec4 u_BaseColorFactor;\n\nuniform vec3 u_Camera;\n#ifdef PBR_DEBUG\nuniform vec4 u_ScaleDiffBaseMR;\nuniform vec4 u_ScaleFGDSpec;\n#endif\n\nvarying vec3 pbr_vPosition;\n\nvarying vec2 pbr_vUV;\n\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\nvarying mat3 pbr_vTBN;\n#else\nvarying vec3 pbr_vNormal;\n#endif\n#endif\n\n\nstruct PBRInfo\n{\n  float NdotL;\n  float NdotV;\n  float NdotH;\n  float LdotH;\n  float VdotH;\n  float perceptualRoughness;\n  float metalness;\n  vec3 reflectance0;\n  vec3 reflectance90;\n  float alphaRoughness;\n  vec3 diffuseColor;\n  vec3 specularColor;\n  vec3 n;\n  vec3 v;\n};\n\nconst float M_PI = 3.141592653589793;\nconst float c_MinRoughness = 0.04;\n\nvec4 SRGBtoLINEAR(vec4 srgbIn)\n{\n#ifdef MANUAL_SRGB\n#ifdef SRGB_FAST_APPROXIMATION\n  vec3 linOut = pow(srgbIn.xyz,vec3(2.2));\n#else\n  vec3 bLess = step(vec3(0.04045),srgbIn.xyz);\n  vec3 linOut = mix( srgbIn.xyz/vec3(12.92), pow((srgbIn.xyz+vec3(0.055))/vec3(1.055),vec3(2.4)), bLess );\n#endif\n  return vec4(linOut,srgbIn.w);;\n#else\n  return srgbIn;\n#endif\n}\n\nvec3 getNormal()\n{\n#ifndef HAS_TANGENTS\n  vec3 pos_dx = dFdx(pbr_vPosition);\n  vec3 pos_dy = dFdy(pbr_vPosition);\n  vec3 tex_dx = dFdx(vec3(pbr_vUV, 0.0));\n  vec3 tex_dy = dFdy(vec3(pbr_vUV, 0.0));\n  vec3 t = (tex_dy.t * pos_dx - tex_dx.t * pos_dy) / (tex_dx.s * tex_dy.t - tex_dy.s * tex_dx.t);\n\n#ifdef HAS_NORMALS\n  vec3 ng = normalize(pbr_vNormal);\n#else\n  vec3 ng = cross(pos_dx, pos_dy);\n#endif\n\n  t = normalize(t - ng * dot(ng, t));\n  vec3 b = normalize(cross(ng, t));\n  mat3 tbn = mat3(t, b, ng);\n#else\n  mat3 tbn = pbr_vTBN;\n#endif\n\n#ifdef HAS_NORMALMAP\n  vec3 n = texture2D(u_NormalSampler, pbr_vUV).rgb;\n  n = normalize(tbn * ((2.0 * n - 1.0) * vec3(u_NormalScale, u_NormalScale, 1.0)));\n#else\n  vec3 n = normalize(tbn[2].xyz);\n#endif\n\n  return n;\n}\n\n\n#ifdef USE_IBL\nvec3 getIBLContribution(PBRInfo pbrInputs, vec3 n, vec3 reflection)\n{\n  float mipCount = 9.0;\n  float lod = (pbrInputs.perceptualRoughness * mipCount);\n  vec3 brdf = SRGBtoLINEAR(texture2D(u_brdfLUT,\n    vec2(pbrInputs.NdotV, 1.0 - pbrInputs.perceptualRoughness))).rgb;\n  vec3 diffuseLight = SRGBtoLINEAR(textureCube(u_DiffuseEnvSampler, n)).rgb;\n\n#ifdef USE_TEX_LOD\n  vec3 specularLight = SRGBtoLINEAR(textureCubeLod(u_SpecularEnvSampler, reflection, lod)).rgb;\n#else\n  vec3 specularLight = SRGBtoLINEAR(textureCube(u_SpecularEnvSampler, reflection)).rgb;\n#endif\n\n  vec3 diffuse = diffuseLight * pbrInputs.diffuseColor;\n  vec3 specular = specularLight * (pbrInputs.specularColor * brdf.x + brdf.y);\n  diffuse *= u_ScaleIBLAmbient.x;\n  specular *= u_ScaleIBLAmbient.y;\n\n  return diffuse + specular;\n}\n#endif\n\n\nvec3 diffuse(PBRInfo pbrInputs)\n{\n  return pbrInputs.diffuseColor / M_PI;\n}\n\nvec3 specularReflection(PBRInfo pbrInputs)\n{\n  return pbrInputs.reflectance0 +\n    (pbrInputs.reflectance90 - pbrInputs.reflectance0) *\n    pow(clamp(1.0 - pbrInputs.VdotH, 0.0, 1.0), 5.0);\n}\n\n\n\nfloat geometricOcclusion(PBRInfo pbrInputs)\n{\n  float NdotL = pbrInputs.NdotL;\n  float NdotV = pbrInputs.NdotV;\n  float r = pbrInputs.alphaRoughness;\n\n  float attenuationL = 2.0 * NdotL / (NdotL + sqrt(r * r + (1.0 - r * r) * (NdotL * NdotL)));\n  float attenuationV = 2.0 * NdotV / (NdotV + sqrt(r * r + (1.0 - r * r) * (NdotV * NdotV)));\n  return attenuationL * attenuationV;\n}\n\n\n\n\n\nfloat microfacetDistribution(PBRInfo pbrInputs)\n{\n  float roughnessSq = pbrInputs.alphaRoughness * pbrInputs.alphaRoughness;\n  float f = (pbrInputs.NdotH * roughnessSq - pbrInputs.NdotH) * pbrInputs.NdotH + 1.0;\n  return roughnessSq / (M_PI * f * f);\n}\n\nvoid PBRInfo_setAmbientLight(inout PBRInfo pbrInputs) {\n  pbrInputs.NdotL = 1.0;\n  pbrInputs.NdotH = 0.0;\n  pbrInputs.LdotH = 0.0;\n  pbrInputs.VdotH = 1.0;\n}\n\nvoid PBRInfo_setDirectionalLight(inout PBRInfo pbrInputs, vec3 lightDirection) {\n  vec3 n = pbrInputs.n;\n  vec3 v = pbrInputs.v;\n  vec3 l = normalize(lightDirection);\n  vec3 h = normalize(l+v);\n\n  pbrInputs.NdotL = clamp(dot(n, l), 0.001, 1.0);\n  pbrInputs.NdotH = clamp(dot(n, h), 0.0, 1.0);\n  pbrInputs.LdotH = clamp(dot(l, h), 0.0, 1.0);\n  pbrInputs.VdotH = clamp(dot(v, h), 0.0, 1.0);\n}\n\nvoid PBRInfo_setPointLight(inout PBRInfo pbrInputs, PointLight pointLight) {\n  vec3 light_direction = normalize(pointLight.position - pbr_vPosition);\n  PBRInfo_setDirectionalLight(pbrInputs, light_direction);\n}\n\nvec3 calculateFinalColor(PBRInfo pbrInputs, vec3 lightColor) {\n  vec3 F = specularReflection(pbrInputs);\n  float G = geometricOcclusion(pbrInputs);\n  float D = microfacetDistribution(pbrInputs);\n  vec3 diffuseContrib = (1.0 - F) * diffuse(pbrInputs);\n  vec3 specContrib = F * G * D / (4.0 * pbrInputs.NdotL * pbrInputs.NdotV);\n  return pbrInputs.NdotL * lightColor * (diffuseContrib + specContrib);\n}\n\nvec4 pbr_filterColor(vec4 colorUnused)\n{\n#ifdef HAS_BASECOLORMAP\n  vec4 baseColor = SRGBtoLINEAR(texture2D(u_BaseColorSampler, pbr_vUV)) * u_BaseColorFactor;\n#else\n  vec4 baseColor = u_BaseColorFactor;\n#endif\n\n#ifdef ALPHA_CUTOFF\n  if (baseColor.a < u_AlphaCutoff) {\n    discard;\n  }\n#endif\n\n  vec3 color = vec3(0, 0, 0);\n\n  if(pbr_uUnlit){\n    color.rgb = baseColor.rgb;\n  }\n  else{\n\n\n    float perceptualRoughness = u_MetallicRoughnessValues.y;\n    float metallic = u_MetallicRoughnessValues.x;\n#ifdef HAS_METALROUGHNESSMAP\n\n    vec4 mrSample = texture2D(u_MetallicRoughnessSampler, pbr_vUV);\n    perceptualRoughness = mrSample.g * perceptualRoughness;\n    metallic = mrSample.b * metallic;\n#endif\n    perceptualRoughness = clamp(perceptualRoughness, c_MinRoughness, 1.0);\n    metallic = clamp(metallic, 0.0, 1.0);\n\n    float alphaRoughness = perceptualRoughness * perceptualRoughness;\n\n    vec3 f0 = vec3(0.04);\n    vec3 diffuseColor = baseColor.rgb * (vec3(1.0) - f0);\n    diffuseColor *= 1.0 - metallic;\n    vec3 specularColor = mix(f0, baseColor.rgb, metallic);\n    float reflectance = max(max(specularColor.r, specularColor.g), specularColor.b);\n\n\n\n    float reflectance90 = clamp(reflectance * 25.0, 0.0, 1.0);\n    vec3 specularEnvironmentR0 = specularColor.rgb;\n    vec3 specularEnvironmentR90 = vec3(1.0, 1.0, 1.0) * reflectance90;\n\n    vec3 n = getNormal();\n    vec3 v = normalize(u_Camera - pbr_vPosition);\n\n    float NdotV = clamp(abs(dot(n, v)), 0.001, 1.0);\n    vec3 reflection = -normalize(reflect(v, n));\n\n    PBRInfo pbrInputs = PBRInfo(\n      0.0,\n      NdotV,\n      0.0,\n      0.0,\n      0.0,\n      perceptualRoughness,\n      metallic,\n      specularEnvironmentR0,\n      specularEnvironmentR90,\n      alphaRoughness,\n      diffuseColor,\n      specularColor,\n      n,\n      v\n    );\n\n#ifdef USE_LIGHTS\n    PBRInfo_setAmbientLight(pbrInputs);\n    color += calculateFinalColor(pbrInputs, lighting_uAmbientLight.color);\n    SMART_FOR(int i = 0, i < MAX_LIGHTS, i < lighting_uDirectionalLightCount, i++) {\n      if (i < lighting_uDirectionalLightCount) {\n        PBRInfo_setDirectionalLight(pbrInputs, lighting_uDirectionalLight[i].direction);\n        color += calculateFinalColor(pbrInputs, lighting_uDirectionalLight[i].color);\n      }\n    }\n    SMART_FOR(int i = 0, i < MAX_LIGHTS, i < lighting_uPointLightCount, i++) {\n      if (i < lighting_uPointLightCount) {\n        PBRInfo_setPointLight(pbrInputs, lighting_uPointLight[i]);\n        float attenuation = getPointLightAttenuation(lighting_uPointLight[i], distance(lighting_uPointLight[i].position, pbr_vPosition));\n        color += calculateFinalColor(pbrInputs, lighting_uPointLight[i].color / attenuation);\n      }\n    }\n#endif\n#ifdef USE_IBL\n    color += getIBLContribution(pbrInputs, n, reflection);\n#endif\n#ifdef HAS_OCCLUSIONMAP\n    float ao = texture2D(u_OcclusionSampler, pbr_vUV).r;\n    color = mix(color, color * ao, u_OcclusionStrength);\n#endif\n\n#ifdef HAS_EMISSIVEMAP\n    vec3 emissive = SRGBtoLINEAR(texture2D(u_EmissiveSampler, pbr_vUV)).rgb * u_EmissiveFactor;\n    color += emissive;\n#endif\n\n#ifdef PBR_DEBUG\n\n\n\n\n\n    color = mix(color, baseColor.rgb, u_ScaleDiffBaseMR.y);\n    color = mix(color, vec3(metallic), u_ScaleDiffBaseMR.z);\n    color = mix(color, vec3(perceptualRoughness), u_ScaleDiffBaseMR.w);\n#endif\n\n  }\n\n  return vec4(pow(color,vec3(1.0/2.2)), baseColor.a);\n}\n",defines:{LIGHTING_FRAGMENT:1},dependencies:[n(7024).H]};var w=n(3855),_=n(5451),A=n(4538),E=n(2525);class C{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t}=e;this.id=t||(0,A.hQ)(this.constructor.name),this.display=!0,this.position=new w.Z,this.rotation=new w.Z,this.scale=new w.Z(1,1,1),this.matrix=new _.Z,this.userData={},this.props={},this._setScenegraphNodeProps(e)}delete(){}setProps(e){return this._setScenegraphNodeProps(e),this}toString(){return"{type: ScenegraphNode, id: ".concat(this.id,")}")}getBounds(){return null}setPosition(e){return(0,E.h)(3===e.length,"setPosition requires vector argument"),this.position=e,this}setRotation(e){return(0,E.h)(3===e.length,"setRotation requires vector argument"),this.rotation=e,this}setScale(e){return(0,E.h)(3===e.length,"setScale requires vector argument"),this.scale=e,this}setMatrix(e){arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?this.matrix=e:this.matrix.copy(e)}setMatrixComponents(e){let{position:t,rotation:n,scale:r,update:i=!0}=e;return t&&this.setPosition(t),n&&this.setRotation(n),r&&this.setScale(r),i&&this.updateMatrix(),this}updateMatrix(){const e=this.position,t=this.rotation,n=this.scale;return this.matrix.identity(),this.matrix.translate(e),this.matrix.rotateXYZ(t),this.matrix.scale(n),this}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{position:t,rotation:n,scale:r}=e;return t&&this.setPosition(t),n&&this.setRotation(n),r&&this.setScale(r),this.updateMatrix(),this}getCoordinateUniforms(e,t){(0,E.h)(e),t=t||this.matrix;const n=new _.Z(e).multiplyRight(t),r=n.invert(),i=r.transpose();return{viewMatrix:e,modelMatrix:t,objectMatrix:t,worldMatrix:n,worldInverseMatrix:r,worldInverseTransposeMatrix:i}}_setScenegraphNodeProps(e){"display"in e&&(this.display=e.display),"position"in e&&this.setPosition(e.position),"rotation"in e&&this.setRotation(e.rotation),"scale"in e&&this.setScale(e.scale),"matrix"in e&&this.setMatrix(e.matrix),Object.assign(this.props,e)}}var x=n(3478),S=n(4072);class T extends C{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=Array.isArray(e)?{children:e}:e;const{children:t=[]}=e;y.cM.assert(t.every((e=>e instanceof C)),"every child must an instance of ScenegraphNode"),super(e),this.children=t}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const e of t)Array.isArray(e)?this.add(...e):this.children.push(e);return this}remove(e){const t=this.children,n=t.indexOf(e);return n>-1&&t.splice(n,1),this}removeAll(){return this.children=[],this}delete(){this.children.forEach((e=>e.delete())),this.removeAll(),super.delete()}getBounds(){const e=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];return this.traverse(((t,n)=>{let{worldMatrix:r}=n;const i=t.getBounds();if(!i)return;const[s,o]=i,a=new w.Z(s).add(o).divide([2,2,2]);r.transformAsPoint(a,a);const l=new w.Z(o).subtract(s).divide([2,2,2]);r.transformAsVector(l,l);for(let t=0;t<8;t++){const n=new w.Z(1&t?-1:1,2&t?-1:1,4&t?-1:1).multiply(l).add(a);for(let t=0;t<3;t++)e[0][t]=Math.min(e[0][t],n[t]),e[1][t]=Math.max(e[1][t],n[t])}})),Number.isFinite(e[0][0])?e:null}traverse(e){let{worldMatrix:t=new _.Z}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new _.Z(t).multiplyRight(this.matrix);for(const t of this.children)t instanceof T?t.traverse(e,{worldMatrix:n}):e(t,{worldMatrix:n})}}var I=n(6357),O=n(6281),P=n(9017),M=n(4034),B=n(7160),k=n(1031);let R;class L extends P.Z{static get ZERO(){return R||(R=new L(0,0,0,0),Object.freeze(R)),R}constructor(e=0,t=0,n=0,r=0){super(-0,-0,-0,-0),(0,M.kJ)(e)&&1===arguments.length?this.copy(e):(M.vc.debug&&((0,O.u5)(e),(0,O.u5)(t),(0,O.u5)(n),(0,O.u5)(r)),this[0]=e,this[1]=t,this[2]=n,this[3]=r)}set(e,t,n,r){return this[0]=e,this[1]=t,this[2]=n,this[3]=r,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}fromObject(e){return M.vc.debug&&((0,O.u5)(e.x),(0,O.u5)(e.y),(0,O.u5)(e.z),(0,O.u5)(e.w)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this[3]=e.w,this}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e.w=this[3],e}get ELEMENTS(){return 4}get z(){return this[2]}set z(e){this[2]=(0,O.u5)(e)}get w(){return this[3]}set w(e){this[3]=(0,O.u5)(e)}transform(e){return B.fF(this,this,e),this.check()}transformByMatrix3(e){return(0,k._x)(this,this,e),this.check()}transformByMatrix2(e){return(0,k.G7)(this,this,e),this.check()}transformByQuaternion(e){return B.VC(this,this,e),this.check()}applyMatrix4(e){return e.transform(this,this),this}}var F=n(9685);function D(e,t,n){var r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],c=t[6],u=t[7],h=t[8],d=n[0],f=n[1],p=n[2],g=n[3],m=n[4],v=n[5],y=n[6],b=n[7],w=n[8];return e[0]=d*r+f*o+p*c,e[1]=d*i+f*a+p*u,e[2]=d*s+f*l+p*h,e[3]=g*r+m*o+v*c,e[4]=g*i+m*a+v*u,e[5]=g*s+m*l+v*h,e[6]=y*r+b*o+w*c,e[7]=y*i+b*a+w*u,e[8]=y*s+b*l+w*h,e}function N(e,t,n){var r=n[0],i=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}var j=n(8333);function U(){var e=new F.WT(4);return F.WT!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function G(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function z(e,t,n){var r=t[0],i=t[1],s=t[2],o=t[3],a=n[0],l=n[1],c=n[2],u=n[3];return e[0]=r*u+o*a+i*c-s*l,e[1]=i*u+o*l+s*a-r*c,e[2]=s*u+o*c+r*l-i*a,e[3]=o*u-r*a-i*l-s*c,e}j.d9,j.al,j.JG,j.t8;var V,H,Z,W,J=j.IH,K=j.bA,X=j.AK,q=j.t7,Y=j.kE,Q=j.we,$=j.Fv,ee=(j.I6,j.fS,V=B.Ue(),H=B.al(1,0,0),Z=B.al(0,1,0),function(e,t,n){var r=B.AK(t,n);return r<-.999999?(B.kC(V,H,t),B.Zh(V)<1e-6&&B.kC(V,Z,t),B.Fv(V,V),G(e,V,Math.PI),e):r>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(B.kC(V,t,n),e[0]=V[0],e[1]=V[1],e[2]=V[2],e[3]=1+r,$(e,e))});U(),U(),W=new F.WT(9),F.WT!=Float32Array&&(W[1]=0,W[2]=0,W[3]=0,W[5]=0,W[6]=0,W[7]=0),W[0]=1,W[4]=1,W[8]=1;const te=[0,0,0,1];class ne extends I.Z{constructor(e=0,t=0,n=0,r=1){super(-0,-0,-0,-0),Array.isArray(e)&&1===arguments.length?this.copy(e):this.set(e,t,n,r)}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}set(e,t,n,r){return this[0]=e,this[1]=t,this[2]=n,this[3]=r,this.check()}fromObject(e){return this[0]=e.x,this[1]=e.y,this[2]=e.z,this[3]=e.w,this.check()}fromMatrix3(e){return function(e,t){var n,r=t[0]+t[4]+t[8];if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[3*i+i]&&(i=2);var s=(i+1)%3,o=(i+2)%3;n=Math.sqrt(t[3*i+i]-t[3*s+s]-t[3*o+o]+1),e[i]=.5*n,n=.5/n,e[3]=(t[3*s+o]-t[3*o+s])*n,e[s]=(t[3*s+i]+t[3*i+s])*n,e[o]=(t[3*o+i]+t[3*i+o])*n}}(this,e),this.check()}fromAxisRotation(e,t){return G(this,e,t),this.check()}identity(){return function(e){e[0]=0,e[1]=0,e[2]=0,e[3]=1}(this),this.check()}setAxisAngle(e,t){return this.fromAxisRotation(e,t)}get ELEMENTS(){return 4}get x(){return this[0]}set x(e){this[0]=(0,O.u5)(e)}get y(){return this[1]}set y(e){this[1]=(0,O.u5)(e)}get z(){return this[2]}set z(e){this[2]=(0,O.u5)(e)}get w(){return this[3]}set w(e){this[3]=(0,O.u5)(e)}len(){return Y(this)}lengthSquared(){return Q(this)}dot(e){return X(this,e)}rotationTo(e,t){return ee(this,e,t),this.check()}add(e){return J(this,this,e),this.check()}calculateW(){return function(e,t){var n=t[0],r=t[1],i=t[2];e[0]=n,e[1]=r,e[2]=i,e[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i))}(this,this),this.check()}conjugate(){return function(e,t){e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3]}(this,this),this.check()}invert(){return function(e,t){var n=t[0],r=t[1],i=t[2],s=t[3],o=n*n+r*r+i*i+s*s,a=o?1/o:0;e[0]=-n*a,e[1]=-r*a,e[2]=-i*a,e[3]=s*a}(this,this),this.check()}lerp(e,t,n){return void 0===n?this.lerp(this,e,t):(q(this,e,t,n),this.check())}multiplyRight(e){return z(this,this,e),this.check()}multiplyLeft(e){return z(this,e,this),this.check()}normalize(){const e=this.len(),t=e>0?1/e:0;return this[0]=this[0]*t,this[1]=this[1]*t,this[2]=this[2]*t,this[3]=this[3]*t,0===e&&(this[3]=1),this.check()}rotateX(e){return function(e,t,n){n*=.5;var r=t[0],i=t[1],s=t[2],o=t[3],a=Math.sin(n),l=Math.cos(n);e[0]=r*l+o*a,e[1]=i*l+s*a,e[2]=s*l-i*a,e[3]=o*l-r*a}(this,this,e),this.check()}rotateY(e){return function(e,t,n){n*=.5;var r=t[0],i=t[1],s=t[2],o=t[3],a=Math.sin(n),l=Math.cos(n);e[0]=r*l-s*a,e[1]=i*l+o*a,e[2]=s*l+r*a,e[3]=o*l-i*a}(this,this,e),this.check()}rotateZ(e){return function(e,t,n){n*=.5;var r=t[0],i=t[1],s=t[2],o=t[3],a=Math.sin(n),l=Math.cos(n);e[0]=r*l+i*a,e[1]=i*l-r*a,e[2]=s*l+o*a,e[3]=o*l-s*a}(this,this,e),this.check()}scale(e){return K(this,this,e),this.check()}slerp(e,t,n){let r,i,s;switch(arguments.length){case 1:({start:r=te,target:i,ratio:s}=e);break;case 2:r=this,i=e,s=t;break;default:r=e,i=t,s=n}return function(e,t,n,r){var i,s,o,a,l,c=t[0],u=t[1],h=t[2],d=t[3],f=n[0],p=n[1],g=n[2],m=n[3];(s=c*f+u*p+h*g+d*m)<0&&(s=-s,f=-f,p=-p,g=-g,m=-m),1-s>F.Ib?(i=Math.acos(s),o=Math.sin(i),a=Math.sin((1-r)*i)/o,l=Math.sin(r*i)/o):(a=1-r,l=r),e[0]=a*c+l*f,e[1]=a*u+l*p,e[2]=a*h+l*g,e[3]=a*d+l*m}(this,r,i,s),this.check()}transformVector4(e,t=new L){return j.VC(t,e,this),(0,O.IL)(t,4)}lengthSq(){return this.lengthSquared()}setFromAxisAngle(e,t){return this.setAxisAngle(e,t)}premultiply(e){return this.multiplyLeft(e)}multiply(e){return this.multiplyRight(e)}}const re={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ie={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function se(e){if(!e._animation){const t=ie[e.componentType],n=re[e.type],r=n*e.count,{buffer:i,byteOffset:s}=e.bufferView.data,o=new t(i,s+(e.byteOffset||0),r);if(1===n)e._animation=Array.from(o);else{const t=[];for(let e=0;e<o.length;e+=n)t.push(Array.from(o.slice(e,e+n)));e._animation=t}}return e._animation}const oe=new _.Z,ae=new ne;class le{constructor(e){this.startTime=0,this.playing=!0,this.speed=1,this.channels=[],Object.assign(this,e)}animate(e){if(!this.playing)return;const t=(e/1e3-this.startTime)*this.speed;this.channels.forEach((e=>{let{sampler:n,target:r,path:i}=e;(function(e,t,n,r){let{input:i,interpolation:s,output:o}=t;const a=e%i[i.length-1],l=i.findIndex((e=>e>=a)),c=Math.max(0,l-1);if(!Array.isArray(n[r]))switch(r){case"translation":n[r]=[0,0,0];break;case"rotation":n[r]=[0,0,0,1];break;case"scale":n[r]=[1,1,1];break;default:y.cM.warn("Bad animation path ".concat(r))()}(0,E.h)(n[r].length===o[c].length);const u=i[c],h=i[l];switch(s){case"STEP":!function(e,t,n){for(let r=0;r<n.length;r++)e[t][r]=n[r]}(n,r,o[c]);break;case"LINEAR":if(h>u){const e=(a-u)/(h-u);!function(e,t,n,r,i){if("rotation"===t){ae.slerp({start:n,target:r,ratio:i});for(let n=0;n<ae.length;n++)e[t][n]=ae[n]}else for(let s=0;s<n.length;s++)e[t][s]=i*r[s]+(1-i)*n[s]}(n,r,o[c],o[l],e)}break;case"CUBICSPLINE":if(h>u){const e=(a-u)/(h-u),t=h-u;!function(e,t,n){let{p0:r,outTangent0:i,inTangent1:s,p1:o,tDiff:a,ratio:l}=n;for(let n=0;n<e[t].length;n++){const c=i[n]*a,u=s[n]*a;e[t][n]=(2*Math.pow(l,3)-3*Math.pow(l,2)+1)*r[n]+(Math.pow(l,3)-2*Math.pow(l,2)+l)*c+(-2*Math.pow(l,3)+3*Math.pow(l,2))*o[n]+(Math.pow(l,3)-Math.pow(l,2))*u}}(n,r,{p0:o[3*c+1],outTangent0:o[3*c+2],inTangent1:o[3*l+0],p1:o[3*l+1],tDiff:t,ratio:e})}break;default:y.cM.warn("Interpolation ".concat(s," not supported"))()}})(t,n,r,i),function(e,t){if(t.matrix.identity(),e.translation&&t.matrix.translate(e.translation),e.rotation){const n=oe.fromQuaternion(e.rotation);t.matrix.multiplyRight(n)}e.scale&&t.matrix.scale(e.scale)}(r,r._node)}))}}class ce{constructor(e){this.animations=e.animations.map(((t,n)=>{const r=t.name||"Animation-".concat(n),i=t.samplers.map((t=>{let{input:n,interpolation:r="LINEAR",output:i}=t;return{input:se(e.accessors[n]),interpolation:r,output:se(e.accessors[i])}})),s=t.channels.map((t=>{let{sampler:n,target:r}=t;return{sampler:i[n],target:e.nodes[r.node],path:r.path}}));return new le({name:r,channels:s})}))}animate(e){this.setTime(e)}setTime(e){this.animations.forEach((t=>t.animate(e)))}getAnimations(){return this.animations}}var ue=n(9769);class he extends C{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(t),this.onBeforeRender=null,this.AfterRender=null,e instanceof ue.Z?(this.model=e,this._setModelNodeProps(t)):this.model=new ue.Z(e,t),this.bounds=null,this.managedResources=t.managedResources||[]}setProps(e){return super.setProps(e),this._setModelNodeProps(e),this}getBounds(){return this.bounds}delete(){this.model&&(this.model.delete(),this.model=null),this.managedResources.forEach((e=>e.delete())),this.managedResources=[]}draw(){return this.model.draw(...arguments)}setUniforms(){return this.model.setUniforms(...arguments),this}setAttributes(){return this.model.setAttributes(...arguments),this}updateModuleSettings(){return this.model.updateModuleSettings(...arguments),this}_setModelNodeProps(e){this.model.setProps(e)}}var de=n(4211),fe=n(6948),pe=n(4912);class ge{constructor(e,t){let{attributes:n,material:r,pbrDebug:i,imageBasedLightingEnvironment:s,lights:o,useTangents:a}=t;this.gl=e,this.defines={MANUAL_SRGB:1,SRGB_FAST_APPROXIMATION:1},(0,de.U6)(e,fe.h.GLSL_TEXTURE_LOD)&&(this.defines.USE_TEX_LOD=1),this.uniforms={u_Camera:[0,0,0],u_MetallicRoughnessValues:[1,1]},this.parameters={},this.generatedTextures=[],s&&(this.uniforms.u_DiffuseEnvSampler=s.getDiffuseEnvSampler(),this.uniforms.u_SpecularEnvSampler=s.getSpecularEnvSampler(),this.uniforms.u_brdfLUT=s.getBrdfTexture(),this.uniforms.u_ScaleIBLAmbient=[1,1]),i&&(this.uniforms.u_ScaleDiffBaseMR=[0,0,0,0],this.uniforms.u_ScaleFGDSpec=[0,0,0,0]),this.defineIfPresent(n.NORMAL,"HAS_NORMALS"),this.defineIfPresent(n.TANGENT&&a,"HAS_TANGENTS"),this.defineIfPresent(n.TEXCOORD_0,"HAS_UV"),this.defineIfPresent(s,"USE_IBL"),this.defineIfPresent(o,"USE_LIGHTS"),this.defineIfPresent(i,"PBR_DEBUG"),r&&this.parseMaterial(r)}defineIfPresent(e,t){e&&(this.defines[t]=1)}parseTexture(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=e.texture&&e.texture.sampler&&e.texture.sampler.parameters||{},i=e.texture.source.image;let s,o={};i.compressed?(s=i,o={[this.gl.TEXTURE_MIN_FILTER]:i.data.length>1?this.gl.LINEAR_MIPMAP_NEAREST:this.gl.LINEAR}):s={data:i};const a=new pe.Z(this.gl,{id:e.name||e.id,parameters:{...r,...o},pixelStore:{[this.gl.UNPACK_FLIP_Y_WEBGL]:!1},...s});this.uniforms[t]=a,this.defineIfPresent(n,n),this.generatedTextures.push(a)}parsePbrMetallicRoughness(e){e.baseColorTexture&&this.parseTexture(e.baseColorTexture,"u_BaseColorSampler","HAS_BASECOLORMAP"),this.uniforms.u_BaseColorFactor=e.baseColorFactor||[1,1,1,1],e.metallicRoughnessTexture&&this.parseTexture(e.metallicRoughnessTexture,"u_MetallicRoughnessSampler","HAS_METALROUGHNESSMAP");const{metallicFactor:t=1,roughnessFactor:n=1}=e;this.uniforms.u_MetallicRoughnessValues=[t,n]}parseMaterial(e){if(this.uniforms.pbr_uUnlit=Boolean(e.unlit),e.pbrMetallicRoughness&&this.parsePbrMetallicRoughness(e.pbrMetallicRoughness),e.normalTexture){this.parseTexture(e.normalTexture,"u_NormalSampler","HAS_NORMALMAP");const{scale:t=1}=e.normalTexture;this.uniforms.u_NormalScale=t}if(e.occlusionTexture){this.parseTexture(e.occlusionTexture,"u_OcclusionSampler","HAS_OCCLUSIONMAP");const{strength:t=1}=e.occlusionTexture;this.uniforms.u_OcclusionStrength=t}if(e.emissiveTexture&&(this.parseTexture(e.emissiveTexture,"u_EmissiveSampler","HAS_EMISSIVEMAP"),this.uniforms.u_EmissiveFactor=e.emissiveFactor||[0,0,0]),"MASK"===e.alphaMode){const{alphaCutoff:t=.5}=e;this.defines.ALPHA_CUTOFF=1,this.uniforms.u_AlphaCutoff=t}else"BLEND"===e.alphaMode&&(y.cM.warn("BLEND alphaMode might not work well because it requires mesh sorting")(),Object.assign(this.parameters,{blend:!0,blendEquation:this.gl.FUNC_ADD,blendFunc:[this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA,this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA]}))}delete(){this.generatedTextures.forEach((e=>e.delete()))}}function me(e,t){return(0,y.D0)(e)?"#version 300 es\n".concat(t):t}const ve={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ye={modelOptions:{},pbrDebug:!1,imageBasedLightingEnvironment:null,lights:!0,useTangents:!1};class be{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=e,this.options=Object.assign({},ye,t)}instantiate(e){return this.gltf=e,(e.scenes||[]).map((e=>this.createScene(e)))}createAnimator(){return Array.isArray(this.gltf.animations)?new ce(this.gltf):null}createScene(e){const t=(e.nodes||[]).map((e=>this.createNode(e)));return new T({id:e.name||e.id,children:t})}createNode(e){if(!e._node){const t=(e.children||[]).map((e=>this.createNode(e)));e.mesh&&t.push(this.createMesh(e.mesh));const n=new T({id:e.name||e.id,children:t});if(e.matrix)n.setMatrix(e.matrix);else{if(n.matrix.identity(),e.translation&&n.matrix.translate(e.translation),e.rotation){const t=(new _.Z).fromQuaternion(e.rotation);n.matrix.multiplyRight(t)}e.scale&&n.matrix.scale(e.scale)}e._node=n}return e._node}createMesh(e){if(!e._mesh){const t=(e.primitives||[]).map(((t,n)=>this.createPrimitive(t,n,e))),n=new T({id:e.name||e.id,children:t});e._mesh=n}return e._mesh}getVertexCount(e){y.cM.warn("getVertexCount() not found")()}createPrimitive(e,t,n){const r=function(e,t){const{id:n,drawMode:r,vertexCount:i,attributes:s,modelOptions:o}=t,a=new ge(e,t);y.cM.info(4,"createGLTFModel defines: ",a.defines)();const l=[];l.push(...a.generatedTextures),l.push(...Object.values(s).map((e=>e.buffer)));const c=new he(e,{id:n,drawMode:r,vertexCount:i,modules:[b],parameters:a.parameters,vs:me(e,"\n#if (__VERSION__ < 300)\n  #define _attr attribute\n#else\n  #define _attr in\n#endif\n\n  _attr vec4 POSITION;\n\n  #ifdef HAS_NORMALS\n    _attr vec4 NORMAL;\n  #endif\n\n  #ifdef HAS_TANGENTS\n    _attr vec4 TANGENT;\n  #endif\n\n  #ifdef HAS_UV\n    _attr vec2 TEXCOORD_0;\n  #endif\n\n  void main(void) {\n    vec4 _NORMAL = vec4(0.);\n    vec4 _TANGENT = vec4(0.);\n    vec2 _TEXCOORD_0 = vec2(0.);\n\n    #ifdef HAS_NORMALS\n      _NORMAL = NORMAL;\n    #endif\n\n    #ifdef HAS_TANGENTS\n      _TANGENT = TANGENT;\n    #endif\n\n    #ifdef HAS_UV\n      _TEXCOORD_0 = TEXCOORD_0;\n    #endif\n\n    pbr_setPositionNormalTangentUV(POSITION, _NORMAL, _TANGENT, _TEXCOORD_0);\n    gl_Position = u_MVPMatrix * POSITION;\n  }\n"),fs:me(e,"\n#if (__VERSION__ < 300)\n  #define fragmentColor gl_FragColor\n#else\n  out vec4 fragmentColor;\n#endif\n\n  void main(void) {\n    fragmentColor = pbr_filterColor(vec4(0));\n  }\n"),managedResources:l,...o,defines:{...a.defines,...o.defines}});return c.setProps({attributes:s}),c.setUniforms(a.uniforms),c}(this.gl,Object.assign({id:e.name||"".concat(n.name||n.id,"-primitive-").concat(t),drawMode:e.mode||4,vertexCount:e.indices?e.indices.count:this.getVertexCount(e.attributes),attributes:this.createAttributes(e.attributes,e.indices),material:e.material},this.options));return r.bounds=[e.attributes.POSITION.min,e.attributes.POSITION.max],r}createAttributes(e,t){const n={};return Object.keys(e).forEach((t=>{n[t]=this.createAccessor(e[t],this.createBuffer(e[t],this.gl.ARRAY_BUFFER))})),t&&(n.indices=this.createAccessor(t,this.createBuffer(t,this.gl.ELEMENT_ARRAY_BUFFER))),y.cM.info(4,"glTF Attributes",{attributes:e,indices:t,generated:n})(),n}createBuffer(e,t){e.bufferView||(e.bufferView={});const{bufferView:n}=e;return n.lumaBuffers||(n.lumaBuffers={}),n.lumaBuffers[t]||(n.lumaBuffers[t]=new x.Z(this.gl,{id:"from-".concat(n.id),data:n.data||e.value,target:t})),n.lumaBuffers[t]}createAccessor(e,t){return new S.Z({buffer:t,offset:e.byteOffset||0,stride:e.bufferView.byteStride||0,type:e.componentType,size:ve[e.type]})}createSampler(e){return e}needsPOT(){return!1}}var we=n(6013);const _e=null,Ae=null,Ee=null,Ce=null;var xe=n(6040);const Se="3.4.14",Te={};async function Ie(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t&&(e=function(e,t,n){if(e.startsWith("http"))return e;const r=n.modules||{};return r[e]?r[e]:we.jU?n.CDN?((0,xe.h)(n.CDN.startsWith("http")),"".concat(n.CDN,"/").concat(t,"@").concat(Se,"/dist/libs/").concat(e)):we.hJ?"../src/libs/".concat(e):"modules/".concat(t,"/src/libs/").concat(e):"modules/".concat(t,"/dist/libs/").concat(e)}(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})),Te[e]=Te[e]||async function(e){if(e.endsWith("wasm")){const t=await fetch(e);return await t.arrayBuffer()}if(!we.jU)try{return r&&Ee&&await Ee(e)}catch{return null}if(we.hJ)return importScripts(e);const t=await fetch(e);return function(e,t){if(!we.jU)return Ce&&Ce(e,t);if(we.hJ)return eval.call(we.CO,e),null;const n=document.createElement("script");n.id=t;try{n.appendChild(document.createTextNode(e))}catch(t){n.text=e}return document.body.appendChild(n),null}(await t.text(),e)}(e),await Te[e]}const Oe="3.4.14",Pe="https://unpkg.com/@loaders.gl/textures@".concat(Oe,"/dist/libs/basis_encoder.wasm"),Me="https://unpkg.com/@loaders.gl/textures@".concat(Oe,"/dist/libs/basis_encoder.js");let Be,ke;async function Re(e){const t=e.modules||{};return t.basis?t.basis:(Be=Be||async function(e){let t=null,n=null;return[t,n]=await Promise.all([await Ie("basis_transcoder.js","textures",e),await Ie("basis_transcoder.wasm","textures",e)]),t=t||globalThis.BASIS,await function(e,t){const n={};return t&&(n.wasmBinary=t),new Promise((t=>{e(n).then((e=>{const{BasisFile:n,initializeBasis:r}=e;r(),t({BasisFile:n})}))}))}(t,n)}(e),await Be)}async function Le(e){const t=e.modules||{};return t.basisEncoder?t.basisEncoder:(ke=ke||async function(e){let t=null,n=null;return[t,n]=await Promise.all([await Ie(Me,"textures",e),await Ie(Pe,"textures",e)]),t=t||globalThis.BASIS,await function(e,t){const n={};return t&&(n.wasmBinary=t),new Promise((t=>{e(n).then((e=>{const{BasisFile:n,KTX2File:r,initializeBasis:i,BasisEncoder:s}=e;i(),t({BasisFile:n,KTX2File:r,BasisEncoder:s})}))}))}(t,n)}(e),await ke)}const Fe=["","WEBKIT_","MOZ_"],De={WEBGL_compressed_texture_s3tc:"dxt",WEBGL_compressed_texture_s3tc_srgb:"dxt-srgb",WEBGL_compressed_texture_etc1:"etc1",WEBGL_compressed_texture_etc:"etc2",WEBGL_compressed_texture_pvrtc:"pvrtc",WEBGL_compressed_texture_atc:"atc",WEBGL_compressed_texture_astc:"astc",EXT_texture_compression_rgtc:"rgtc"};let Ne=null;var je,Ue,Ge,ze,Ve,He,Ze,We,Je;new Uint8Array([0]),(Je=je||(je={}))[Je.NONE=0]="NONE",Je[Je.BASISLZ=1]="BASISLZ",Je[Je.ZSTD=2]="ZSTD",Je[Je.ZLIB=3]="ZLIB",function(e){e[e.BASICFORMAT=0]="BASICFORMAT"}(Ue||(Ue={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.ETC1S=163]="ETC1S",e[e.UASTC=166]="UASTC"}(Ge||(Ge={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.SRGB=1]="SRGB"}(ze||(ze={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.LINEAR=1]="LINEAR",e[e.SRGB=2]="SRGB",e[e.ITU=3]="ITU",e[e.NTSC=4]="NTSC",e[e.SLOG=5]="SLOG",e[e.SLOG2=6]="SLOG2"}(Ve||(Ve={})),function(e){e[e.ALPHA_STRAIGHT=0]="ALPHA_STRAIGHT",e[e.ALPHA_PREMULTIPLIED=1]="ALPHA_PREMULTIPLIED"}(He||(He={})),function(e){e[e.RGB=0]="RGB",e[e.RRR=3]="RRR",e[e.GGG=4]="GGG",e[e.AAA=15]="AAA"}(Ze||(Ze={})),function(e){e[e.RGB=0]="RGB",e[e.RGBA=3]="RGBA",e[e.RRR=4]="RRR",e[e.RRRG=5]="RRRG"}(We||(We={}));const Ke=[171,75,84,88,32,50,48,187,13,10,26,10],Xe={etc1:{basisFormat:0,compressed:!0,format:36196},etc2:{basisFormat:1,compressed:!0},bc1:{basisFormat:2,compressed:!0,format:33776},bc3:{basisFormat:3,compressed:!0,format:33779},bc4:{basisFormat:4,compressed:!0},bc5:{basisFormat:5,compressed:!0},"bc7-m6-opaque-only":{basisFormat:6,compressed:!0},"bc7-m5":{basisFormat:7,compressed:!0},"pvrtc1-4-rgb":{basisFormat:8,compressed:!0,format:35840},"pvrtc1-4-rgba":{basisFormat:9,compressed:!0,format:35842},"astc-4x4":{basisFormat:10,compressed:!0,format:37808},"atc-rgb":{basisFormat:11,compressed:!0},"atc-rgba-interpolated-alpha":{basisFormat:12,compressed:!0},rgba32:{basisFormat:13,compressed:!1},rgb565:{basisFormat:14,compressed:!1},bgr565:{basisFormat:15,compressed:!1},rgba4444:{basisFormat:16,compressed:!1}};function qe(e,t,n){const r=new e(new Uint8Array(t));try{if(!r.startTranscoding())throw new Error("Failed to start basis transcoding");const e=r.getNumImages(),t=[];for(let i=0;i<e;i++){const e=r.getNumLevels(i),s=[];for(let t=0;t<e;t++)s.push(Ye(r,i,t,n));t.push(s)}return t}finally{r.close(),r.delete()}}function Ye(e,t,n,r){const i=e.getImageWidth(t,n),s=e.getImageHeight(t,n),o=e.getHasAlpha(),{compressed:a,format:l,basisFormat:c}=et(r,o),u=e.getImageTranscodedSizeInBytes(t,n,c),h=new Uint8Array(u);if(!e.transcodeImage(h,t,n,c,0,0))throw new Error("failed to start Basis transcoding");return{width:i,height:s,data:h,compressed:a,format:l,hasAlpha:o}}function Qe(e,t,n){const r=new e(new Uint8Array(t));try{if(!r.startTranscoding())throw new Error("failed to start KTX2 transcoding");const e=r.getLevels(),t=[];for(let i=0;i<e;i++){t.push($e(r,i,n));break}return[t]}finally{r.close(),r.delete()}}function $e(e,t,n){const{alphaFlag:r,height:i,width:s}=e.getImageLevelInfo(t,0,0),{compressed:o,format:a,basisFormat:l}=et(n,r),c=e.getImageTranscodedSizeInBytes(t,0,0,l),u=new Uint8Array(c);if(!e.transcodeImage(u,t,0,0,l,0,-1,-1))throw new Error("Failed to transcode KTX2 image");return{width:s,height:i,data:u,compressed:o,levelSize:c,hasAlpha:r,format:a}}function et(e,t){let n=e&&e.basis&&e.basis.format;return"auto"===n&&(n=tt()),"object"==typeof n&&(n=t?n.alpha:n.noAlpha),n=n.toLowerCase(),Xe[n]}function tt(){const e=function(e){if(!Ne){e=e||function(){try{return document.createElement("canvas").getContext("webgl")}catch(e){return null}}()||void 0,Ne=new Set;for(const t of Fe)for(const n in De)if(e&&e.getExtension("".concat(t).concat(n))){const e=De[n];Ne.add(e)}}return Ne}();return e.has("astc")?"astc-4x4":e.has("dxt")?{alpha:"bc3",noAlpha:"bc1"}:e.has("pvrtc")?{alpha:"pvrtc1-4-rgba",noAlpha:"pvrtc1-4-rgb"}:e.has("etc1")?"etc1":e.has("etc2")?"etc2":"rgb565"}const nt={...{name:"Basis",id:we.jU?"basis":"basis-nodejs",module:"textures",version:"3.4.14",worker:!0,extensions:["basis","ktx2"],mimeTypes:["application/octet-stream","image/ktx2"],tests:["sB"],binary:!0,options:{basis:{format:"auto",libraryPath:"libs/",containerFormat:"auto",module:"transcoder"}}},parse:async function(e,t){if("auto"===t.basis.containerFormat){if(function(e){const t=new Uint8Array(e);return!(t.byteLength<Ke.length||t[0]!==Ke[0]||t[1]!==Ke[1]||t[2]!==Ke[2]||t[3]!==Ke[3]||t[4]!==Ke[4]||t[5]!==Ke[5]||t[6]!==Ke[6]||t[7]!==Ke[7]||t[8]!==Ke[8]||t[9]!==Ke[9]||t[10]!==Ke[10]||t[11]!==Ke[11])}(e))return Qe((await Le(t)).KTX2File,e,t);const{BasisFile:n}=await Re(t);return qe(n,e,t)}if("encoder"===t.basis.module){const n=await Le(t);return"ktx2"===t.basis.containerFormat?Qe(n.KTX2File,e,t):qe(n.BasisFile,e,t)}{const{BasisFile:n}=await Re(t);return qe(n,e,t)}}};var rt=n(6487);function it(e,t,n){if(e.byteLength<=t+n)return"";const r=new DataView(e);let i="";for(let e=0;e<n;e++)i+=String.fromCharCode(r.getUint8(t+e));return i}var st=n(4609);function ot(e,t){if(!e)throw new Error(t||"assert failed: gltf")}function at(e,t){if(e.startsWith("data:")||e.startsWith("http:")||e.startsWith("https:"))return e;const n=t.baseUri||t.uri;if(!n)throw new Error("'baseUri' must be provided to resolve relative url ".concat(e));return n.substr(0,n.lastIndexOf("/")+1)+e}var lt=n(869),ct=n(5505);function ut(e,t){return(0,ct.h)(e>=0),(0,ct.h)(t>0),e+(t-1)&~(t-1)}function ht(e,t,n){let r;if(e instanceof ArrayBuffer)r=new Uint8Array(e);else{const t=e.byteOffset,n=e.byteLength;r=new Uint8Array(e.buffer||e.arrayBuffer,t,n)}return t.set(r,n),n+ut(r.byteLength,4)}const dt=["SCALAR","VEC2","VEC3","VEC4"],ft=[[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126],[Float64Array,5130]],pt=new Map(ft),gt={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},mt={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},vt={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function yt(e){return dt[e-1]||dt[0]}function bt(e){const t=pt.get(e.constructor);if(!t)throw new Error("Illegal typed array");return t}function wt(e,t){const n=vt[e.componentType],r=gt[e.type],i=mt[e.componentType],s=e.count*r,o=e.count*r*i;return ot(o>=0&&o<=t.byteLength),{ArrayType:n,length:s,byteLength:o}}const _t={asset:{version:"2.0",generator:"loaders.gl"},buffers:[]};class At{constructor(e){(0,f.Z)(this,"gltf",void 0),(0,f.Z)(this,"sourceBuffers",void 0),(0,f.Z)(this,"byteLength",void 0),this.gltf=e||{json:{..._t},buffers:[]},this.sourceBuffers=[],this.byteLength=0,this.gltf.buffers&&this.gltf.buffers[0]&&(this.byteLength=this.gltf.buffers[0].byteLength,this.sourceBuffers=[this.gltf.buffers[0]])}get json(){return this.gltf.json}getApplicationData(e){return this.json[e]}getExtraData(e){return(this.json.extras||{})[e]}getExtension(e){const t=this.getUsedExtensions().find((t=>t===e)),n=this.json.extensions||{};return t?n[e]||!0:null}getRequiredExtension(e){return this.getRequiredExtensions().find((t=>t===e))?this.getExtension(e):null}getRequiredExtensions(){return this.json.extensionsRequired||[]}getUsedExtensions(){return this.json.extensionsUsed||[]}getRemovedExtensions(){return this.json.extensionsRemoved||[]}getObjectExtension(e,t){return(e.extensions||{})[t]}getScene(e){return this.getObject("scenes",e)}getNode(e){return this.getObject("nodes",e)}getSkin(e){return this.getObject("skins",e)}getMesh(e){return this.getObject("meshes",e)}getMaterial(e){return this.getObject("materials",e)}getAccessor(e){return this.getObject("accessors",e)}getTexture(e){return this.getObject("textures",e)}getSampler(e){return this.getObject("samplers",e)}getImage(e){return this.getObject("images",e)}getBufferView(e){return this.getObject("bufferViews",e)}getBuffer(e){return this.getObject("buffers",e)}getObject(e,t){if("object"==typeof t)return t;const n=this.json[e]&&this.json[e][t];if(!n)throw new Error("glTF file error: Could not find ".concat(e,"[").concat(t,"]"));return n}getTypedArrayForBufferView(e){const t=(e=this.getBufferView(e)).buffer,n=this.gltf.buffers[t];ot(n);const r=(e.byteOffset||0)+n.byteOffset;return new Uint8Array(n.arrayBuffer,r,e.byteLength)}getTypedArrayForAccessor(e){e=this.getAccessor(e);const t=this.getBufferView(e.bufferView),n=this.getBuffer(t.buffer).data,{ArrayType:r,length:i}=wt(e,t);return new r(n,t.byteOffset+e.byteOffset,i)}getTypedArrayForImageData(e){e=this.getAccessor(e);const t=this.getBufferView(e.bufferView),n=this.getBuffer(t.buffer).data,r=t.byteOffset||0;return new Uint8Array(n,r,t.byteLength)}addApplicationData(e,t){return this.json[e]=t,this}addExtraData(e,t){return this.json.extras=this.json.extras||{},this.json.extras[e]=t,this}addObjectExtension(e,t,n){return e.extensions=e.extensions||{},e.extensions[t]=n,this.registerUsedExtension(t),this}setObjectExtension(e,t,n){(e.extensions||{})[t]=n}removeObjectExtension(e,t){const n=e.extensions||{},r=n[t];return delete n[t],r}addExtension(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ot(t),this.json.extensions=this.json.extensions||{},this.json.extensions[e]=t,this.registerUsedExtension(e),t}addRequiredExtension(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ot(t),this.addExtension(e,t),this.registerRequiredExtension(e),t}registerUsedExtension(e){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find((t=>t===e))||this.json.extensionsUsed.push(e)}registerRequiredExtension(e){this.registerUsedExtension(e),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find((t=>t===e))||this.json.extensionsRequired.push(e)}removeExtension(e){if(!this.getExtension(e))return;this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,e),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,e),this.json.extensions&&delete this.json.extensions[e],Array.isArray(this.json.extensionsRemoved)||(this.json.extensionsRemoved=[]);const t=this.json.extensionsRemoved;t.includes(e)||t.push(e)}setDefaultScene(e){this.json.scene=e}addScene(e){const{nodeIndices:t}=e;return this.json.scenes=this.json.scenes||[],this.json.scenes.push({nodes:t}),this.json.scenes.length-1}addNode(e){const{meshIndex:t,matrix:n}=e;this.json.nodes=this.json.nodes||[];const r={mesh:t};return n&&(r.matrix=n),this.json.nodes.push(r),this.json.nodes.length-1}addMesh(e){const{attributes:t,indices:n,material:r,mode:i=4}=e,s={primitives:[{attributes:this._addAttributes(t),mode:i}]};if(n){const e=this._addIndices(n);s.primitives[0].indices=e}return Number.isFinite(r)&&(s.primitives[0].material=r),this.json.meshes=this.json.meshes||[],this.json.meshes.push(s),this.json.meshes.length-1}addPointCloud(e){const t={primitives:[{attributes:this._addAttributes(e),mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(t),this.json.meshes.length-1}addImage(e,t){const n=(0,lt.I)(e),r=t||(null==n?void 0:n.mimeType),i={bufferView:this.addBufferView(e),mimeType:r};return this.json.images=this.json.images||[],this.json.images.push(i),this.json.images.length-1}addBufferView(e){const t=e.byteLength;ot(Number.isFinite(t)),this.sourceBuffers=this.sourceBuffers||[],this.sourceBuffers.push(e);const n={buffer:0,byteOffset:this.byteLength,byteLength:t};return this.byteLength+=ut(t,4),this.json.bufferViews=this.json.bufferViews||[],this.json.bufferViews.push(n),this.json.bufferViews.length-1}addAccessor(e,t){const n={bufferView:e,type:yt(t.size),componentType:t.componentType,count:t.count,max:t.max,min:t.min};return this.json.accessors=this.json.accessors||[],this.json.accessors.push(n),this.json.accessors.length-1}addBinaryBuffer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{size:3};const n=this.addBufferView(e);let r={min:t.min,max:t.max};r.min&&r.max||(r=this._getAccessorMinMax(e,t.size));const i={size:t.size,componentType:bt(e),count:Math.round(e.length/t.size),min:r.min,max:r.max};return this.addAccessor(n,Object.assign(i,t))}addTexture(e){const{imageIndex:t}=e,n={source:t};return this.json.textures=this.json.textures||[],this.json.textures.push(n),this.json.textures.length-1}addMaterial(e){return this.json.materials=this.json.materials||[],this.json.materials.push(e),this.json.materials.length-1}createBinaryChunk(){var e,t;this.gltf.buffers=[];const n=this.byteLength,r=new ArrayBuffer(n),i=new Uint8Array(r);let s=0;for(const e of this.sourceBuffers||[])s=ht(e,i,s);null!==(e=this.json)&&void 0!==e&&null!==(t=e.buffers)&&void 0!==t&&t[0]?this.json.buffers[0].byteLength=n:this.json.buffers=[{byteLength:n}],this.gltf.binary=r,this.sourceBuffers=[r]}_removeStringFromArray(e,t){let n=!0;for(;n;){const r=e.indexOf(t);r>-1?e.splice(r,1):n=!1}}_addAttributes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={};for(const n in e){const r=e[n],i=this._getGltfAttributeName(n),s=this.addBinaryBuffer(r.value,r);t[i]=s}return t}_addIndices(e){return this.addBinaryBuffer(e,{size:1})}_getGltfAttributeName(e){switch(e.toLowerCase()){case"position":case"positions":case"vertices":return"POSITION";case"normal":case"normals":return"NORMAL";case"color":case"colors":return"COLOR_0";case"texcoord":case"texcoords":return"TEXCOORD_0";default:return e}}_getAccessorMinMax(e,t){const n={min:null,max:null};if(e.length<t)return n;n.min=[],n.max=[];const r=e.subarray(0,t);for(const e of r)n.min.push(e),n.max.push(e);for(let r=t;r<e.length;r+=t)for(let i=0;i<t;i++)n.min[0+i]=Math.min(n.min[0+i],e[r+i]),n.max[0+i]=Math.max(n.max[0+i],e[r+i]);return n}}const Et="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",Ct="B9h9z9tFBBBF8dL9gBB9gLaaaaaFa9gEaaaB9gGaaB9gFaFaEQSBBFBFFGEGEGIILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBNn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBcI9z9iqlBMc/j9JSIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMkRIbaG97FaK978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAnDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAnDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBRnCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBHiCFD9tAiAPD9OD9hD9RHiDQBTFtGmEYIPLdKeOnH8ZAIAQJDBIBHpCFD9tApAPD9OD9hD9RHpAIASJDBIBHyCFD9tAyAPD9OD9hD9RHyDQBTFtGmEYIPLdKeOnH8cDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAnD9uHnDyBjGBAEAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnA8ZA8cDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNiV8ZcpMyS8cQ8df8eb8fHdApAyDQNiV8ZcpMyS8cQ8df8eb8fHiDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/xLGEaK978jUUUUBCAlHE8kUUUUBGXGXAGCI9HQBGXAFC98ZHI9FQBABRGCBRLEXAGAGDBBBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMBBAGCTJRGALCIJHLAI9JQBMMAIAF9PQFAEAFCEZHLCGWHGqCBCTAGl/8MBAEABAICGWJHIAG/8cBBGXAL9FQBAEAEDBIBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMIBMAIAEAG/8cBBSFMABAFC98ZHGT+HUUUBAGAF9PQBAEAFCEZHICEWHLJCBCAALl/8MBAEABAGCEWJHGAL/8cBBAEAIT+HUUUBAGAEAL/8cBBMAECAJ8kUUUUBM+yEGGaO97GXAF9FQBCBRGEXABCTJHEAEDBBBHICBDtHLCUU98D8cFCUU98D8cEHKD9OABDBBBHOAIDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAOAIDQBFGENVcMTtmYi8ZpyHICTD+sFD/6FHND/gFAICTD+rFCTD+sFD/6FHVD/gFD/kFD/lFHI9DB/+g6DYAVAIALD+2FHLAVCUUUU94DtHcD9OD9RD/kFHVAVD/mFAIAID/mFANALANAcD9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHLD/kFCTD+rFAVAND/mFALD/kFCggEDtD9OD9QHVAIAND/mFALD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHIDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAOAKD9OAVAIDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM94FEa8jUUUUBCAlHE8kUUUUBABAFC98ZHIT+JUUUBGXAIAF9PQBAEAFCEZHLCEWHFJCBCAAFl/8MBAEABAICEWJHBAF/8cBBAEALT+JUUUBABAEAF/8cBBMAECAJ8kUUUUBM/hEIGaF97FaL978jUUUUBCTlRGGXAF9FQBCBREEXAGABDBBBHIABCTJHLDBBBHKDQILKOSQfbPden8c8d8e8fHOCTD+sFHNCID+rFDMIBAB9DBBU8/DY9D/zI818/DYANCEDtD9QD/6FD/nFHNAIAKDQBFGENVcMTtmYi8ZpyHICTD+rFCTD+sFD/6FD/mFHKAKD/mFANAICTD+sFD/6FD/mFHVAVD/mFANAOCTD+rFCTD+sFD/6FD/mFHOAOD/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHND/mF9DBBX9LDYHID/kFCggEDtHcD9OAVAND/mFAID/kFCTD+rFD9QHVAOAND/mFAID/kFCTD+rFAKAND/mFAID/kFAcD9OD9QHNDQBFTtGEmYILPdKOenHID8dBAGDBIBDyB+t+J83EBABCNJAID8dFAGDBIBDyF+t+J83EBALAVANDQNVi8ZcMpySQ8c8dfb8e8fHND8dBAGDBIBDyG+t+J83EBABCiJAND8dFAGDBIBDyE+t+J83EBABCAJRBAECIJHEAF9JQBMMM/3FGEaF978jUUUUBCoBlREGXAGCGrAF9sHIC98ZHL9FQBCBRGABRFEXAFAFDBBBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBAFCTJRFAGCIJHGAL9JQBMMGXALAI9PQBAEAICEZHGCGWHFqCBCoBAFl/8MBAEABALCGWJHLAF/8cBBGXAG9FQBAEAEDBIBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMIBMALAEAF/8cBBMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",xt=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),St=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]),Tt={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},It={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};let Ot;const Pt="EXT_meshopt_compression",Mt=Pt;async function Bt(e,t){var n;const r=new At(e);if(null==t||null===(n=t.gltf)||void 0===n||!n.decompressMeshes)return;const i=[];for(const t of e.json.bufferViews||[])i.push(kt(r,t));await Promise.all(i),r.removeExtension(Pt)}async function kt(e,t){const n=e.getObjectExtension(t,Pt);if(n){const{byteOffset:r=0,byteLength:i=0,byteStride:s,count:o,mode:a,filter:l="NONE",buffer:c}=n,u=e.gltf.buffers[c],h=new Uint8Array(u.arrayBuffer,u.byteOffset+r,i),d=new Uint8Array(e.gltf.buffers[t.buffer].arrayBuffer,t.byteOffset,t.byteLength);return await async function(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NONE";const o=await async function(){return Ot||(Ot=async function(){let e=Et;WebAssembly.validate(xt)&&(e=Ct,console.log("Warning: meshopt_decoder is using experimental SIMD support"));const t=await WebAssembly.instantiate(function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;++n){const r=e.charCodeAt(n);t[n]=r>96?r-71:r>64?r-65:r>47?r+4:r>46?63:62}let n=0;for(let r=0;r<e.length;++r)t[n++]=t[r]<60?St[t[r]]:64*(t[r]-60)+t[++r];return t.buffer.slice(0,n)}(e),{});return await t.instance.exports.__wasm_call_ctors(),t.instance}()),Ot}();!function(e,t,n,r,i,s,o){const a=e.exports.sbrk,l=r+3&-4,c=a(l*i),u=a(s.length),h=new Uint8Array(e.exports.memory.buffer);h.set(s,u);const d=t(c,r,i,u,s.length);if(0===d&&o&&o(c,l,i),n.set(h.subarray(c,c+r*i)),a(c-a(0)),0!==d)throw new Error("Malformed buffer data: ".concat(d))}(o,o.exports[It[i]],e,t,n,r,o.exports[Tt[s||"NONE"]])}(d,o,s,h,a,l),d}return null}var Rt=n(4959);const Lt={};function Ft(e){if(void 0===Lt[e]){const t=Rt.jU?function(e){switch(e){case"image/avif":case"image/webp":return function(e){try{return 0===document.createElement("canvas").toDataURL(e).indexOf("data:".concat(e))}catch{return!1}}(e);default:return!0}}(e):function(e){const t=["image/png","image/jpeg","image/gif"],{_parseImageNode:n,_imageFormatsNode:r=t}=globalThis;return Boolean(n)&&r.includes(e)}(e);Lt[e]=t}return Lt[e]}const Dt="EXT_texture_webp",Nt=Dt;function jt(e,t){const n=new At(e);if(!Ft("image/webp")){if(n.getRequiredExtensions().includes(Dt))throw new Error("gltf: Required extension ".concat(Dt," not supported by browser"));return}const{json:r}=n;for(const e of r.textures||[]){const t=n.getObjectExtension(e,Dt);t&&(e.source=t.source),n.removeObjectExtension(e,Dt)}n.removeExtension(Dt)}const Ut="KHR_texture_basisu",Gt=Ut;function zt(e,t){const n=new At(e),{json:r}=n;for(const e of r.textures||[]){const t=n.getObjectExtension(e,Ut);t&&(e.source=t.source),n.removeObjectExtension(e,Ut)}n.removeExtension(Ut)}const Vt={draco:{decoderType:"object"==typeof WebAssembly?"wasm":"js",libraryPath:"libs/",extraAttributes:{},attributeNameEntry:void 0}},Ht={name:"Draco",id:we.jU?"draco":"draco-nodejs",module:"draco",shapes:["mesh"],version:"3.4.14",worker:!0,extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,tests:["DRACO"],options:Vt};var Zt=n(435),Wt=n(9185),Jt=n(696),Kt=n(8118);var Xt=n(1129);function qt(e,t,n){const r=Qt(t.metadata),i=[],s=function(e){const t={};for(const n in e){const r=e[n];t[r.name||"undefined"]=r}return t}(t.attributes);for(const t in e){const n=Yt(t,e[t],s[t]);i.push(n)}if(n){const e=Yt("indices",n);i.push(e)}return new Xt.Z(i,r)}function Yt(e,t,n){return function(e,t,n){const r=(0,Kt.Y)(t.value),i=n||function(e){const t=new Map;return"byteOffset"in e&&t.set("byteOffset",e.byteOffset.toString(10)),"byteStride"in e&&t.set("byteStride",e.byteStride.toString(10)),"normalized"in e&&t.set("normalized",e.normalized.toString()),t}(t);return new Wt.Z(e,new Jt.t7(t.size,new Wt.Z("value",r)),!1,i)}(e,t,n?Qt(n.metadata):void 0)}function Qt(e){const t=new Map;for(const n in e)t.set("".concat(n,".string"),JSON.stringify(e[n]));return t}const $t={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},en={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array};class tn{constructor(e){(0,f.Z)(this,"draco",void 0),(0,f.Z)(this,"decoder",void 0),(0,f.Z)(this,"metadataQuerier",void 0),this.draco=e,this.decoder=new this.draco.Decoder,this.metadataQuerier=new this.draco.MetadataQuerier}destroy(){this.draco.destroy(this.decoder),this.draco.destroy(this.metadataQuerier)}parseSync(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new this.draco.DecoderBuffer;n.Init(new Int8Array(e),e.byteLength),this._disableAttributeTransforms(t);const r=this.decoder.GetEncodedGeometryType(n),i=r===this.draco.TRIANGULAR_MESH?new this.draco.Mesh:new this.draco.PointCloud;try{let e;switch(r){case this.draco.TRIANGULAR_MESH:e=this.decoder.DecodeBufferToMesh(n,i);break;case this.draco.POINT_CLOUD:e=this.decoder.DecodeBufferToPointCloud(n,i);break;default:throw new Error("DRACO: Unknown geometry type.")}if(!e.ok()||!i.ptr){const t="DRACO decompression failed: ".concat(e.error_msg());throw new Error(t)}const s=this._getDracoLoaderData(i,r,t),o=this._getMeshData(i,s,t),a=(0,Zt.v)(o.attributes),l=qt(o.attributes,s,o.indices);return{loader:"draco",loaderData:s,header:{vertexCount:i.num_points(),boundingBox:a},...o,schema:l}}finally{this.draco.destroy(n),i&&this.draco.destroy(i)}}_getDracoLoaderData(e,t,n){const r=this._getTopLevelMetadata(e),i=this._getDracoAttributes(e,n);return{geometry_type:t,num_attributes:e.num_attributes(),num_points:e.num_points(),num_faces:e instanceof this.draco.Mesh?e.num_faces():0,metadata:r,attributes:i}}_getDracoAttributes(e,t){const n={};for(let r=0;r<e.num_attributes();r++){const i=this.decoder.GetAttribute(e,r),s=this._getAttributeMetadata(e,r);n[i.unique_id()]={unique_id:i.unique_id(),attribute_type:i.attribute_type(),data_type:i.data_type(),num_components:i.num_components(),byte_offset:i.byte_offset(),byte_stride:i.byte_stride(),normalized:i.normalized(),attribute_index:r,metadata:s};const o=this._getQuantizationTransform(i,t);o&&(n[i.unique_id()].quantization_transform=o);const a=this._getOctahedronTransform(i,t);a&&(n[i.unique_id()].octahedron_transform=a)}return n}_getMeshData(e,t,n){const r=this._getMeshAttributes(t,e,n);if(!r.POSITION)throw new Error("DRACO: No position attribute found.");return e instanceof this.draco.Mesh?"triangle-strip"===n.topology?{topology:"triangle-strip",mode:4,attributes:r,indices:{value:this._getTriangleStripIndices(e),size:1}}:{topology:"triangle-list",mode:5,attributes:r,indices:{value:this._getTriangleListIndices(e),size:1}}:{topology:"point-list",mode:0,attributes:r}}_getMeshAttributes(e,t,n){const r={};for(const i of Object.values(e.attributes)){const e=this._deduceAttributeName(i,n);i.name=e;const{value:s,size:o}=this._getAttributeValues(t,i);r[e]={value:s,size:o,byteOffset:i.byte_offset,byteStride:i.byte_stride,normalized:i.normalized}}return r}_getTriangleListIndices(e){const t=3*e.num_faces(),n=4*t,r=this.draco._malloc(n);try{return this.decoder.GetTrianglesUInt32Array(e,n,r),new Uint32Array(this.draco.HEAPF32.buffer,r,t).slice()}finally{this.draco._free(r)}}_getTriangleStripIndices(e){const t=new this.draco.DracoInt32Array;try{return this.decoder.GetTriangleStripsFromMesh(e,t),function(e){const t=e.size(),n=new Int32Array(t);for(let r=0;r<t;r++)n[r]=e.GetValue(r);return n}(t)}finally{this.draco.destroy(t)}}_getAttributeValues(e,t){const n=en[t.data_type],r=t.num_components,i=e.num_points()*r,s=i*n.BYTES_PER_ELEMENT,o=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32;default:return e.DT_INVALID}}(this.draco,n);let a;const l=this.draco._malloc(s);try{const r=this.decoder.GetAttribute(e,t.attribute_index);this.decoder.GetAttributeDataArrayForAllPoints(e,r,o,s,l),a=new n(this.draco.HEAPF32.buffer,l,i).slice()}finally{this.draco._free(l)}return{value:a,size:r}}_deduceAttributeName(e,t){const n=e.unique_id;for(const[e,r]of Object.entries(t.extraAttributes||{}))if(r===n)return e;const r=e.attribute_type;for(const e in $t)if(this.draco[e]===r)return $t[e];const i=t.attributeNameEntry||"name";return e.metadata[i]?e.metadata[i].string:"CUSTOM_ATTRIBUTE_".concat(n)}_getTopLevelMetadata(e){const t=this.decoder.GetMetadata(e);return this._getDracoMetadata(t)}_getAttributeMetadata(e,t){const n=this.decoder.GetAttributeMetadata(e,t);return this._getDracoMetadata(n)}_getDracoMetadata(e){if(!e||!e.ptr)return{};const t={},n=this.metadataQuerier.NumEntries(e);for(let r=0;r<n;r++){const n=this.metadataQuerier.GetEntryName(e,r);t[n]=this._getDracoMetadataField(e,n)}return t}_getDracoMetadataField(e,t){const n=new this.draco.DracoInt32Array;try{this.metadataQuerier.GetIntEntryArray(e,t,n);const r=function(e){const t=e.size(),n=new Int32Array(t);for(let r=0;r<t;r++)n[r]=e.GetValue(r);return n}(n);return{int:this.metadataQuerier.GetIntEntry(e,t),string:this.metadataQuerier.GetStringEntry(e,t),double:this.metadataQuerier.GetDoubleEntry(e,t),intArray:r}}finally{this.draco.destroy(n)}}_disableAttributeTransforms(e){const{quantizedAttributes:t=[],octahedronAttributes:n=[]}=e,r=[...t,...n];for(const e of r)this.decoder.SkipAttributeTransform(this.draco[e])}_getQuantizationTransform(e,t){const{quantizedAttributes:n=[]}=t,r=e.attribute_type();if(n.map((e=>this.decoder[e])).includes(r)){const t=new this.draco.AttributeQuantizationTransform;try{if(t.InitFromAttribute(e))return{quantization_bits:t.quantization_bits(),range:t.range(),min_values:new Float32Array([1,2,3]).map((e=>t.min_value(e)))}}finally{this.draco.destroy(t)}}return null}_getOctahedronTransform(e,t){const{octahedronAttributes:n=[]}=t,r=e.attribute_type();if(n.map((e=>this.decoder[e])).includes(r)){const t=new this.draco.AttributeQuantizationTransform;try{if(t.InitFromAttribute(e))return{quantization_bits:t.quantization_bits()}}finally{this.draco.destroy(t)}}return null}}const nn="https://www.gstatic.com/draco/versioned/decoders/".concat("1.5.5"),rn="".concat(nn,"/draco_decoder.js"),sn="".concat(nn,"/draco_wasm_wrapper.js"),on="".concat(nn,"/draco_decoder.wasm");let an;"https://raw.githubusercontent.com/google/draco/".concat("1.4.1","/javascript/draco_encoder.js"),we.jU;const ln={...Ht,parse:async function(e,t){const{draco:n}=await async function(e){const t=e.modules||{};return an=t.draco3d?an||t.draco3d.createDecoderModule({}).then((e=>({draco:e}))):an||async function(e){let t,n;return"js"===(e.draco&&e.draco.decoderType)?t=await Ie(rn,"draco",e):[t,n]=await Promise.all([await Ie(sn,"draco",e),await Ie(on,"draco",e)]),t=t||globalThis.DracoDecoderModule,await function(e,t){const n={};return t&&(n.wasmBinary=t),new Promise((t=>{e({...n,onModuleLoaded:e=>t({draco:e})})}))}(t,n)}(e),await an}(t),r=new tn(n);try{return r.parseSync(e,null==t?void 0:t.draco)}finally{r.destroy()}}};function cn(e){const{buffer:t,size:n,count:r}=function(e){let t=e,n=1,r=0;return e&&e.value&&(t=e.value,n=e.size||1),t&&(ArrayBuffer.isView(t)||(t=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e?Array.isArray(e)?new t(e):!n||e instanceof t?e:new t(e):null}(t,Float32Array)),r=t.length/n),{buffer:t,size:n,count:r}}(e);return{value:t,size:n,byteOffset:0,count:r,type:yt(n),componentType:bt(t)}}const un="KHR_draco_mesh_compression",hn=un;function dn(e,t,n){const r=new At(e);for(const e of vn(r))r.getObjectExtension(e,un)}async function fn(e,t,n){var r;if(null==t||null===(r=t.gltf)||void 0===r||!r.decompressMeshes)return;const i=new At(e),s=[];for(const e of vn(i))i.getObjectExtension(e,un)&&s.push(gn(i,e,t,n));await Promise.all(s),i.removeExtension(un)}function pn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new At(e);for(const e of n.json.meshes||[])mn(e,t),n.addRequiredExtension(un)}async function gn(e,t,n,r){const i=e.getObjectExtension(t,un);if(!i)return;const s=e.getTypedArrayForBufferView(i.bufferView),o=(0,st.qv)(s.buffer,s.byteOffset),{parse:a}=r,l={...n};delete l["3d-tiles"];const c=await a(o,ln,l,r),u=function(e){const t={};for(const n in e){const r=e[n];if("indices"!==n){const e=cn(r);t[n]=e}}return t}(c.attributes);for(const[n,r]of Object.entries(u))if(n in t.attributes){const i=t.attributes[n],s=e.getAccessor(i);null!=s&&s.min&&null!=s&&s.max&&(r.min=s.min,r.max=s.max)}t.attributes=u,c.indices&&(t.indices=cn(c.indices)),function(e){if(!e.attributes&&Object.keys(e.attributes).length>0)throw new Error("glTF: Empty primitive detected: Draco decompression failure?")}(t)}function mn(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;if(!i.DracoWriter)throw new Error("options.gltf.DracoWriter not provided");const o=i.DracoWriter.encodeSync({attributes:e}),a=null==s||null===(n=s.parseSync)||void 0===n?void 0:n.call(s,{attributes:e}),l=i._addFauxAttributes(a.attributes),c=i.addBufferView(o);return{primitives:[{attributes:l,mode:r,extensions:{[un]:{bufferView:c,attributes:l}}}]}}function*vn(e){for(const t of e.json.meshes||[])for(const e of t.primitives)yield e}var yn,bn=n(1e3),wn=n(1437);!function(e){e[e.COL0ROW0=0]="COL0ROW0",e[e.COL0ROW1=1]="COL0ROW1",e[e.COL0ROW2=2]="COL0ROW2",e[e.COL1ROW0=3]="COL1ROW0",e[e.COL1ROW1=4]="COL1ROW1",e[e.COL1ROW2=5]="COL1ROW2",e[e.COL2ROW0=6]="COL2ROW0",e[e.COL2ROW1=7]="COL2ROW1",e[e.COL2ROW2=8]="COL2ROW2"}(yn||(yn={}));const _n=Object.freeze([1,0,0,0,1,0,0,0,1]);class An extends bn.Z{static get IDENTITY(){return Cn||(Cn=new An,Object.freeze(Cn)),Cn}static get ZERO(){return En||(En=new An([0,0,0,0,0,0,0,0,0]),Object.freeze(En)),En}get ELEMENTS(){return 9}get RANK(){return 3}get INDICES(){return yn}constructor(e,...t){super(-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(e)?this.copy(e):t.length>0?this.copy([e,...t]):this.identity()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this.check()}identity(){return this.copy(_n)}fromObject(e){return this.check()}fromQuaternion(e){return function(e,t){var n=t[0],r=t[1],i=t[2],s=t[3],o=n+n,a=r+r,l=i+i,c=n*o,u=r*o,h=r*a,d=i*o,f=i*a,p=i*l,g=s*o,m=s*a,v=s*l;e[0]=1-h-p,e[3]=u-v,e[6]=d+m,e[1]=u+v,e[4]=1-c-p,e[7]=f-g,e[2]=d-m,e[5]=f+g,e[8]=1-c-h}(this,e),this.check()}set(e,t,n,r,i,s,o,a,l){return this[0]=e,this[1]=t,this[2]=n,this[3]=r,this[4]=i,this[5]=s,this[6]=o,this[7]=a,this[8]=l,this.check()}setRowMajor(e,t,n,r,i,s,o,a,l){return this[0]=e,this[1]=r,this[2]=o,this[3]=t,this[4]=i,this[5]=a,this[6]=n,this[7]=s,this[8]=l,this.check()}determinant(){return function(e){var t=e[0],n=e[1],r=e[2],i=e[3],s=e[4],o=e[5],a=e[6],l=e[7],c=e[8];return t*(c*s-o*l)+n*(-c*i+o*a)+r*(l*i-s*a)}(this)}transpose(){return function(e,t){if(e===t){var n=t[1],r=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8]}(this,this),this.check()}invert(){return function(e,t){var n=t[0],r=t[1],i=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],u=t[8],h=u*o-a*c,d=-u*s+a*l,f=c*s-o*l,p=n*h+r*d+i*f;p&&(p=1/p,e[0]=h*p,e[1]=(-u*r+i*c)*p,e[2]=(a*r-i*o)*p,e[3]=d*p,e[4]=(u*n-i*l)*p,e[5]=(-a*n+i*s)*p,e[6]=f*p,e[7]=(-c*n+r*l)*p,e[8]=(o*n-r*s)*p)}(this,this),this.check()}multiplyLeft(e){return D(this,e,this),this.check()}multiplyRight(e){return D(this,this,e),this.check()}rotate(e){return function(e,t,n){var r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],c=t[6],u=t[7],h=t[8],d=Math.sin(n),f=Math.cos(n);e[0]=f*r+d*o,e[1]=f*i+d*a,e[2]=f*s+d*l,e[3]=f*o-d*r,e[4]=f*a-d*i,e[5]=f*l-d*s,e[6]=c,e[7]=u,e[8]=h}(this,this,e),this.check()}scale(e){return Array.isArray(e)?N(this,this,e):N(this,this,[e,e]),this.check()}translate(e){return function(e,t,n){var r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],c=t[6],u=t[7],h=t[8],d=n[0],f=n[1];e[0]=r,e[1]=i,e[2]=s,e[3]=o,e[4]=a,e[5]=l,e[6]=d*r+f*o+c,e[7]=d*i+f*a+u,e[8]=d*s+f*l+h}(this,this,e),this.check()}transform(e,t){let n;switch(e.length){case 2:n=wn.kK(t||[-0,-0],e,this);break;case 3:n=B.kK(t||[-0,-0,-0],e,this);break;case 4:n=(0,k._x)(t||[-0,-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return(0,O.IL)(n,e.length),n}transformVector(e,t){return this.transform(e,t)}transformVector2(e,t){return this.transform(e,t)}transformVector3(e,t){return this.transform(e,t)}}let En,Cn;const xn={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Sn={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},Tn="KHR_texture_transform",In=Tn,On=new w.Z,Pn=new An,Mn=new An;async function Bn(e,t){if(!new At(e).getExtension(Tn))return;const n=e.json.materials||[];for(let t=0;t<n.length;t++)kn(t,e)}function kn(e,t){var n,r,i;const s=[],o=null===(n=t.json.materials)||void 0===n?void 0:n[e],a=null==o||null===(r=o.pbrMetallicRoughness)||void 0===r?void 0:r.baseColorTexture;a&&Rn(t,e,a,s);const l=null==o?void 0:o.emissiveTexture;l&&Rn(t,e,l,s);const c=null==o?void 0:o.normalTexture;c&&Rn(t,e,c,s);const u=null==o?void 0:o.occlusionTexture;u&&Rn(t,e,u,s);const h=null==o||null===(i=o.pbrMetallicRoughness)||void 0===i?void 0:i.metallicRoughnessTexture;h&&Rn(t,e,h,s)}function Rn(e,t,n,r){const i=function(e,t){var n;const r=null===(n=e.extensions)||void 0===n?void 0:n[Tn],{texCoord:i=0}=e,{texCoord:s=i}=r;if(!(-1!==t.findIndex((e=>{let[t,n]=e;return t===i&&n===s})))){const n=function(e){const{offset:t=[0,0],rotation:n=0,scale:r=[1,1]}=e,i=(new An).set(1,0,0,0,1,0,t[0],t[1],1),s=Pn.set(Math.cos(n),Math.sin(n),0,-Math.sin(n),Math.cos(n),0,0,0,1),o=Mn.set(r[0],0,0,0,r[1],0,0,0,1);return i.multiplyRight(s).multiplyRight(o)}(r);return i!==s&&(e.texCoord=s),t.push([i,s]),{originalTexCoord:i,texCoord:s,matrix:n}}return null}(n,r);if(!i)return;const s=e.json.meshes||[];for(const n of s)for(const r of n.primitives){const n=r.material;Number.isFinite(n)&&t===n&&Ln(e,r,i)}}function Ln(e,t,n){const{originalTexCoord:r,texCoord:i,matrix:s}=n,o=t.attributes["TEXCOORD_".concat(r)];if(Number.isFinite(o)){var a;const n=null===(a=e.json.accessors)||void 0===a?void 0:a[o];if(n&&n.bufferView){var l;const o=null===(l=e.json.bufferViews)||void 0===l?void 0:l[n.bufferView];if(o){const{arrayBuffer:a,byteOffset:l}=e.buffers[o.buffer],c=(l||0)+(n.byteOffset||0)+(o.byteOffset||0),{ArrayType:u,length:h}=wt(n,o),d=Sn[n.componentType],f=xn[n.type],p=o.byteStride||d*f,g=new Float32Array(h);for(let e=0;e<n.count;e++){const t=new u(a,c+e*p,2);On.set(t[0],t[1],1),On.transformByMatrix3(s),g.set([On[0],On[1]],e*f)}r===i?function(e,t,n,r){e.componentType=5126,n.push({arrayBuffer:r.buffer,byteOffset:0,byteLength:r.buffer.byteLength}),t.buffer=n.length-1,t.byteLength=r.buffer.byteLength,t.byteOffset=0,delete t.byteStride}(n,o,e.buffers,g):function(e,t,n,r,i){r.buffers.push({arrayBuffer:i.buffer,byteOffset:0,byteLength:i.buffer.byteLength});const s=r.json.bufferViews;if(!s)return;s.push({buffer:r.buffers.length-1,byteLength:i.buffer.byteLength,byteOffset:0});const o=r.json.accessors;o&&(o.push({bufferView:(null==s?void 0:s.length)-1,byteOffset:0,componentType:5126,count:t.count,type:"VEC2"}),n.attributes["TEXCOORD_".concat(e)]=o.length-1)}(i,n,t,e,g)}}}}const Fn="KHR_lights_punctual",Dn=Fn;async function Nn(e){const t=new At(e),{json:n}=t,r=t.getExtension(Fn);r&&(t.json.lights=r.lights,t.removeExtension(Fn));for(const e of n.nodes||[]){const n=t.getObjectExtension(e,Fn);n&&(e.light=n.light),t.removeObjectExtension(e,Fn)}}async function jn(e){const t=new At(e),{json:n}=t;if(n.lights){const e=t.addExtension(Fn);ot(!e.lights),e.lights=n.lights,delete n.lights}if(t.json.lights){for(const e of t.json.lights){const n=e.node;t.addObjectExtension(n,Fn,e)}delete t.json.lights}}const Un="KHR_materials_unlit",Gn=Un;async function zn(e){const t=new At(e),{json:n}=t;for(const e of n.materials||[])e.extensions&&e.extensions.KHR_materials_unlit&&(e.unlit=!0),t.removeObjectExtension(e,Un);t.removeExtension(Un)}function Vn(e){const t=new At(e),{json:n}=t;if(t.materials)for(const e of n.materials||[])e.unlit&&(delete e.unlit,t.addObjectExtension(e,Un,{}),t.addExtension(Un))}const Hn="KHR_techniques_webgl",Zn=Hn;async function Wn(e){const t=new At(e),{json:n}=t,r=t.getExtension(Hn);if(r){const e=function(e,t){const{programs:n=[],shaders:r=[],techniques:i=[]}=e,s=new TextDecoder;return r.forEach((e=>{if(!Number.isFinite(e.bufferView))throw new Error("KHR_techniques_webgl: no shader code");e.code=s.decode(t.getTypedArrayForBufferView(e.bufferView))})),n.forEach((e=>{e.fragmentShader=r[e.fragmentShader],e.vertexShader=r[e.vertexShader]})),i.forEach((e=>{e.program=n[e.program]})),i}(r,t);for(const r of n.materials||[]){const n=t.getObjectExtension(r,Hn);n&&(r.technique=Object.assign({},n,e[n.technique]),r.technique.values=Kn(r.technique,t)),t.removeObjectExtension(r,Hn)}t.removeExtension(Hn)}}async function Jn(e,t){}function Kn(e,t){const n=Object.assign({},e.values);return Object.keys(e.uniforms||{}).forEach((t=>{e.uniforms[t].value&&!(t in n)&&(n[t]=e.uniforms[t].value)})),Object.keys(n).forEach((e=>{"object"==typeof n[e]&&void 0!==n[e].index&&(n[e].texture=t.getTexture(n[e].index))})),n}const Xn="EXT_feature_metadata",qn=Xn;async function Yn(e){!function(e){var t;const n=e.getExtension(Xn),r=null==n||null===(t=n.schema)||void 0===t?void 0:t.classes,i=null==n?void 0:n.featureTables;if((null==n?void 0:n.featureTextures)&&console.warn('featureTextures is not yet supported in the "EXT_feature_metadata" extension.'),r&&i)for(const t in r){const n=r[t],s=er(i,t);s&&Qn(e,s,n)}}(new At(e))}function Qn(e,t,n){for(const i in n.properties){var r;const s=n.properties[i],o=null==t||null===(r=t.properties)||void 0===r?void 0:r[i],a=t.count;if(o){const t=$n(e,s,a,o);o.data=t}}}function $n(e,t,n,r){const i=r.bufferView;let s=e.getTypedArrayForBufferView(i);switch(t.type){case"STRING":{const t=r.stringOffsetBufferView;s=function(e,t,n){const r=[],i=new TextDecoder("utf8");let s=0;for(let o=0;o<n;o++){const n=t[4*(o+1)]-t[4*o],a=e.subarray(s,n+s),l=i.decode(a);r.push(l),s+=n}return r}(s,e.getTypedArrayForBufferView(t),n);break}}return s}function er(e,t){for(const n in e){const r=e[n];if(r.class===t)return r}return null}const tr=[i,s,o,a,c,u,h,l,d];function nr(e,t){var n;const r=(null==t||null===(n=t.gltf)||void 0===n?void 0:n.excludeExtensions)||{};return!(e in r&&!r[e])}const rr="KHR_binary_glTF",ir={accessors:"accessor",animations:"animation",buffers:"buffer",bufferViews:"bufferView",images:"image",materials:"material",meshes:"mesh",nodes:"node",samplers:"sampler",scenes:"scene",skins:"skin",textures:"texture"},sr={accessor:"accessors",animations:"animation",buffer:"buffers",bufferView:"bufferViews",image:"images",material:"materials",mesh:"meshes",node:"nodes",sampler:"samplers",scene:"scenes",skin:"skins",texture:"textures"};class or{constructor(){(0,f.Z)(this,"idToIndexMap",{animations:{},accessors:{},buffers:{},bufferViews:{},images:{},materials:{},meshes:{},nodes:{},samplers:{},scenes:{},skins:{},textures:{}}),(0,f.Z)(this,"json",void 0)}normalize(e,t){this.json=e.json;const n=e.json;switch(n.asset&&n.asset.version){case"2.0":return;case void 0:case"1.0":break;default:return void console.warn("glTF: Unknown version ".concat(n.asset.version))}if(!t.normalize)throw new Error("glTF v1 is not supported.");console.warn("Converting glTF v1 to glTF v2 format. This is experimental and may fail."),this._addAsset(n),this._convertTopLevelObjectsToArrays(n),function(e){const t=new At(e),{json:n}=t;for(const e of n.images||[]){const n=t.getObjectExtension(e,rr);n&&Object.assign(e,n),t.removeObjectExtension(e,rr)}n.buffers&&n.buffers[0]&&delete n.buffers[0].uri,t.removeExtension(rr)}(e),this._convertObjectIdsToArrayIndices(n),this._updateObjects(n),this._updateMaterial(n)}_addAsset(e){e.asset=e.asset||{},e.asset.version="2.0",e.asset.generator=e.asset.generator||"Normalized to glTF 2.0 by loaders.gl"}_convertTopLevelObjectsToArrays(e){for(const t in ir)this._convertTopLevelObjectToArray(e,t)}_convertTopLevelObjectToArray(e,t){const n=e[t];if(n&&!Array.isArray(n)){e[t]=[];for(const r in n){const i=n[r];i.id=i.id||r;const s=e[t].length;e[t].push(i),this.idToIndexMap[t][r]=s}}}_convertObjectIdsToArrayIndices(e){for(const t in ir)this._convertIdsToIndices(e,t);"scene"in e&&(e.scene=this._convertIdToIndex(e.scene,"scene"));for(const t of e.textures)this._convertTextureIds(t);for(const t of e.meshes)this._convertMeshIds(t);for(const t of e.nodes)this._convertNodeIds(t);for(const t of e.scenes)this._convertSceneIds(t)}_convertTextureIds(e){e.source&&(e.source=this._convertIdToIndex(e.source,"image"))}_convertMeshIds(e){for(const t of e.primitives){const{attributes:e,indices:n,material:r}=t;for(const t in e)e[t]=this._convertIdToIndex(e[t],"accessor");n&&(t.indices=this._convertIdToIndex(n,"accessor")),r&&(t.material=this._convertIdToIndex(r,"material"))}}_convertNodeIds(e){e.children&&(e.children=e.children.map((e=>this._convertIdToIndex(e,"node")))),e.meshes&&(e.meshes=e.meshes.map((e=>this._convertIdToIndex(e,"mesh"))))}_convertSceneIds(e){e.nodes&&(e.nodes=e.nodes.map((e=>this._convertIdToIndex(e,"node"))))}_convertIdsToIndices(e,t){e[t]||(console.warn("gltf v1: json doesn't contain attribute ".concat(t)),e[t]=[]);for(const n of e[t])for(const e in n){const t=n[e],r=this._convertIdToIndex(t,e);n[e]=r}}_convertIdToIndex(e,t){const n=sr[t];if(n in this.idToIndexMap){const r=this.idToIndexMap[n][e];if(!Number.isFinite(r))throw new Error("gltf v1: failed to resolve ".concat(t," with id ").concat(e));return r}return e}_updateObjects(e){for(const e of this.json.buffers)delete e.type}_updateMaterial(e){for(const i of e.materials){var t,n,r;i.pbrMetallicRoughness={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1};const s=(null===(t=i.values)||void 0===t?void 0:t.tex)||(null===(n=i.values)||void 0===n?void 0:n.texture2d_0)||(null===(r=i.values)||void 0===r?void 0:r.diffuseTex),o=e.textures.findIndex((e=>e.id===s));-1!==o&&(i.pbrMetallicRoughness.baseColorTexture={index:o})}}}const ar={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},lr={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},cr={magFilter:10240,minFilter:10241,wrapS:10242,wrapT:10243},ur={10240:9729,10241:9986,10242:10497,10243:10497};class hr{constructor(){(0,f.Z)(this,"baseUri",""),(0,f.Z)(this,"json",{}),(0,f.Z)(this,"buffers",[]),(0,f.Z)(this,"images",[])}postProcess(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{json:n,buffers:r=[],images:i=[],baseUri:s=""}=e;return ot(n),this.baseUri=s,this.json=n,this.buffers=r,this.images=i,this._resolveTree(this.json,t),this.json}_resolveTree(e){e.bufferViews&&(e.bufferViews=e.bufferViews.map(((e,t)=>this._resolveBufferView(e,t)))),e.images&&(e.images=e.images.map(((e,t)=>this._resolveImage(e,t)))),e.samplers&&(e.samplers=e.samplers.map(((e,t)=>this._resolveSampler(e,t)))),e.textures&&(e.textures=e.textures.map(((e,t)=>this._resolveTexture(e,t)))),e.accessors&&(e.accessors=e.accessors.map(((e,t)=>this._resolveAccessor(e,t)))),e.materials&&(e.materials=e.materials.map(((e,t)=>this._resolveMaterial(e,t)))),e.meshes&&(e.meshes=e.meshes.map(((e,t)=>this._resolveMesh(e,t)))),e.nodes&&(e.nodes=e.nodes.map(((e,t)=>this._resolveNode(e,t)))),e.skins&&(e.skins=e.skins.map(((e,t)=>this._resolveSkin(e,t)))),e.scenes&&(e.scenes=e.scenes.map(((e,t)=>this._resolveScene(e,t)))),void 0!==e.scene&&(e.scene=e.scenes[this.json.scene])}getScene(e){return this._get("scenes",e)}getNode(e){return this._get("nodes",e)}getSkin(e){return this._get("skins",e)}getMesh(e){return this._get("meshes",e)}getMaterial(e){return this._get("materials",e)}getAccessor(e){return this._get("accessors",e)}getCamera(e){return null}getTexture(e){return this._get("textures",e)}getSampler(e){return this._get("samplers",e)}getImage(e){return this._get("images",e)}getBufferView(e){return this._get("bufferViews",e)}getBuffer(e){return this._get("buffers",e)}_get(e,t){if("object"==typeof t)return t;const n=this.json[e]&&this.json[e][t];return n||console.warn("glTF file error: Could not find ".concat(e,"[").concat(t,"]")),n}_resolveScene(e,t){return e.id=e.id||"scene-".concat(t),e.nodes=(e.nodes||[]).map((e=>this.getNode(e))),e}_resolveNode(e,t){return e.id=e.id||"node-".concat(t),e.children&&(e.children=e.children.map((e=>this.getNode(e)))),void 0!==e.mesh?e.mesh=this.getMesh(e.mesh):void 0!==e.meshes&&e.meshes.length&&(e.mesh=e.meshes.reduce(((e,t)=>{const n=this.getMesh(t);return e.id=n.id,e.primitives=e.primitives.concat(n.primitives),e}),{primitives:[]})),void 0!==e.camera&&(e.camera=this.getCamera(e.camera)),void 0!==e.skin&&(e.skin=this.getSkin(e.skin)),e}_resolveSkin(e,t){return e.id=e.id||"skin-".concat(t),e.inverseBindMatrices=this.getAccessor(e.inverseBindMatrices),e}_resolveMesh(e,t){return e.id=e.id||"mesh-".concat(t),e.primitives&&(e.primitives=e.primitives.map((e=>{const t=(e={...e}).attributes;e.attributes={};for(const n in t)e.attributes[n]=this.getAccessor(t[n]);return void 0!==e.indices&&(e.indices=this.getAccessor(e.indices)),void 0!==e.material&&(e.material=this.getMaterial(e.material)),e}))),e}_resolveMaterial(e,t){if(e.id=e.id||"material-".concat(t),e.normalTexture&&(e.normalTexture={...e.normalTexture},e.normalTexture.texture=this.getTexture(e.normalTexture.index)),e.occlusionTexture&&(e.occlustionTexture={...e.occlustionTexture},e.occlusionTexture.texture=this.getTexture(e.occlusionTexture.index)),e.emissiveTexture&&(e.emmisiveTexture={...e.emmisiveTexture},e.emissiveTexture.texture=this.getTexture(e.emissiveTexture.index)),e.emissiveFactor||(e.emissiveFactor=e.emmisiveTexture?[1,1,1]:[0,0,0]),e.pbrMetallicRoughness){e.pbrMetallicRoughness={...e.pbrMetallicRoughness};const t=e.pbrMetallicRoughness;t.baseColorTexture&&(t.baseColorTexture={...t.baseColorTexture},t.baseColorTexture.texture=this.getTexture(t.baseColorTexture.index)),t.metallicRoughnessTexture&&(t.metallicRoughnessTexture={...t.metallicRoughnessTexture},t.metallicRoughnessTexture.texture=this.getTexture(t.metallicRoughnessTexture.index))}return e}_resolveAccessor(e,t){var n,r;if(e.id=e.id||"accessor-".concat(t),void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView)),e.bytesPerComponent=(n=e.componentType,lr[n]),e.components=(r=e.type,ar[r]),e.bytesPerElement=e.bytesPerComponent*e.components,e.bufferView){const t=e.bufferView.buffer,{ArrayType:n,byteLength:r}=wt(e,e.bufferView),i=(e.bufferView.byteOffset||0)+(e.byteOffset||0)+t.byteOffset;let s=t.arrayBuffer.slice(i,i+r);e.bufferView.byteStride&&(s=this._getValueFromInterleavedBuffer(t,i,e.bufferView.byteStride,e.bytesPerElement,e.count)),e.value=new n(s)}return e}_getValueFromInterleavedBuffer(e,t,n,r,i){const s=new Uint8Array(i*r);for(let o=0;o<i;o++){const i=t+o*n;s.set(new Uint8Array(e.arrayBuffer.slice(i,i+r)),o*r)}return s.buffer}_resolveTexture(e,t){return e.id=e.id||"texture-".concat(t),e.sampler="sampler"in e?this.getSampler(e.sampler):ur,e.source=this.getImage(e.source),e}_resolveSampler(e,t){e.id=e.id||"sampler-".concat(t),e.parameters={};for(const t in e){const n=this._enumSamplerParameter(t);void 0!==n&&(e.parameters[n]=e[t])}return e}_enumSamplerParameter(e){return cr[e]}_resolveImage(e,t){e.id=e.id||"image-".concat(t),void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView));const n=this.images[t];return n&&(e.image=n),e}_resolveBufferView(e,t){const n=e.buffer,r={id:"bufferView-".concat(t),...e,buffer:this.buffers[n]},i=this.buffers[n].arrayBuffer;let s=this.buffers[n].byteOffset||0;return"byteOffset"in e&&(s+=e.byteOffset),r.data=new Uint8Array(i,s,e.byteLength),r}_resolveCamera(e,t){return e.id=e.id||"camera-".concat(t),e.perspective,e.orthographic,e}}const dr=1735152710,fr=12,pr=8,gr=1313821514,mr=5130562,vr=0,yr=1,br=0,wr=!0;function _r(e,t,n,r){const i=new Uint8Array(t.buffer,n,r),s=new TextDecoder("utf8").decode(i);return e.json=JSON.parse(s),ut(r,4)}function Ar(e,t,n,r){return e.header.hasBinChunk=!0,e.binChunks.push({byteOffset:n,byteLength:r,arrayBuffer:t.buffer}),ut(r,4)}async function Er(e,t){var n,r,i,s;let o=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;!function(e,t,n,r){if(r.uri&&(e.baseUri=r.uri),t instanceof ArrayBuffer&&!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new DataView(e),{magic:i=dr}=n,s=r.getUint32(t,!1);return s===i||s===dr}(t,n,r)&&(t=(new TextDecoder).decode(t)),"string"==typeof t)e.json=function(e){try{return JSON.parse(e)}catch(t){throw new Error('Failed to parse JSON from data starting with "'.concat(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return"string"==typeof e?e.slice(0,t):ArrayBuffer.isView(e)?it(e.buffer,e.byteOffset,t):e instanceof ArrayBuffer?it(e,0,t):""}(e),'"'))}}(t);else if(t instanceof ArrayBuffer){const i={};n=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=new DataView(t),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"".concat(String.fromCharCode(e.getUint8(t+0))).concat(String.fromCharCode(e.getUint8(t+1))).concat(String.fromCharCode(e.getUint8(t+2))).concat(String.fromCharCode(e.getUint8(t+3)))}(i,n+0),o=i.getUint32(n+4,wr),a=i.getUint32(n+8,wr);switch(Object.assign(e,{header:{byteOffset:n,byteLength:a,hasBinChunk:!1},type:s,version:o,json:{},binChunks:[]}),n+=fr,e.version){case 1:return function(e,t,n){(0,ct.h)(e.header.byteLength>fr+pr);const r=t.getUint32(n+0,wr),i=t.getUint32(n+4,wr);return n+=pr,(0,ct.h)(i===br),_r(e,t,n,r),(n+=r)+Ar(e,t,n,e.header.byteLength)}(e,i,n);case 2:return function(e,t,n,r){return(0,ct.h)(e.header.byteLength>fr+pr),function(e,t,n,r){for(;n+8<=e.header.byteLength;){const i=t.getUint32(n+0,wr),s=t.getUint32(n+4,wr);switch(n+=pr,s){case gr:_r(e,t,n,i);break;case mr:Ar(e,t,n,i);break;case vr:r.strict||_r(e,t,n,i);break;case yr:r.strict||Ar(e,t,n,i)}n+=ut(i,4)}}(e,t,n,r),n+e.header.byteLength}(e,i,n,r={});default:throw new Error("Invalid GLB version ".concat(e.version,". Only supports v1 and v2."))}}(i,t,n,r.glb),ot("glTF"===i.type,"Invalid GLB magic string ".concat(i.type)),e._glb=i,e.json=i.json}else ot(!1,"GLTF: must be ArrayBuffer or string");const i=e.json.buffers||[];if(e.buffers=new Array(i.length).fill(null),e._glb&&e._glb.header.hasBinChunk){const{binChunks:t}=e._glb;e.buffers[0]={arrayBuffer:t[0].arrayBuffer,byteOffset:t[0].byteOffset,byteLength:t[0].byteLength}}const s=e.json.images||[];e.images=new Array(s.length).fill({})}(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(new or).normalize(e,t)}(e,{normalize:null==o||null===(n=o.gltf)||void 0===n?void 0:n.normalize}),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r=tr.filter((e=>nr(e.name,t)));for(const s of r){var i;null===(i=s.preprocess)||void 0===i||i.call(s,e,t,n)}}(e,o,a);const l=[];if(null!=o&&null!==(r=o.gltf)&&void 0!==r&&r.loadBuffers&&e.json.buffers&&await async function(e,t,n){const r=e.json.buffers||[];for(let o=0;o<r.length;++o){const a=r[o];if(a.uri){var i,s;const{fetch:r}=n;ot(r);const l=at(a.uri,t),c=await(null==n||null===(i=n.fetch)||void 0===i?void 0:i.call(n,l)),u=await(null==c||null===(s=c.arrayBuffer)||void 0===s?void 0:s.call(c));e.buffers[o]={arrayBuffer:u,byteOffset:0,byteLength:u.byteLength},delete a.uri}else null===e.buffers[o]&&(e.buffers[o]={arrayBuffer:new ArrayBuffer(a.byteLength),byteOffset:0,byteLength:a.byteLength})}}(e,o,a),null!=o&&null!==(i=o.gltf)&&void 0!==i&&i.loadImages){const t=async function(e,t,n){const r=function(e){const t=new Set,n=e.json.textures||[];for(const e of n)void 0!==e.source&&t.add(e.source);return Array.from(t).sort()}(e),i=e.json.images||[],s=[];for(const o of r)s.push(Cr(e,i[o],o,t,n));return await Promise.all(s)}(e,o,a);l.push(t)}const c=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r=tr.filter((e=>nr(e.name,t)));for(const s of r){var i;await(null===(i=s.decode)||void 0===i?void 0:i.call(s,e,t,n))}}(e,o,a);return l.push(c),await Promise.all(l),null!=o&&null!==(s=o.gltf)&&void 0!==s&&s.postProcess?function(e,t){return(new hr).postProcess(e,t)}(e,o):e}async function Cr(e,t,n,r,i){const{fetch:s,parse:o}=i;let a;if(t.uri&&!t.hasOwnProperty("bufferView")){const e=at(t.uri,r),n=await s(e);a=await n.arrayBuffer(),t.bufferView={data:a}}if(Number.isFinite(t.bufferView)){const n=function(e,t,n){const r=e.bufferViews[n];ot(r);const i=t[r.buffer];ot(i);const s=(r.byteOffset||0)+i.byteOffset;return new Uint8Array(i.arrayBuffer,s,r.byteLength)}(e.json,e.buffers,t.bufferView);a=(0,st.qv)(n.buffer,n.byteOffset,n.byteLength)}ot(a,"glTF image has no data");let l=await o(a,[rt.S,nt],{mimeType:t.mimeType,basis:r.basis||{format:tt()}},i);l&&l[0]&&(l={compressed:!0,mipmaps:!1,width:l[0].width,height:l[0].height,data:l[0]}),e.images=e.images||[],e.images[n]=l}const xr={name:"glTF",id:"gltf",module:"gltf",version:"3.4.14",extensions:["gltf","glb"],mimeTypes:["model/gltf+json","model/gltf-binary"],text:!0,binary:!0,tests:["glTF"],parse:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;t={...xr.options,...t},t.gltf={...xr.options.gltf,...t.gltf};const{byteOffset:r=0}=t;return await Er({},e,r,t,n)},options:{gltf:{normalize:!0,loadBuffers:!0,loadImages:!0,decompressMeshes:!0,postProcess:!0},log:console},deprecatedOptions:{fetchImages:"gltf.loadImages",createImages:"gltf.loadImages",decompress:"gltf.decompressMeshes",postProcess:"gltf.postProcess",gltf:{decompress:"gltf.decompressMeshes"}}};var Sr=n(7805);const Tr=[255,255,255,255],Ir={scenegraph:{type:"object",value:null,async:!0},getScene:e=>e&&e.scenes?"object"==typeof e.scene?e.scene:e.scenes[e.scene||0]:e,getAnimator:e=>e&&e.animator,_animations:null,sizeScale:{type:"number",value:1,min:0},sizeMinPixels:{type:"number",min:0,value:0},sizeMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},getPosition:{type:"accessor",value:e=>e.position},getColor:{type:"accessor",value:Tr},_lighting:"flat",_imageBasedLightingEnvironment:null,getOrientation:{type:"accessor",value:[0,0,0]},getScale:{type:"accessor",value:[1,1,1]},getTranslation:{type:"accessor",value:[0,0,0]},getTransformMatrix:{type:"accessor",value:[]},loaders:[xr]};class Or extends p.Z{constructor(...e){super(...e),(0,f.Z)(this,"state",void 0)}getShaders(){const e=[g.Z,m.Z];return"pbr"===this.props._lighting&&e.push(b),super.getShaders({vs:"#version 300 es\nin vec3 instancePositions;\nin vec3 instancePositions64Low;\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nin mat3 instanceModelMatrix;\nin vec3 instanceTranslation;\nuniform float sizeScale;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform mat4 sceneModelMatrix;\nuniform bool composeModelMatrix;\nin vec4 POSITION;\n\n#ifdef HAS_UV\n  in vec2 TEXCOORD_0;\n#endif\n\n#ifdef MODULE_PBR\n  #ifdef HAS_NORMALS\n    in vec4 NORMAL;\n  #endif\n#endif\nout vec4 vColor;\n#ifndef MODULE_PBR\n  #ifdef HAS_UV\n    out vec2 vTEXCOORD_0;\n  #endif\n#endif\nvoid main(void) {\n  #if defined(HAS_UV) && !defined(MODULE_PBR)\n    vTEXCOORD_0 = TEXCOORD_0;\n    geometry.uv = vTEXCOORD_0;\n  #endif\n\n  geometry.worldPosition = instancePositions;\n  geometry.pickingColor = instancePickingColors;\n\n  vec3 normal = vec3(0.0, 0.0, 1.0);\n  #ifdef MODULE_PBR\n    #ifdef HAS_NORMALS\n      normal = instanceModelMatrix * (sceneModelMatrix * vec4(NORMAL.xyz, 0.0)).xyz;\n    #endif\n  #endif\n\n  float originalSize = project_size_to_pixel(sizeScale);\n  float clampedSize = clamp(originalSize, sizeMinPixels, sizeMaxPixels);\n\n  vec3 pos = (instanceModelMatrix * (sceneModelMatrix * POSITION).xyz) * sizeScale * (clampedSize / originalSize) + instanceTranslation;\n  if(composeModelMatrix) {\n    DECKGL_FILTER_SIZE(pos, geometry);\n    geometry.normal = project_normal(normal);\n    geometry.worldPosition += pos;\n    gl_Position = project_position_to_clipspace(pos + instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n  }\n  else {\n    pos = project_size(pos);\n    DECKGL_FILTER_SIZE(pos, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, pos, geometry.position);\n    geometry.normal = project_normal(normal);\n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  #ifdef MODULE_PBR\n    pbr_vPosition = geometry.position.xyz;\n    #ifdef HAS_NORMALS\n      pbr_vNormal = geometry.normal;\n    #endif\n\n    #ifdef HAS_UV\n      pbr_vUV = TEXCOORD_0;\n    #else\n      pbr_vUV = vec2(0., 0.);\n    #endif\n    geometry.uv = pbr_vUV;\n  #endif\n\n  vColor = instanceColors;\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\nuniform float opacity;\nin vec4 vColor;\n\nout vec4 fragmentColor;\n#ifndef MODULE_PBR\n  #if defined(HAS_UV) && defined(HAS_BASECOLORMAP)\n    in vec2 vTEXCOORD_0;\n    uniform sampler2D u_BaseColorSampler;\n  #endif\n#endif\n\nvoid main(void) {\n  #ifdef MODULE_PBR\n    fragmentColor = vColor * pbr_filterColor(vec4(0));\n    geometry.uv = pbr_vUV;\n  #else\n    #if defined(HAS_UV) && defined(HAS_BASECOLORMAP)\n      fragmentColor = vColor * texture2D(u_BaseColorSampler, vTEXCOORD_0);\n      geometry.uv = vTEXCOORD_0;\n    #else\n      fragmentColor = vColor;\n    #endif\n  #endif\n\n  fragmentColor.a *= opacity;\n  DECKGL_FILTER_COLOR(fragmentColor, geometry);\n}\n",modules:e})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),accessor:"getPosition",transition:!0},instanceColors:{type:5121,size:this.props.colorFormat.length,accessor:"getColor",normalized:!0,defaultValue:Tr,transition:!0},instanceModelMatrix:Sr.P})}updateState(e){super.updateState(e);const{props:t,oldProps:n}=e;t.scenegraph!==n.scenegraph?this._updateScenegraph():t._animations!==n._animations&&this._applyAnimationsProp(this.state.scenegraph,this.state.animator,t._animations)}finalizeState(e){super.finalizeState(e),this._deleteScenegraph()}get isLoaded(){var e;return(null===(e=this.state)||void 0===e?void 0:e.scenegraph)&&super.isLoaded}_updateScenegraph(){const e=this.props,{gl:t}=this.context;let n=null;if(e.scenegraph instanceof C)n={scenes:[e.scenegraph]};else if(e.scenegraph&&!e.scenegraph.gltf){const r=e.scenegraph,i=function(e,t,n){const r=new be(e,n);return{scenes:r.instantiate(t),animator:r.createAnimator()}}(t,r,this._getModelOptions());n={gltf:r,...i},async function(e){const t=[];return e.scenes.forEach((e=>{e.traverse((e=>{Object.values(e.model.getUniforms()).forEach((e=>{!1===e.loaded&&t.push(e)}))}))})),await async function(e){for(;t.some((e=>!e.loaded));)await new Promise((e=>requestAnimationFrame(e)))}()}(i).then((()=>this.setNeedsRedraw()))}else e.scenegraph&&(v.Z.deprecated("ScenegraphLayer.props.scenegraph","Use GLTFLoader instead of GLTFScenegraphLoader")(),n=e.scenegraph);const r={layer:this,gl:t},i=e.getScene(n,r),s=e.getAnimator(n,r);i instanceof C?(this._deleteScenegraph(),this._applyAllAttributes(i),this._applyAnimationsProp(i,s,e._animations),this.setState({scenegraph:i,animator:s})):null!==i&&v.Z.warn("invalid scenegraph:",i)()}_applyAllAttributes(e){if(this.state.attributesAvailable){const t=this.getAttributeManager().getAttributes();e.traverse((e=>{this._setModelAttributes(e.model,t)}))}}_applyAnimationsProp(e,t,n){if(!e||!t||!n)return;const r=t.getAnimations();Object.keys(n).sort().forEach((e=>{const t=n[e];if("*"===e)r.forEach((e=>{Object.assign(e,t)}));else if(Number.isFinite(Number(e))){const n=Number(e);n>=0&&n<r.length?Object.assign(r[n],t):v.Z.warn("animation ".concat(e," not found"))()}else{const n=r.find((({name:t})=>t===e));n?Object.assign(n,t):v.Z.warn("animation ".concat(e," not found"))()}}))}_deleteScenegraph(){const{scenegraph:e}=this.state;e instanceof C&&e.delete()}_getModelOptions(){const{_imageBasedLightingEnvironment:e}=this.props;let t=null;return e&&(t="function"==typeof e?e({gl:this.context.gl,layer:this}):e),{gl:this.context.gl,waitForFullLoad:!0,imageBasedLightingEnvironment:t,modelOptions:{isInstanced:!0,transpileToGLSL100:!(0,y.D0)(this.context.gl),...this.getShaders()},useTangents:!1}}updateAttributes(e){this.setState({attributesAvailable:!0}),this.state.scenegraph&&this.state.scenegraph.traverse((t=>{this._setModelAttributes(t.model,e)}))}draw({moduleParameters:e=null,parameters:t={},context:n}){if(!this.state.scenegraph)return;this.props._animations&&this.state.animator&&(this.state.animator.animate(n.timeline.getTime()),this.setNeedsRedraw());const{viewport:r}=this.context,{sizeScale:i,sizeMinPixels:s,sizeMaxPixels:o,opacity:a,coordinateSystem:l}=this.props,c=this.getNumInstances();this.state.scenegraph.traverse(((n,{worldMatrix:u})=>{n.model.setInstanceCount(c),n.updateModuleSettings(e),n.draw({parameters:t,uniforms:{sizeScale:i,opacity:a,sizeMinPixels:s,sizeMaxPixels:o,composeModelMatrix:(0,Sr.X)(r,l),sceneModelMatrix:u,u_Camera:n.model.getUniforms().project_uCameraPosition}})}))}}(0,f.Z)(Or,"defaultProps",Ir),(0,f.Z)(Or,"layerName","ScenegraphLayer")},8587:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var r=n(4572),i=n(744),s=n(5522),o=n(3844),a=n(7024);const l={};a.H;const c={name:"phong-lighting",dependencies:[a.H],fs:"\nuniform float lighting_uAmbient;\nuniform float lighting_uDiffuse;\nuniform float lighting_uShininess;\nuniform vec3  lighting_uSpecularColor;\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 light_direction, vec3 view_direction, vec3 normal_worldspace, vec3 color) {\n    vec3 halfway_direction = normalize(light_direction + view_direction);\n    float lambertian = dot(light_direction, normal_worldspace);\n    float specular = 0.0;\n    if (lambertian > 0.0) {\n      float specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);\n      specular = pow(specular_angle, lighting_uShininess);\n    }\n    lambertian = max(lambertian, 0.0);\n    return (lambertian * lighting_uDiffuse * surfaceColor + specular * lighting_uSpecularColor) * color;\n}\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = surfaceColor;\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n    lightColor = lighting_uAmbient * surfaceColor * lighting_uAmbientLight.color;\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n\nvec3 lighting_getSpecularLightColor(vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = vec3(0, 0, 0);\n  vec3 surfaceColor = vec3(0, 0, 0);\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n",defines:{LIGHTING_FRAGMENT:1},getUniforms:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;if(!("material"in e))return{};const{material:t}=e;return t?function(e){const{ambient:t=.35,diffuse:n=.6,shininess:r=32,specularColor:i=[30,30,30]}=e;return{lighting_uAmbient:t,lighting_uDiffuse:n,lighting_uShininess:r,lighting_uSpecularColor:i.map((e=>e/255))}}(t):{lighting_uEnabled:!1}}};var u=n(1331),h=n(3982),d=n(9450),f=n(4912),p=n(9769),g=n(4211),m=n(6948),v=n(7805),y=n(435);function b(e,t){(e.COLOR_0||e.colors)&&t||(e.colors={constant:!0,value:new Float32Array([1,1,1])}),i.Z.assert(e.positions||e.POSITION,'no "postions" or "POSITION" attribute in mesh')}function w(e,t){if(e.attributes)return b(e.attributes,t),e instanceof h.Z?e:new h.Z(e);if(e.positions||e.POSITION)return b(e,t),new h.Z({attributes:e});throw Error("Invalid mesh")}class _ extends s.Z{constructor(...e){super(...e),(0,r.Z)(this,"state",void 0)}getShaders(){const e=!(0,d.D0)(this.context.gl),t={};return(0,g.U6)(this.context.gl,m.h.GLSL_DERIVATIVES)&&(t.DERIVATIVES_AVAILABLE=1),super.getShaders({vs:"#version 300 es\n#define SHADER_NAME simple-mesh-layer-vs\nuniform float sizeScale;\nuniform bool composeModelMatrix;\nin vec3 positions;\nin vec3 normals;\nin vec3 colors;\nin vec2 texCoords;\nin vec3 instancePositions;\nin vec3 instancePositions64Low;\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nin mat3 instanceModelMatrix;\nin vec3 instanceTranslation;\nout vec2 vTexCoord;\nout vec3 cameraPosition;\nout vec3 normals_commonspace;\nout vec4 position_commonspace;\nout vec4 vColor;\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = texCoords;\n  geometry.pickingColor = instancePickingColors;\n\n  vTexCoord = texCoords;\n  cameraPosition = project_uCameraPosition;\n  vColor = vec4(colors * instanceColors.rgb, instanceColors.a);\n\n  vec3 pos = (instanceModelMatrix * positions) * sizeScale + instanceTranslation;\n\n  if (composeModelMatrix) {\n    DECKGL_FILTER_SIZE(pos, geometry);\n    normals_commonspace = project_normal(instanceModelMatrix * normals);\n    geometry.worldPosition += pos;\n    gl_Position = project_position_to_clipspace(pos + instancePositions, instancePositions64Low, vec3(0.0), position_commonspace);\n    geometry.position = position_commonspace;\n  }\n  else {\n    pos = project_size(pos);\n    DECKGL_FILTER_SIZE(pos, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, pos, position_commonspace);\n    geometry.position = position_commonspace;\n    normals_commonspace = project_normal(instanceModelMatrix * normals);\n  }\n\n  geometry.normal = normals_commonspace;\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\n#define SHADER_NAME simple-mesh-layer-fs\n\nprecision highp float;\n\nuniform bool hasTexture;\nuniform sampler2D sampler;\nuniform bool flatShading;\nuniform float opacity;\n\nin vec2 vTexCoord;\nin vec3 cameraPosition;\nin vec3 normals_commonspace;\nin vec4 position_commonspace;\nin vec4 vColor;\n\nout vec4 fragColor;\n\nvoid main(void) {\n  geometry.uv = vTexCoord;\n\n  vec3 normal;\n  if (flatShading) {\n#ifdef DERIVATIVES_AVAILABLE\n    normal = normalize(cross(dFdx(position_commonspace.xyz), dFdy(position_commonspace.xyz)));\n#else\n    normal = vec3(0.0, 0.0, 1.0);\n#endif\n  } else {\n    normal = normals_commonspace;\n  }\n\n  vec4 color = hasTexture ? texture(sampler, vTexCoord) : vColor;\n  DECKGL_FILTER_COLOR(color, geometry);\n\n  vec3 lightColor = lighting_getLightColor(color.rgb, cameraPosition, position_commonspace.xyz, normal);\n  fragColor = vec4(lightColor, color.a * opacity);\n}\n",modules:[o.Z,c,u.Z],transpileToGLSL100:e,defines:t})}getBounds(){var e;if(this.props._instanced)return super.getBounds();let t=this.state.positionBounds;if(t)return t;const{mesh:n}=this.props;if(!n)return null;if(t=null===(e=n.header)||void 0===e?void 0:e.boundingBox,!t){const{attributes:e}=w(n,this.props._useMeshColors);e.POSITION=e.POSITION||e.positions,t=(0,y.v)(e)}return this.state.positionBounds=t,t}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{transition:!0,type:5130,fp64:this.use64bitPositions(),size:3,accessor:"getPosition"},instanceColors:{type:5121,transition:!0,size:this.props.colorFormat.length,normalized:!0,accessor:"getColor",defaultValue:[0,0,0,255]},instanceModelMatrix:v.P}),this.setState({emptyTexture:new f.Z(this.context.gl,{data:new Uint8Array(4),width:1,height:1})})}updateState(e){super.updateState(e);const{props:t,oldProps:n,changeFlags:r}=e;if(t.mesh!==n.mesh||r.extensionsChanged){var i;if(this.state.positionBounds=null,null===(i=this.state.model)||void 0===i||i.delete(),t.mesh){this.state.model=this.getModel(t.mesh);const e=t.mesh.attributes||t.mesh;this.setState({hasNormals:Boolean(e.NORMAL||e.normals)})}this.getAttributeManager().invalidateAll()}t.texture!==n.texture&&this.setTexture(t.texture),this.state.model&&this.state.model.setDrawMode(this.props.wireframe?3:4)}finalizeState(e){super.finalizeState(e),this.state.emptyTexture.delete()}draw({uniforms:e}){if(!this.state.model)return;const{viewport:t}=this.context,{sizeScale:n,coordinateSystem:r,_instanced:i}=this.props;this.state.model.setUniforms(e).setUniforms({sizeScale:n,composeModelMatrix:!i||(0,v.X)(t,r),flatShading:!this.state.hasNormals}).draw()}get isLoaded(){var e;return(null===(e=this.state)||void 0===e?void 0:e.model)&&super.isLoaded}getModel(e){const t=new p.Z(this.context.gl,{...this.getShaders(),id:this.props.id,geometry:w(e,this.props._useMeshColors),isInstanced:!0}),{texture:n}=this.props,{emptyTexture:r}=this.state;return t.setUniforms({sampler:n||r,hasTexture:Boolean(n)}),t}setTexture(e){const{emptyTexture:t,model:n}=this.state;n&&n.setUniforms({sampler:e||t,hasTexture:Boolean(e)})}}(0,r.Z)(_,"defaultProps",{mesh:{type:"object",value:null,async:!0},texture:{type:"image",value:null,async:!0},sizeScale:{type:"number",value:1,min:0},_useMeshColors:{type:"boolean",value:!1},_instanced:!0,wireframe:!1,material:!0,getPosition:{type:"accessor",value:e=>e.position},getColor:{type:"accessor",value:[0,0,0,255]},getOrientation:{type:"accessor",value:[0,0,0]},getScale:{type:"accessor",value:[1,1,1]},getTranslation:{type:"accessor",value:[0,0,0]},getTransformMatrix:{type:"accessor",value:[]},textureParameters:{type:"object",ignore:!0}}),(0,r.Z)(_,"layerName","SimpleMeshLayer")},7805:(e,t,n)=>{"use strict";n.d(t,{P:()=>u,X:()=>h});var r=n(8550),i=n(4088);const s=Math.PI/180,o=new Float32Array(16),a=new Float32Array(12);function l(e,t,n){const r=t[0]*s,i=t[1]*s,o=t[2]*s,a=Math.sin(o),l=Math.sin(r),c=Math.sin(i),u=Math.cos(o),h=Math.cos(r),d=Math.cos(i),f=n[0],p=n[1],g=n[2];e[0]=f*d*h,e[1]=f*c*h,e[2]=f*-l,e[3]=p*(-c*u+d*l*a),e[4]=p*(d*u+c*l*a),e[5]=p*h*a,e[6]=g*(c*a+d*l*u),e[7]=g*(-d*a+c*l*u),e[8]=g*h*u}function c(e){return e[0]=e[0],e[1]=e[1],e[2]=e[2],e[3]=e[4],e[4]=e[5],e[5]=e[6],e[6]=e[8],e[7]=e[9],e[8]=e[10],e[9]=e[12],e[10]=e[13],e[11]=e[14],e.subarray(0,12)}const u={size:12,accessor:["getOrientation","getScale","getTranslation","getTransformMatrix"],shaderAttributes:{instanceModelMatrix__LOCATION_0:{size:3,elementOffset:0},instanceModelMatrix__LOCATION_1:{size:3,elementOffset:3},instanceModelMatrix__LOCATION_2:{size:3,elementOffset:6},instanceTranslation:{size:3,elementOffset:9}},update(e,{startRow:t,endRow:n}){const{data:i,getOrientation:s,getScale:u,getTranslation:h,getTransformMatrix:d}=this.props,f=Array.isArray(d),p=f&&16===d.length,g=Array.isArray(u),m=Array.isArray(s),v=Array.isArray(h),y=p||!f&&Boolean(d(i[0]));e.constant=y?p:m&&g&&v;const b=e.value;if(e.constant){let t;y?(o.set(d),t=c(o)):(t=a,l(t,s,u),t.set(h,9)),e.value=new Float32Array(t)}else{let f=t*e.size;const{iterable:w,objectInfo:_}=(0,r.jB)(i,t,n);for(const e of w){let t;_.index++,y?(o.set(p?d:d(e,_)),t=c(o)):(t=a,l(t,m?s:s(e,_),g?u:u(e,_)),t.set(v?h:h(e,_),9)),b[f++]=t[0],b[f++]=t[1],b[f++]=t[2],b[f++]=t[3],b[f++]=t[4],b[f++]=t[5],b[f++]=t[6],b[f++]=t[7],b[f++]=t[8],b[f++]=t[9],b[f++]=t[10],b[f++]=t[11]}}}};function h(e,t){return t===i.Df.CARTESIAN||t===i.Df.METER_OFFSETS||t===i.Df.DEFAULT&&!e.isGeospatial}},8557:(e,t,n)=>{"use strict";n.d(t,{Z:()=>cn});var r=n(7294),i=n(4572);let s=1,o=1;class a{constructor(){this.time=0,this.channels=new Map,this.animations=new Map,this.playing=!1,this.lastEngineTime=-1}addChannel(e){const{delay:t=0,duration:n=Number.POSITIVE_INFINITY,rate:r=1,repeat:i=1}=e,o=s++,a={time:0,delay:t,duration:n,rate:r,repeat:i};return this._setChannelTime(a,this.time),this.channels.set(o,a),o}removeChannel(e){this.channels.delete(e);for(const[t,n]of this.animations)n.channel===e&&this.detachAnimation(t)}isFinished(e){const t=this.channels.get(e);return void 0!==t&&this.time>=t.delay+t.duration*t.repeat}getTime(e){if(void 0===e)return this.time;const t=this.channels.get(e);return void 0===t?-1:t.time}setTime(e){this.time=Math.max(0,e);const t=this.channels.values();for(const e of t)this._setChannelTime(e,this.time);const n=this.animations.values();for(const e of n){const{animation:t,channel:n}=e;t.setTime(this.getTime(n))}}play(){this.playing=!0}pause(){this.playing=!1,this.lastEngineTime=-1}reset(){this.setTime(0)}attachAnimation(e,t){const n=o++;return this.animations.set(n,{animation:e,channel:t}),e.setTime(this.getTime(t)),n}detachAnimation(e){this.animations.delete(e)}update(e){this.playing&&(-1===this.lastEngineTime&&(this.lastEngineTime=e),this.setTime(this.time+(e-this.lastEngineTime)),this.lastEngineTime=e)}_setChannelTime(e,t){const n=t-e.delay;n>=e.duration*e.repeat?e.time=e.duration*e.rate:(e.time=Math.max(0,n)%e.duration,e.time*=e.rate)}}var l=n(5409),c=n(744),u=n(3803),h=n(1855),d=n(8295),f=n(4938);class p{constructor(e,t,n){(0,i.Z)(this,"id",void 0),(0,i.Z)(this,"context",void 0),(0,i.Z)(this,"isLoaded",void 0),(0,i.Z)(this,"persistent",void 0),(0,i.Z)(this,"_loadCount",0),(0,i.Z)(this,"_subscribers",new Set),(0,i.Z)(this,"_data",void 0),(0,i.Z)(this,"_loader",void 0),(0,i.Z)(this,"_error",void 0),(0,i.Z)(this,"_content",void 0),this.id=e,this.context=n,this.setData(t)}subscribe(e){this._subscribers.add(e)}unsubscribe(e){this._subscribers.delete(e)}inUse(){return this._subscribers.size>0}delete(){}getData(){return this.isLoaded?this._error?Promise.reject(this._error):this._content:this._loader.then((()=>this.getData()))}setData(e,t){if(e===this._data&&!t)return;this._data=e;const n=++this._loadCount;let r=e;"string"==typeof e&&(r=(0,f.z)(e)),r instanceof Promise?(this.isLoaded=!1,this._loader=r.then((e=>{this._loadCount===n&&(this.isLoaded=!0,this._error=void 0,this._content=e)})).catch((e=>{this._loadCount===n&&(this.isLoaded=!0,this._error=e||!0)}))):(this.isLoaded=!0,this._error=void 0,this._content=e);for(const e of this._subscribers)e.onChange(this.getData())}}class g{constructor({gl:e,protocol:t}){(0,i.Z)(this,"protocol",void 0),(0,i.Z)(this,"_context",void 0),(0,i.Z)(this,"_resources",void 0),(0,i.Z)(this,"_consumers",void 0),(0,i.Z)(this,"_pruneRequest",void 0),this.protocol=t||"resource://",this._context={gl:e,resourceManager:this},this._resources={},this._consumers={},this._pruneRequest=null}contains(e){return!!e.startsWith(this.protocol)||e in this._resources}add({resourceId:e,data:t,forceUpdate:n=!1,persistent:r=!0}){let i=this._resources[e];i?i.setData(t,n):(i=new p(e,t,this._context),this._resources[e]=i),i.persistent=r}remove(e){const t=this._resources[e];t&&(t.delete(),delete this._resources[e])}unsubscribe({consumerId:e}){const t=this._consumers[e];if(t){for(const e in t){const n=t[e],r=this._resources[n.resourceId];r&&r.unsubscribe(n)}delete this._consumers[e],this.prune()}}subscribe({resourceId:e,onChange:t,consumerId:n,requestId:r="default"}){const{_resources:i,protocol:s}=this;e.startsWith(s)&&(i[e=e.replace(s,"")]||this.add({resourceId:e,data:null,persistent:!1}));const o=i[e];if(this._track(n,r,o,t),o)return o.getData()}prune(){this._pruneRequest||(this._pruneRequest=setTimeout((()=>this._prune()),0))}finalize(){for(const e in this._resources)this._resources[e].delete()}_track(e,t,n,r){const i=this._consumers,s=i[e]=i[e]||{},o=s[t]||{},a=o.resourceId&&this._resources[o.resourceId];a&&(a.unsubscribe(o),this.prune()),n&&(s[t]=o,o.onChange=r,o.resourceId=n.id,n.subscribe(o))}_prune(){this._pruneRequest=null;for(const e of Object.keys(this._resources)){const t=this._resources[e];t.persistent||t.inUse()||(t.delete(),delete this._resources[e])}}}var m=n(9225),v=n(358),y=n(6084);const b=[y.Z],w=["vs:DECKGL_FILTER_SIZE(inout vec3 size, VertexGeometry geometry)","vs:DECKGL_FILTER_GL_POSITION(inout vec4 position, VertexGeometry geometry)","vs:DECKGL_FILTER_COLOR(inout vec4 color, VertexGeometry geometry)","fs:DECKGL_FILTER_COLOR(inout vec4 color, FragmentGeometry geometry)"];function _(e){const t=v.Z.getDefaultProgramManager(e);for(const e of b)t.addDefaultModule(e);for(const e of w)t.addShaderHook(e);return t}class A{constructor(e,{deck:t,stats:n,viewport:r,timeline:s}={}){(0,i.Z)(this,"layers",void 0),(0,i.Z)(this,"context",void 0),(0,i.Z)(this,"resourceManager",void 0),(0,i.Z)(this,"_lastRenderedLayers",[]),(0,i.Z)(this,"_needsRedraw",!1),(0,i.Z)(this,"_needsUpdate",!1),(0,i.Z)(this,"_nextLayers",null),(0,i.Z)(this,"_debug",!1),(0,i.Z)(this,"activateViewport",(e=>{(0,u.Z)("layerManager.activateViewport",this,e),e&&(this.context.viewport=e)})),this.layers=[],this.resourceManager=new g({gl:e,protocol:"deck://"}),this.context={mousePosition:null,userData:{},layerManager:this,gl:e,deck:t,programManager:e&&_(e),stats:n||new d.Z({id:"deck.gl"}),viewport:r||new m.Z({id:"DEFAULT-INITIAL-VIEWPORT"}),timeline:s||new a,resourceManager:this.resourceManager,onError:void 0},Object.seal(this)}finalize(){this.resourceManager.finalize();for(const e of this.layers)this._finalizeLayer(e)}needsRedraw(e={clearRedrawFlags:!1}){let t=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);for(const n of this.layers){const r=n.getNeedsRedraw(e);t=t||r}return t}needsUpdate(){return this._nextLayers&&this._nextLayers!==this._lastRenderedLayers?"layers changed":this._needsUpdate}setNeedsRedraw(e){this._needsRedraw=this._needsRedraw||e}setNeedsUpdate(e){this._needsUpdate=this._needsUpdate||e}getLayers({layerIds:e}={}){return e?this.layers.filter((t=>e.find((e=>0===t.id.indexOf(e))))):this.layers}setProps(e){"debug"in e&&(this._debug=e.debug),"userData"in e&&(this.context.userData=e.userData),"layers"in e&&(this._nextLayers=e.layers),"onError"in e&&(this.context.onError=e.onError)}setLayers(e,t){(0,u.Z)("layerManager.setLayers",this,t,e),this._lastRenderedLayers=e;const n=(0,h.x)(e,Boolean);for(const e of n)e.context=this.context;this._updateLayers(this.layers,n)}updateLayers(){const e=this.needsUpdate();e&&(this.setNeedsRedraw("updating layers: ".concat(e)),this.setLayers(this._nextLayers||this._lastRenderedLayers,e)),this._nextLayers=null}_handleError(e,t,n){n.raiseError(t,"".concat(e," of ").concat(n))}_updateLayers(e,t){const n={};for(const t of e)n[t.id]?c.Z.warn("Multiple old layers with same id ".concat(t.id))():n[t.id]=t;const r=[];this._updateSublayersRecursively(t,n,r),this._finalizeOldLayers(n);let i=!1;for(const e of r)if(e.hasUniformTransition()){i="Uniform transition in ".concat(e);break}this._needsUpdate=i,this.layers=r}_updateSublayersRecursively(e,t,n){for(const r of e){r.context=this.context;const e=t[r.id];null===e&&c.Z.warn("Multiple new layers with same id ".concat(r.id))(),t[r.id]=null;let i=null;try{this._debug&&e!==r&&r.validateProps(),e?(this._transferLayerState(e,r),this._updateLayer(r)):this._initializeLayer(r),n.push(r),i=r.isComposite?r.getSubLayers():null}catch(e){this._handleError("matching",e,r)}i&&this._updateSublayersRecursively(i,t,n)}}_finalizeOldLayers(e){for(const t in e){const n=e[t];n&&this._finalizeLayer(n)}}_initializeLayer(e){try{e._initialize(),e.lifecycle=l.dt.INITIALIZED}catch(t){this._handleError("initialization",t,e)}}_transferLayerState(e,t){t._transferState(e),t.lifecycle=l.dt.MATCHED,t!==e&&(e.lifecycle=l.dt.AWAITING_GC)}_updateLayer(e){try{e._update()}catch(t){this._handleError("update",t,e)}}_finalizeLayer(e){this._needsRedraw=this._needsRedraw||"finalized ".concat(e),e.lifecycle=l.dt.AWAITING_FINALIZATION;try{e._finalize(),e.lifecycle=l.dt.FINALIZED}catch(t){this._handleError("finalization",t,e)}}}var E=n(6871);class C{constructor(e){(0,i.Z)(this,"width",void 0),(0,i.Z)(this,"height",void 0),(0,i.Z)(this,"views",void 0),(0,i.Z)(this,"viewState",void 0),(0,i.Z)(this,"controllers",void 0),(0,i.Z)(this,"timeline",void 0),(0,i.Z)(this,"_viewports",void 0),(0,i.Z)(this,"_viewportMap",void 0),(0,i.Z)(this,"_isUpdating",void 0),(0,i.Z)(this,"_needsRedraw",void 0),(0,i.Z)(this,"_needsUpdate",void 0),(0,i.Z)(this,"_eventManager",void 0),(0,i.Z)(this,"_eventCallbacks",void 0),this.views=[],this.width=100,this.height=100,this.viewState={},this.controllers={},this.timeline=e.timeline,this._viewports=[],this._viewportMap={},this._isUpdating=!1,this._needsRedraw="First render",this._needsUpdate="Initialize",this._eventManager=e.eventManager,this._eventCallbacks={onViewStateChange:e.onViewStateChange,onInteractionStateChange:e.onInteractionStateChange},Object.seal(this),this.setProps(e)}finalize(){for(const e in this.controllers){const t=this.controllers[e];t&&t.finalize()}this.controllers={}}needsRedraw(e={clearRedrawFlags:!1}){const t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}setNeedsUpdate(e){this._needsUpdate=this._needsUpdate||e,this._needsRedraw=this._needsRedraw||e}updateViewStates(){for(const e in this.controllers){const t=this.controllers[e];t&&t.updateTransition()}}getViewports(e){return e?this._viewports.filter((t=>t.containsPixel(e))):this._viewports}getViews(){const e={};return this.views.forEach((t=>{e[t.id]=t})),e}getView(e){return this.views.find((t=>t.id===e))}getViewState(e){const t="string"==typeof e?this.getView(e):e,n=t&&this.viewState[t.getViewStateId()]||this.viewState;return t?t.filterViewState(n):n}getViewport(e){return this._viewportMap[e]}unproject(e,t){const n=this.getViewports(),r={x:e[0],y:e[1]};for(let i=n.length-1;i>=0;--i){const s=n[i];if(s.containsPixel(r)){const n=e.slice();return n[0]-=s.x,n[1]-=s.y,s.unproject(n,t)}}return null}setProps(e){e.views&&this._setViews(e.views),e.viewState&&this._setViewState(e.viewState),("width"in e||"height"in e)&&this._setSize(e.width,e.height),this._isUpdating||this._update()}_update(){this._isUpdating=!0,this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._isUpdating=!1}_setSize(e,t){e===this.width&&t===this.height||(this.width=e,this.height=t,this.setNeedsUpdate("Size changed"))}_setViews(e){e=(0,h.x)(e,Boolean),this._diffViews(e,this.views)&&this.setNeedsUpdate("views changed"),this.views=e}_setViewState(e){e?(!(0,E.v)(e,this.viewState,3)&&this.setNeedsUpdate("viewState changed"),this.viewState=e):c.Z.warn("missing `viewState` or `initialViewState`")()}_onViewStateChange(e,t){this._eventCallbacks.onViewStateChange&&this._eventCallbacks.onViewStateChange({...t,viewId:e})}_createController(e,t){return new(0,t.type)({timeline:this.timeline,eventManager:this._eventManager,onViewStateChange:this._onViewStateChange.bind(this,t.id),onStateChange:this._eventCallbacks.onInteractionStateChange,makeViewport:t=>{var n;return null===(n=this.getView(e.id))||void 0===n?void 0:n.makeViewport({viewState:t,width:this.width,height:this.height})}})}_updateController(e,t,n,r){const i=e.controller;if(i&&n){const s={...t,...i,id:e.id,x:n.x,y:n.y,width:n.width,height:n.height};return r&&r.constructor===i.type||(r=this._createController(e,s)),r&&r.setProps(s),r}return null}_rebuildViewports(){const{views:e}=this,t=this.controllers;this._viewports=[],this.controllers={};let n=!1;for(let r=e.length;r--;){const i=e[r],s=this.getViewState(i),o=i.makeViewport({viewState:s,width:this.width,height:this.height});let a=t[i.id];const l=Boolean(i.controller);l&&!a&&(n=!0),!n&&l||!a||(a.finalize(),a=null),this.controllers[i.id]=this._updateController(i,s,o,a),o&&this._viewports.unshift(o)}for(const e in t){const n=t[e];n&&!this.controllers[e]&&n.finalize()}this._buildViewportMap()}_buildViewportMap(){this._viewportMap={},this._viewports.forEach((e=>{e.id&&(this._viewportMap[e.id]=this._viewportMap[e.id]||e)}))}_diffViews(e,t){return e.length!==t.length||e.some(((n,r)=>!e[r].equals(t[r])))}}const x=/([0-9]+\.?[0-9]*)(%|px)/;function S(e){switch(typeof e){case"number":return{position:e,relative:!1};case"string":const t=x.exec(e);if(t&&t.length>=3){const e="%"===t[2],n=parseFloat(t[1]);return{position:e?n/100:n,relative:e}}default:throw new Error("Could not parse position string ".concat(e))}}function T(e,t){return e.relative?Math.round(e.position*t):e.position}var I=n(5304);class O{constructor(e){(0,i.Z)(this,"id",void 0),(0,i.Z)(this,"viewportInstance",void 0),(0,i.Z)(this,"_x",void 0),(0,i.Z)(this,"_y",void 0),(0,i.Z)(this,"_width",void 0),(0,i.Z)(this,"_height",void 0),(0,i.Z)(this,"_padding",void 0),(0,i.Z)(this,"props",void 0);const{id:t,x:n=0,y:r=0,width:s="100%",height:o="100%",padding:a=null,viewportInstance:l}=e||{};(0,I.Z)(!l||l instanceof m.Z),this.viewportInstance=l,this.id=t||this.constructor.displayName||"view",this.props={...e,id:this.id},this._x=S(n),this._y=S(r),this._width=S(s),this._height=S(o),this._padding=a&&{left:S(a.left||0),right:S(a.right||0),top:S(a.top||0),bottom:S(a.bottom||0)},this.equals=this.equals.bind(this),Object.seal(this)}equals(e){return this===e||(this.viewportInstance?!!e.viewportInstance&&this.viewportInstance.equals(e.viewportInstance):this.ViewportType===e.ViewportType&&(0,E.v)(this.props,e.props,2))}makeViewport({width:e,height:t,viewState:n}){if(this.viewportInstance)return this.viewportInstance;n=this.filterViewState(n);const r=this.getDimensions({width:e,height:t});return r.height&&r.width?new this.ViewportType({...n,...this.props,...r}):null}getViewStateId(){const{viewState:e}=this.props;return"string"==typeof e?e:(null==e?void 0:e.id)||this.id}filterViewState(e){if(this.props.viewState&&"object"==typeof this.props.viewState){if(!this.props.viewState.id)return this.props.viewState;const t={...e};for(const e in this.props.viewState)"id"!==e&&(t[e]=this.props.viewState[e]);return t}return e}getDimensions({width:e,height:t}){const n={x:T(this._x,e),y:T(this._y,t),width:T(this._width,e),height:T(this._height,t)};return this._padding&&(n.padding={left:T(this._padding.left,e),top:T(this._padding.top,t),right:T(this._padding.right,e),bottom:T(this._padding.bottom,t)}),n}get controller(){const e=this.props.controller;return e?!0===e?{type:this.ControllerType}:"function"==typeof e?{type:e}:{type:this.ControllerType,...e}:null}}var P=n(6935),M=n(4034),B=n(3630);const k=()=>{},R=e=>e;class L{constructor(e){(0,i.Z)(this,"getControllerState",void 0),(0,i.Z)(this,"props",void 0),(0,i.Z)(this,"propsInTransition",void 0),(0,i.Z)(this,"transition",void 0),(0,i.Z)(this,"onViewStateChange",void 0),(0,i.Z)(this,"onStateChange",void 0),(0,i.Z)(this,"_onTransitionUpdate",(e=>{const{time:t,settings:{interpolator:n,startProps:r,endProps:i,duration:s,easing:o}}=e,a=o(t/s),l=n.interpolateProps(r,i,a);this.propsInTransition=this.getControllerState({...this.props,...l}).getViewportProps(),this.onViewStateChange({viewState:this.propsInTransition,oldViewState:this.props})})),this.getControllerState=e.getControllerState,this.propsInTransition=null,this.transition=new B.Z(e.timeline),this.onViewStateChange=e.onViewStateChange||k,this.onStateChange=e.onStateChange||k}finalize(){this.transition.cancel()}getViewportInTransition(){return this.propsInTransition}processViewStateChange(e){let t=!1;const n=this.props;if(this.props=e,!n||this._shouldIgnoreViewportChange(n,e))return!1;if(this._isTransitionEnabled(e)){let r=n;if(this.transition.inProgress){const{interruption:e,endProps:t}=this.transition.settings;r={...n,...2===e?t:this.propsInTransition||n}}this._triggerTransition(r,e),t=!0}else this.transition.cancel();return t}updateTransition(){this.transition.update()}_isTransitionEnabled(e){const{transitionDuration:t,transitionInterpolator:n}=e;return(t>0||"auto"===t)&&Boolean(n)}_isUpdateDueToCurrentTransition(e){return!(!this.transition.inProgress||!this.propsInTransition)&&this.transition.settings.interpolator.arePropsEqual(e,this.propsInTransition)}_shouldIgnoreViewportChange(e,t){return this.transition.inProgress?3===this.transition.settings.interruption||this._isUpdateDueToCurrentTransition(t):!this._isTransitionEnabled(t)||t.transitionInterpolator.arePropsEqual(e,t)}_triggerTransition(e,t){const n=this.getControllerState(e),r=this.getControllerState(t).shortestPathFrom(n),i=t.transitionInterpolator,s=i.getDuration?i.getDuration(e,t):t.transitionDuration;if(0===s)return;const o=i.initializeProps(e,r);this.propsInTransition={};const a={duration:s,easing:t.transitionEasing||R,interpolator:i,interruption:t.transitionInterruption||1,startProps:o.start,endProps:o.end,onStart:t.onTransitionStart,onUpdate:this._onTransitionUpdate,onInterrupt:this._onTransitionEnd(t.onTransitionInterrupt),onEnd:this._onTransitionEnd(t.onTransitionEnd)};this.transition.start(a),this.onStateChange({inTransition:!0}),this.updateTransition()}_onTransitionEnd(e){return t=>{this.propsInTransition=null,this.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1}),null==e||e(t)}}}var F=n(6507);const D=["longitude","latitude","zoom","bearing","pitch"],N=["longitude","latitude","zoom"];class j extends F.Z{constructor(e={}){const t=Array.isArray(e)?e:e.transitionProps,n=Array.isArray(e)?{}:e;n.transitionProps=Array.isArray(t)?{compare:t,required:t}:t||{compare:D,required:N},super(n.transitionProps),(0,i.Z)(this,"opts",void 0),this.opts=n}initializeProps(e,t){const n=super.initializeProps(e,t),{makeViewport:r,around:i}=this.opts;if(r&&i){const s=r(e),o=r(t),a=s.unproject(i);n.start.around=i,Object.assign(n.end,{around:o.project(a),aroundPosition:a,width:t.width,height:t.height})}return n}interpolateProps(e,t,n){const r={};for(const i of this._propsToExtract)r[i]=(0,M.t7)(e[i]||0,t[i]||0,n);if(t.aroundPosition&&this.opts.makeViewport){const i=this.opts.makeViewport({...t,...r});Object.assign(r,i.panByPosition(t.aroundPosition,(0,M.t7)(e.around,t.around,n)))}return r}}const U={transitionDuration:0},G=e=>1-(1-e)*(1-e),z=["wheel"],V=["panstart","panmove","panend"],H=["pinchstart","pinchmove","pinchend"],Z=["tripanstart","tripanmove","tripanend"],W=["doubletap"],J=["keydown"],K={};class X{constructor(e){(0,i.Z)(this,"props",void 0),(0,i.Z)(this,"state",{}),(0,i.Z)(this,"transitionManager",void 0),(0,i.Z)(this,"eventManager",void 0),(0,i.Z)(this,"onViewStateChange",void 0),(0,i.Z)(this,"onStateChange",void 0),(0,i.Z)(this,"makeViewport",void 0),(0,i.Z)(this,"_controllerState",void 0),(0,i.Z)(this,"_events",{}),(0,i.Z)(this,"_interactionState",{isDragging:!1}),(0,i.Z)(this,"_customEvents",[]),(0,i.Z)(this,"_eventStartBlocked",null),(0,i.Z)(this,"_panMove",!1),(0,i.Z)(this,"invertPan",!1),(0,i.Z)(this,"dragMode","rotate"),(0,i.Z)(this,"inertia",0),(0,i.Z)(this,"scrollZoom",!0),(0,i.Z)(this,"dragPan",!0),(0,i.Z)(this,"dragRotate",!0),(0,i.Z)(this,"doubleClickZoom",!0),(0,i.Z)(this,"touchZoom",!0),(0,i.Z)(this,"touchRotate",!1),(0,i.Z)(this,"keyboard",!0),this.transitionManager=new L({...e,getControllerState:e=>new this.ControllerState(e),onViewStateChange:this._onTransition.bind(this),onStateChange:this._setInteractionState.bind(this)}),this.handleEvent=this.handleEvent.bind(this),this.eventManager=e.eventManager,this.onViewStateChange=e.onViewStateChange||(()=>{}),this.onStateChange=e.onStateChange||(()=>{}),this.makeViewport=e.makeViewport}set events(e){this.toggleEvents(this._customEvents,!1),this.toggleEvents(e,!0),this._customEvents=e,this.props&&this.setProps(this.props)}finalize(){for(const t in this._events){var e;this._events[t]&&(null===(e=this.eventManager)||void 0===e||e.off(t,this.handleEvent))}this.transitionManager.finalize()}handleEvent(e){this._controllerState=void 0;const t=this._eventStartBlocked;switch(e.type){case"panstart":return!t&&this._onPanStart(e);case"panmove":return this._onPan(e);case"panend":return this._onPanEnd(e);case"pinchstart":return!t&&this._onPinchStart(e);case"pinchmove":return this._onPinch(e);case"pinchend":return this._onPinchEnd(e);case"tripanstart":return!t&&this._onTriplePanStart(e);case"tripanmove":return this._onTriplePan(e);case"tripanend":return this._onTriplePanEnd(e);case"doubletap":return this._onDoubleTap(e);case"wheel":return this._onWheel(e);case"keydown":return this._onKeyDown(e);default:return!1}}get controllerState(){return this._controllerState=this._controllerState||new this.ControllerState({makeViewport:this.makeViewport,...this.props,...this.state}),this._controllerState}getCenter(e){const{x:t,y:n}=this.props,{offsetCenter:r}=e;return[r.x-t,r.y-n]}isPointInBounds(e,t){const{width:n,height:r}=this.props;if(t&&t.handled)return!1;const i=e[0]>=0&&e[0]<=n&&e[1]>=0&&e[1]<=r;return i&&t&&t.stopPropagation(),i}isFunctionKeyPressed(e){const{srcEvent:t}=e;return Boolean(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}isDragging(){return this._interactionState.isDragging||!1}blockEvents(e){const t=setTimeout((()=>{this._eventStartBlocked===t&&(this._eventStartBlocked=null)}),e);this._eventStartBlocked=t}setProps(e){e.dragMode&&(this.dragMode=e.dragMode),this.props=e,"transitionInterpolator"in e||(e.transitionInterpolator=this._getTransitionProps().transitionInterpolator),this.transitionManager.processViewStateChange(e);const{inertia:t}=e;this.inertia=Number.isFinite(t)?t:!0===t?300:0;const{scrollZoom:n=!0,dragPan:r=!0,dragRotate:i=!0,doubleClickZoom:s=!0,touchZoom:o=!0,touchRotate:a=!1,keyboard:l=!0}=e,c=Boolean(this.onViewStateChange);this.toggleEvents(z,c&&n),this.toggleEvents(V,c),this.toggleEvents(H,c&&(o||a)),this.toggleEvents(Z,c&&a),this.toggleEvents(W,c&&s),this.toggleEvents(J,c&&l),this.scrollZoom=n,this.dragPan=r,this.dragRotate=i,this.doubleClickZoom=s,this.touchZoom=o,this.touchRotate=a,this.keyboard=l}updateTransition(){this.transitionManager.updateTransition()}toggleEvents(e,t){this.eventManager&&e.forEach((e=>{this._events[e]!==t&&(this._events[e]=t,t?this.eventManager.on(e,this.handleEvent):this.eventManager.off(e,this.handleEvent))}))}updateViewport(e,t=null,n={}){const r={...e.getViewportProps(),...t},i=this.controllerState!==e;if(this.state=e.getState(),this._setInteractionState(n),i){const e=this.controllerState&&this.controllerState.getViewportProps();this.onViewStateChange&&this.onViewStateChange({viewState:r,interactionState:this._interactionState,oldViewState:e})}}_onTransition(e){this.onViewStateChange({...e,interactionState:this._interactionState})}_setInteractionState(e){Object.assign(this._interactionState,e),this.onStateChange(this._interactionState)}_onPanStart(e){const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;let n=this.isFunctionKeyPressed(e)||e.rightButton||!1;(this.invertPan||"pan"===this.dragMode)&&(n=!n);const r=this.controllerState[n?"panStart":"rotateStart"]({pos:t});return this._panMove=n,this.updateViewport(r,U,{isDragging:!0}),!0}_onPan(e){return!!this.isDragging()&&(this._panMove?this._onPanMove(e):this._onPanRotate(e))}_onPanEnd(e){return!!this.isDragging()&&(this._panMove?this._onPanMoveEnd(e):this._onPanRotateEnd(e))}_onPanMove(e){if(!this.dragPan)return!1;const t=this.getCenter(e),n=this.controllerState.pan({pos:t});return this.updateViewport(n,U,{isDragging:!0,isPanning:!0}),!0}_onPanMoveEnd(e){const{inertia:t}=this;if(this.dragPan&&t&&e.velocity){const n=this.getCenter(e),r=[n[0]+e.velocityX*t/2,n[1]+e.velocityY*t/2],i=this.controllerState.pan({pos:r}).panEnd();this.updateViewport(i,{...this._getTransitionProps(),transitionDuration:t,transitionEasing:G},{isDragging:!1,isPanning:!0})}else{const e=this.controllerState.panEnd();this.updateViewport(e,null,{isDragging:!1,isPanning:!1})}return!0}_onPanRotate(e){if(!this.dragRotate)return!1;const t=this.getCenter(e),n=this.controllerState.rotate({pos:t});return this.updateViewport(n,U,{isDragging:!0,isRotating:!0}),!0}_onPanRotateEnd(e){const{inertia:t}=this;if(this.dragRotate&&t&&e.velocity){const n=this.getCenter(e),r=[n[0]+e.velocityX*t/2,n[1]+e.velocityY*t/2],i=this.controllerState.rotate({pos:r}).rotateEnd();this.updateViewport(i,{...this._getTransitionProps(),transitionDuration:t,transitionEasing:G},{isDragging:!1,isRotating:!0})}else{const e=this.controllerState.rotateEnd();this.updateViewport(e,null,{isDragging:!1,isRotating:!1})}return!0}_onWheel(e){if(!this.scrollZoom)return!1;const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;e.srcEvent.preventDefault();const{speed:n=.01,smooth:r=!1}=!0===this.scrollZoom?{}:this.scrollZoom,{delta:i}=e;let s=2/(1+Math.exp(-Math.abs(i*n)));i<0&&0!==s&&(s=1/s);const o=this.controllerState.zoom({pos:t,scale:s});return this.updateViewport(o,{...this._getTransitionProps({around:t}),transitionDuration:r?250:1},{isZooming:!0,isPanning:!0}),!0}_onTriplePanStart(e){const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;const n=this.controllerState.rotateStart({pos:t});return this.updateViewport(n,U,{isDragging:!0}),!0}_onTriplePan(e){if(!this.touchRotate)return!1;if(!this.isDragging())return!1;const t=this.getCenter(e);t[0]-=e.deltaX;const n=this.controllerState.rotate({pos:t});return this.updateViewport(n,U,{isDragging:!0,isRotating:!0}),!0}_onTriplePanEnd(e){if(!this.isDragging())return!1;const{inertia:t}=this;if(this.touchRotate&&t&&e.velocityY){const n=this.getCenter(e),r=[n[0],n[1]+=e.velocityY*t/2],i=this.controllerState.rotate({pos:r});this.updateViewport(i,{...this._getTransitionProps(),transitionDuration:t,transitionEasing:G},{isDragging:!1,isRotating:!0}),this.blockEvents(t)}else{const e=this.controllerState.rotateEnd();this.updateViewport(e,null,{isDragging:!1,isRotating:!1})}return!0}_onPinchStart(e){const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;const n=this.controllerState.zoomStart({pos:t}).rotateStart({pos:t});return K._startPinchRotation=e.rotation,K._lastPinchEvent=e,this.updateViewport(n,U,{isDragging:!0}),!0}_onPinch(e){if(!this.touchZoom&&!this.touchRotate)return!1;if(!this.isDragging())return!1;let t=this.controllerState;if(this.touchZoom){const{scale:n}=e,r=this.getCenter(e);t=t.zoom({pos:r,scale:n})}if(this.touchRotate){const{rotation:n}=e;t=t.rotate({deltaAngleX:K._startPinchRotation-n})}return this.updateViewport(t,U,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),K._lastPinchEvent=e,!0}_onPinchEnd(e){if(!this.isDragging())return!1;const{inertia:t}=this,{_lastPinchEvent:n}=K;if(this.touchZoom&&t&&n&&e.scale!==n.scale){const r=this.getCenter(e);let i=this.controllerState.rotateEnd();const s=Math.log2(e.scale),o=(s-Math.log2(n.scale))/(e.deltaTime-n.deltaTime),a=Math.pow(2,s+o*t/2);i=i.zoom({pos:r,scale:a}).zoomEnd(),this.updateViewport(i,{...this._getTransitionProps({around:r}),transitionDuration:t,transitionEasing:G},{isDragging:!1,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:!1}),this.blockEvents(t)}else{const e=this.controllerState.zoomEnd().rotateEnd();this.updateViewport(e,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1})}return K._startPinchRotation=null,K._lastPinchEvent=null,!0}_onDoubleTap(e){if(!this.doubleClickZoom)return!1;const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;const n=this.isFunctionKeyPressed(e),r=this.controllerState.zoom({pos:t,scale:n?.5:2});return this.updateViewport(r,this._getTransitionProps({around:t}),{isZooming:!0,isPanning:!0}),this.blockEvents(100),!0}_onKeyDown(e){if(!this.keyboard)return!1;const t=this.isFunctionKeyPressed(e),{zoomSpeed:n,moveSpeed:r,rotateSpeedX:i,rotateSpeedY:s}=!0===this.keyboard?{}:this.keyboard,{controllerState:o}=this;let a;const l={};switch(e.srcEvent.code){case"Minus":a=t?o.zoomOut(n).zoomOut(n):o.zoomOut(n),l.isZooming=!0;break;case"Equal":a=t?o.zoomIn(n).zoomIn(n):o.zoomIn(n),l.isZooming=!0;break;case"ArrowLeft":t?(a=o.rotateLeft(i),l.isRotating=!0):(a=o.moveLeft(r),l.isPanning=!0);break;case"ArrowRight":t?(a=o.rotateRight(i),l.isRotating=!0):(a=o.moveRight(r),l.isPanning=!0);break;case"ArrowUp":t?(a=o.rotateUp(s),l.isRotating=!0):(a=o.moveUp(r),l.isPanning=!0);break;case"ArrowDown":t?(a=o.rotateDown(s),l.isRotating=!0):(a=o.moveDown(r),l.isPanning=!0);break;default:return!1}return this.updateViewport(a,this._getTransitionProps(),l),!0}_getTransitionProps(e){const{transition:t}=this;return t&&t.transitionInterpolator?e?{...t,transitionInterpolator:new j({...e,...t.transitionInterpolator.opts,makeViewport:this.controllerState.makeViewport})}:t:U}}class q{constructor(e,t){(0,i.Z)(this,"_viewportProps",void 0),(0,i.Z)(this,"_state",void 0),this._viewportProps=this.applyConstraints(e),this._state=t}getViewportProps(){return this._viewportProps}getState(){return this._state}}var Y=n(7013);class Q extends q{constructor(e){const{width:t,height:n,latitude:r,longitude:s,zoom:o,bearing:a=0,pitch:l=0,altitude:c=1.5,position:u=[0,0,0],maxZoom:h=20,minZoom:d=0,maxPitch:f=60,minPitch:p=0,startPanLngLat:g,startZoomLngLat:m,startRotatePos:v,startBearing:y,startPitch:b,startZoom:w,normalize:_=!0}=e;(0,I.Z)(Number.isFinite(s)),(0,I.Z)(Number.isFinite(r)),(0,I.Z)(Number.isFinite(o)),super({width:t,height:n,latitude:r,longitude:s,zoom:o,bearing:a,pitch:l,altitude:c,maxZoom:h,minZoom:d,maxPitch:f,minPitch:p,normalize:_,position:u},{startPanLngLat:g,startZoomLngLat:m,startRotatePos:v,startBearing:y,startPitch:b,startZoom:w}),(0,i.Z)(this,"makeViewport",void 0),this.makeViewport=e.makeViewport}panStart({pos:e}){return this._getUpdatedState({startPanLngLat:this._unproject(e)})}pan({pos:e,startPos:t}){const n=this.getState().startPanLngLat||this._unproject(t);if(!n)return this;const r=this.makeViewport(this.getViewportProps()).panByPosition(n,e);return this._getUpdatedState(r)}panEnd(){return this._getUpdatedState({startPanLngLat:null})}rotateStart({pos:e}){return this._getUpdatedState({startRotatePos:e,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})}rotate({pos:e,deltaAngleX:t=0,deltaAngleY:n=0}){const{startRotatePos:r,startBearing:i,startPitch:s}=this.getState();if(!r||void 0===i||void 0===s)return this;let o;return o=e?this._getNewRotation(e,r,s,i):{bearing:i+t,pitch:s+n},this._getUpdatedState(o)}rotateEnd(){return this._getUpdatedState({startBearing:null,startPitch:null})}zoomStart({pos:e}){return this._getUpdatedState({startZoomLngLat:this._unproject(e),startZoom:this.getViewportProps().zoom})}zoom({pos:e,startPos:t,scale:n}){let{startZoom:r,startZoomLngLat:i}=this.getState();if(i||(r=this.getViewportProps().zoom,i=this._unproject(t)||this._unproject(e)),!i)return this;const{maxZoom:s,minZoom:o}=this.getViewportProps();let a=r+Math.log2(n);a=(0,M.uZ)(a,o,s);const l=this.makeViewport({...this.getViewportProps(),zoom:a});return this._getUpdatedState({zoom:a,...l.panByPosition(i,e)})}zoomEnd(){return this._getUpdatedState({startZoomLngLat:null,startZoom:null})}zoomIn(e=2){return this._zoomFromCenter(e)}zoomOut(e=2){return this._zoomFromCenter(1/e)}moveLeft(e=100){return this._panFromCenter([e,0])}moveRight(e=100){return this._panFromCenter([-e,0])}moveUp(e=100){return this._panFromCenter([0,e])}moveDown(e=100){return this._panFromCenter([0,-e])}rotateLeft(e=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing-e})}rotateRight(e=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing+e})}rotateUp(e=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch+e})}rotateDown(e=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch-e})}shortestPathFrom(e){const t=e.getViewportProps(),n={...this.getViewportProps()},{bearing:r,longitude:i}=n;return Math.abs(r-t.bearing)>180&&(n.bearing=r<0?r+360:r-360),Math.abs(i-t.longitude)>180&&(n.longitude=i<0?i+360:i-360),n}applyConstraints(e){const{maxZoom:t,minZoom:n,zoom:r}=e;e.zoom=(0,M.uZ)(r,n,t);const{maxPitch:i,minPitch:s,pitch:o}=e;e.pitch=(0,M.uZ)(o,s,i);const{normalize:a=!0}=e;return a&&Object.assign(e,(0,Y.QA)(e)),e}_zoomFromCenter(e){const{width:t,height:n}=this.getViewportProps();return this.zoom({pos:[t/2,n/2],scale:e})}_panFromCenter(e){const{width:t,height:n}=this.getViewportProps();return this.pan({startPos:[t/2,n/2],pos:[t/2+e[0],n/2+e[1]]})}_getUpdatedState(e){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...e})}_unproject(e){const t=this.makeViewport(this.getViewportProps());return e&&t.unproject(e)}_getNewRotation(e,t,n,r){const i=e[0]-t[0],s=e[1]-t[1],o=e[1],a=t[1],{width:l,height:c}=this.getViewportProps(),u=i/l;let h=0;s>0?Math.abs(c-a)>5&&(h=s/(a-c)*1.2):s<0&&a>5&&(h=1-o/a),h=(0,M.uZ)(h,-1,1);const{minPitch:d,maxPitch:f}=this.getViewportProps();let p=n;return h>0?p=n+h*(f-n):h<0&&(p=n-h*(d-n)),{pitch:p,bearing:r+180*u}}}class $ extends X{constructor(...e){super(...e),(0,i.Z)(this,"ControllerState",Q),(0,i.Z)(this,"transition",{transitionDuration:300,transitionInterpolator:new j({transitionProps:{compare:["longitude","latitude","zoom","bearing","pitch","position"],required:["longitude","latitude","zoom"]}})}),(0,i.Z)(this,"dragMode","pan")}setProps(e){e.position=e.position||[0,0,0];const t=this.props;super.setProps(e),(!t||t.height!==e.height)&&this.updateViewport(new this.ControllerState({makeViewport:this.makeViewport,...e,...this.state}))}}class ee extends O{get ViewportType(){return P.Z}get ControllerType(){return $}}(0,i.Z)(ee,"displayName","MapView");var te=n(4912);const ne=[255,255,255],re=1;let ie=0;class se{constructor(e={}){(0,i.Z)(this,"id",void 0),(0,i.Z)(this,"color",void 0),(0,i.Z)(this,"intensity",void 0),(0,i.Z)(this,"type","ambient");const{color:t=ne}=e,{intensity:n=re}=e;this.id=e.id||"ambient-".concat(ie++),this.color=t,this.intensity=n}}var oe=n(3855);const ae=[255,255,255],le=1,ce=[0,0,-1];let ue=0;class he{constructor(e={}){(0,i.Z)(this,"id",void 0),(0,i.Z)(this,"color",void 0),(0,i.Z)(this,"intensity",void 0),(0,i.Z)(this,"type","directional"),(0,i.Z)(this,"direction",void 0),(0,i.Z)(this,"shadow",void 0);const{color:t=ae}=e,{intensity:n=le}=e,{direction:r=ce}=e,{_shadow:s=!1}=e;this.id=e.id||"directional-".concat(ue++),this.color=t,this.intensity=n,this.type="directional",this.direction=new oe.Z(r).normalize().toArray(),this.shadow=s}getProjectedLight(e){return this}}var de=n(5451);class fe{constructor(e,t={id:"pass"}){(0,i.Z)(this,"id",void 0),(0,i.Z)(this,"gl",void 0),(0,i.Z)(this,"props",void 0);const{id:n}=t;this.id=n,this.gl=e,this.props={...t}}setProps(e){Object.assign(this.props,e)}render(e){}cleanup(){}}var pe=n(9450),ge=n(6047);class me extends fe{constructor(...e){super(...e),(0,i.Z)(this,"_lastRenderIndex",-1)}render(e){const t=this.gl;return(0,pe.dR)(t,{framebuffer:e.target}),this._drawLayers(e)}_drawLayers(e){const{target:t,moduleParameters:n,viewports:r,views:i,onViewportActive:s,clearStack:o=!0,clearCanvas:a=!0}=e;e.pass=e.pass||"unknown";const l=this.gl;a&&function(e,t){const n=t?t.width:e.drawingBufferWidth,r=t?t.height:e.drawingBufferHeight;(0,pe.dR)(e,{viewport:[0,0,n,r]}),e.clear(16640)}(l,t),o&&(this._lastRenderIndex=-1);const c=[];for(const o of r){const r=i&&i[o.id];null==s||s(o);const a=this._getDrawLayerParams(o,e),u=o.subViewports||[o];for(const i of u){const s=this._drawLayersInViewport(l,{target:t,moduleParameters:n,viewport:i,view:r,pass:e.pass,layers:e.layers},a);c.push(s)}}return c}_getDrawLayerParams(e,{layers:t,pass:n,isPicking:r=!1,layerFilter:i,cullRect:s,effects:o,moduleParameters:a},l=!1){const c=[],u=ve(this._lastRenderIndex+1),h={layer:t[0],viewport:e,isPicking:r,renderPass:n,cullRect:s},d={};for(let r=0;r<t.length;r++){const s=t[r],f=this._shouldDrawLayer(s,h,i,d),p={shouldDrawLayer:f};f&&!l&&(p.layerRenderIndex=u(s,f),p.moduleParameters=this._getModuleParameters(s,o,n,a),p.layerParameters=this.getLayerParameters(s,r,e)),c[r]=p}return c}_drawLayersInViewport(e,{layers:t,moduleParameters:n,pass:r,target:i,viewport:s,view:o},a){const l=function(e,{moduleParameters:t,target:n,viewport:r}){const i=n&&"default-framebuffer"!==n.id,s=t&&t.devicePixelRatio||(0,pe.w)(e),o=i?n.height:e.drawingBufferHeight,a=r;return[a.x*s,o-(a.y+a.height)*s,a.width*s,a.height*s]}(e,{moduleParameters:n,target:i,viewport:s});if(o&&o.props.clear){const t=!0===o.props.clear?{color:!0,depth:!0}:o.props.clear;(0,pe.s8)(e,{scissorTest:!0,scissor:l},(()=>(0,ge.Z)(e,t)))}const c={totalCount:t.length,visibleCount:0,compositeCount:0,pickableCount:0};(0,pe.dR)(e,{viewport:l});for(let e=0;e<t.length;e++){const n=t[e],{shouldDrawLayer:i,layerRenderIndex:o,moduleParameters:l,layerParameters:u}=a[e];if(i&&n.props.pickable&&c.pickableCount++,n.isComposite)c.compositeCount++;else if(i){c.visibleCount++,this._lastRenderIndex=Math.max(this._lastRenderIndex,o),l.viewport=s;try{n._drawLayer({moduleParameters:l,uniforms:{layerIndex:o},parameters:u})}catch(e){n.raiseError(e,"drawing ".concat(n," to ").concat(r))}}}return c}shouldDrawLayer(e){return!0}getModuleParameters(e,t){return null}getLayerParameters(e,t,n){return e.props.parameters}_shouldDrawLayer(e,t,n,r){if(!e.props.visible||!this.shouldDrawLayer(e))return!1;t.layer=e;let i=e.parent;for(;i;){if(!i.props.visible||!i.filterSubLayer(t))return!1;t.layer=i,i=i.parent}if(n){const e=t.layer.id;if(e in r||(r[e]=n(t)),!r[e])return!1}return e.activateViewport(t.viewport),!0}_getModuleParameters(e,t,n,r){var i;const s=Object.assign(Object.create((null===(i=e.internalState)||void 0===i?void 0:i.propsInTransition)||e.props),{autoWrapLongitude:e.wrapLongitude,viewport:e.context.viewport,mousePosition:e.context.mousePosition,pickingActive:0,devicePixelRatio:(0,pe.w)(this.gl)});if(t)for(const n of t){var o;Object.assign(s,null===(o=n.getModuleParameters)||void 0===o?void 0:o.call(n,e))}return Object.assign(s,this.getModuleParameters(e,t),r)}}function ve(e=0,t={}){const n={},r=(i,s)=>{const o=i.props._offset,a=i.id,l=i.parent&&i.parent.id;let c;if(l&&!(l in t)&&r(i.parent,!1),l in n){const e=n[l]=n[l]||ve(t[l],t);c=e(i,s),n[a]=e}else Number.isFinite(o)?(c=o+(t[l]||0),n[a]=null):c=e;return s&&c>=e&&(e=c+1),t[a]=c,c};return r}var ye=n(9830),be=n(3849);class we extends me{constructor(e,t){super(e,t),(0,i.Z)(this,"shadowMap",void 0),(0,i.Z)(this,"depthBuffer",void 0),(0,i.Z)(this,"fbo",void 0),this.shadowMap=new te.Z(e,{width:1,height:1,parameters:{10241:9729,10240:9729,10242:33071,10243:33071}}),this.depthBuffer=new ye.Z(e,{format:33189,width:1,height:1}),this.fbo=new be.Z(e,{id:"shadowmap",width:1,height:1,attachments:{36064:this.shadowMap,36096:this.depthBuffer}})}render(e){const t=this.fbo;(0,pe.s8)(this.gl,{depthRange:[0,1],depthTest:!0,blend:!1,clearColor:[1,1,1,1]},(()=>{const n=e.viewports[0],r=(0,pe.w)(this.gl),i=n.width*r,s=n.height*r;i===t.width&&s===t.height||t.resize({width:i,height:s}),super.render({...e,target:t,pass:"shadow"})}))}shouldDrawLayer(e){return!1!==e.props.shadowEnabled}getModuleParameters(){return{drawToShadowMap:!0}}delete(){this.fbo&&(this.fbo.delete(),this.fbo=null),this.shadowMap&&(this.shadowMap.delete(),this.shadowMap=null),this.depthBuffer&&(this.depthBuffer.delete(),this.depthBuffer=null)}}var _e=n(4088),Ae=n(8177);const Ee=(0,Ae.Z)((function({viewport:e,center:t}){return new de.Z(e.viewProjectionMatrix).invert().transform(t)})),Ce=(0,Ae.Z)((function({viewport:e,shadowMatrices:t}){const n=[],r=e.pixelUnprojectionMatrix,i=e.isGeospatial?void 0:1,s=[[0,0,i],[e.width,0,i],[0,e.height,i],[e.width,e.height,i],[0,0,-1],[e.width,0,-1],[0,e.height,-1],[e.width,e.height,-1]].map((e=>function(e,t){const[n,r,i]=e,s=(0,Y.CT)([n,r,i],t);return Number.isFinite(i)?s:[s[0],s[1],0]}(e,r)));for(const r of t){const t=r.clone().translate(new oe.Z(e.center).negate()),i=s.map((e=>t.transform(e))),o=(new de.Z).ortho({left:Math.min(...i.map((e=>e[0]))),right:Math.max(...i.map((e=>e[0]))),bottom:Math.min(...i.map((e=>e[1]))),top:Math.max(...i.map((e=>e[1]))),near:Math.min(...i.map((e=>-e[2]))),far:Math.max(...i.map((e=>-e[2])))});n.push(o.multiplyRight(r))}return n})),xe=[0,0,0,1],Se=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],Te={name:"shadow",dependencies:[y.Z],vs:"\nconst int max_lights = 2;\nuniform mat4 shadow_uViewProjectionMatrices[max_lights];\nuniform vec4 shadow_uProjectCenters[max_lights];\nuniform bool shadow_uDrawShadowMap;\nuniform bool shadow_uUseShadowMap;\nuniform int shadow_uLightId;\nuniform float shadow_uLightCount;\n\nvarying vec3 shadow_vPosition[max_lights];\n\nvec4 shadow_setVertexPosition(vec4 position_commonspace) {\n  if (shadow_uDrawShadowMap) {\n    return project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[shadow_uLightId], shadow_uProjectCenters[shadow_uLightId]);\n  }\n  if (shadow_uUseShadowMap) {\n    for (int i = 0; i < max_lights; i++) {\n      if(i < int(shadow_uLightCount)) {\n        vec4 shadowMap_position = project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[i], shadow_uProjectCenters[i]);\n        shadow_vPosition[i] = (shadowMap_position.xyz / shadowMap_position.w + 1.0) / 2.0;\n      }\n    }\n  }\n  return gl_Position;\n}\n",fs:"\nconst int max_lights = 2;\nuniform bool shadow_uDrawShadowMap;\nuniform bool shadow_uUseShadowMap;\nuniform sampler2D shadow_uShadowMap0;\nuniform sampler2D shadow_uShadowMap1;\nuniform vec4 shadow_uColor;\nuniform float shadow_uLightCount;\n\nvarying vec3 shadow_vPosition[max_lights];\n\nconst vec4 bitPackShift = vec4(1.0, 255.0, 65025.0, 16581375.0);\nconst vec4 bitUnpackShift = 1.0 / bitPackShift;\nconst vec4 bitMask = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0,  0.0);\n\nfloat shadow_getShadowWeight(vec3 position, sampler2D shadowMap) {\n  vec4 rgbaDepth = texture2D(shadowMap, position.xy);\n\n  float z = dot(rgbaDepth, bitUnpackShift);\n  return smoothstep(0.001, 0.01, position.z - z);\n}\n\nvec4 shadow_filterShadowColor(vec4 color) {\n  if (shadow_uDrawShadowMap) {\n    vec4 rgbaDepth = fract(gl_FragCoord.z * bitPackShift);\n    rgbaDepth -= rgbaDepth.gbaa * bitMask;\n    return rgbaDepth;\n  }\n  if (shadow_uUseShadowMap) {\n    float shadowAlpha = 0.0;\n    shadowAlpha += shadow_getShadowWeight(shadow_vPosition[0], shadow_uShadowMap0);\n    if(shadow_uLightCount > 1.0) {\n      shadowAlpha += shadow_getShadowWeight(shadow_vPosition[1], shadow_uShadowMap1);\n    }\n    shadowAlpha *= shadow_uColor.a / shadow_uLightCount;\n    float blendedAlpha = shadowAlpha + color.a * (1.0 - shadowAlpha);\n\n    return vec4(\n      mix(color.rgb, shadow_uColor.rgb, shadowAlpha / blendedAlpha),\n      blendedAlpha\n    );\n  }\n  return color;\n}\n",inject:{"vs:DECKGL_FILTER_GL_POSITION":"\n    position = shadow_setVertexPosition(geometry.position);\n    ","fs:DECKGL_FILTER_COLOR":"\n    color = shadow_filterShadowColor(color);\n    "},getUniforms:(e={},t={})=>"viewport"in e&&(e.drawToShadowMap||e.shadowMaps&&e.shadowMaps.length>0)?function(e,t){const{shadowEnabled:n=!0}=e;if(!n||!e.shadowMatrices||!e.shadowMatrices.length)return{shadow_uDrawShadowMap:!1,shadow_uUseShadowMap:!1};const r={shadow_uDrawShadowMap:Boolean(e.drawToShadowMap),shadow_uUseShadowMap:!!e.shadowMaps&&e.shadowMaps.length>0,shadow_uColor:e.shadowColor||xe,shadow_uLightId:e.shadowLightId||0,shadow_uLightCount:e.shadowMatrices.length},i=Ee({viewport:e.viewport,center:t.project_uCenter}),s=[],o=Ce({shadowMatrices:e.shadowMatrices,viewport:e.viewport}).slice();for(let n=0;n<e.shadowMatrices.length;n++){const r=o[n],a=r.clone().translate(new oe.Z(e.viewport.center).negate());t.project_uCoordinateSystem===_e.Df.LNGLAT&&t.project_uProjectionMode===_e.zG.WEB_MERCATOR?(o[n]=a,s[n]=i):(o[n]=r.clone().multiplyRight(Se),s[n]=a.transform(i))}for(let t=0;t<o.length;t++)r["shadow_uViewProjectionMatrices[".concat(t,"]")]=o[t],r["shadow_uProjectCenters[".concat(t,"]")]=s[t],e.shadowMaps&&e.shadowMaps.length>0?r["shadow_uShadowMap".concat(t)]=e.shadowMaps[t]:r["shadow_uShadowMap".concat(t)]=e.dummyShadowMap;return r}(e,t):{}},Ie={color:[255,255,255],intensity:1},Oe=[{color:[255,255,255],intensity:1,direction:[-1,3,-1]},{color:[255,255,255],intensity:.9,direction:[1,-8,-2.5]}],Pe=[0,0,0,200/255];class Me{constructor(e={}){(0,i.Z)(this,"id","lighting-effect"),(0,i.Z)(this,"props",void 0),(0,i.Z)(this,"shadowColor",Pe),(0,i.Z)(this,"shadow",void 0),(0,i.Z)(this,"ambientLight",void 0),(0,i.Z)(this,"directionalLights",void 0),(0,i.Z)(this,"pointLights",void 0),(0,i.Z)(this,"shadowPasses",[]),(0,i.Z)(this,"shadowMaps",[]),(0,i.Z)(this,"dummyShadowMap",null),(0,i.Z)(this,"programManager",void 0),(0,i.Z)(this,"shadowMatrices",void 0),this.setProps(e)}setProps(e){this.ambientLight=null,this.directionalLights=[],this.pointLights=[];for(const t in e){const n=e[t];switch(n.type){case"ambient":this.ambientLight=n;break;case"directional":this.directionalLights.push(n);break;case"point":this.pointLights.push(n)}}this._applyDefaultLights(),this.shadow=this.directionalLights.some((e=>e.shadow)),this.props=e}preRender(e,{layers:t,layerFilter:n,viewports:r,onViewportActive:i,views:s}){if(this.shadow){this.shadowMatrices=this._calculateMatrices(),0===this.shadowPasses.length&&this._createShadowPasses(e),this.programManager||(this.programManager=v.Z.getDefaultProgramManager(e),Te&&this.programManager.addDefaultModule(Te)),this.dummyShadowMap||(this.dummyShadowMap=new te.Z(e,{width:1,height:1}));for(let e=0;e<this.shadowPasses.length;e++)this.shadowPasses[e].render({layers:t,layerFilter:n,viewports:r,onViewportActive:i,views:s,moduleParameters:{shadowLightId:e,dummyShadowMap:this.dummyShadowMap,shadowMatrices:this.shadowMatrices}})}}getModuleParameters(e){const t=this.shadow?{shadowMaps:this.shadowMaps,dummyShadowMap:this.dummyShadowMap,shadowColor:this.shadowColor,shadowMatrices:this.shadowMatrices}:{};return t.lightSources={ambientLight:this.ambientLight,directionalLights:this.directionalLights.map((t=>t.getProjectedLight({layer:e}))),pointLights:this.pointLights.map((t=>t.getProjectedLight({layer:e})))},t}cleanup(){for(const e of this.shadowPasses)e.delete();this.shadowPasses.length=0,this.shadowMaps.length=0,this.dummyShadowMap&&(this.dummyShadowMap.delete(),this.dummyShadowMap=null),this.shadow&&this.programManager&&(this.programManager.removeDefaultModule(Te),this.programManager=null)}_calculateMatrices(){const e=[];for(const t of this.directionalLights){const n=(new de.Z).lookAt({eye:new oe.Z(t.direction).negate()});e.push(n)}return e}_createShadowPasses(e){for(let t=0;t<this.directionalLights.length;t++){const n=new we(e);this.shadowPasses[t]=n,this.shadowMaps[t]=n.shadowMap}}_applyDefaultLights(){const{ambientLight:e,pointLights:t,directionalLights:n}=this;e||0!==t.length||0!==n.length||(this.ambientLight=new se(Ie),this.directionalLights.push(new he(Oe[0]),new he(Oe[1])))}}const Be=new Me;class ke{constructor(){(0,i.Z)(this,"effects",void 0),(0,i.Z)(this,"_resolvedEffects",[]),(0,i.Z)(this,"_defaultEffects",[]),(0,i.Z)(this,"_needsRedraw",void 0),this.effects=[],this._needsRedraw="Initial render",this._setEffects([])}addDefaultEffect(e){const t=this._defaultEffects;if(!t.find((t=>t.id===e.id))){const n=t.findIndex((t=>{return n=e,(null!==(r=t.order)&&void 0!==r?r:1/0)-(null!==(i=n.order)&&void 0!==i?i:1/0)>0;var n,r,i}));n<0?t.push(e):t.splice(n,0,e),this._setEffects(this.effects)}}setProps(e){"effects"in e&&((0,E.v)(e.effects,this.effects,1)||this._setEffects(e.effects))}needsRedraw(e={clearRedrawFlags:!1}){const t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}getEffects(){return this._resolvedEffects}_setEffects(e){const t={};for(const e of this.effects)t[e.id]=e;const n=[];for(const r of e){const e=t[r.id];e&&e!==r?e.setProps?(e.setProps(r.props),n.push(e)):(e.cleanup(),n.push(r)):n.push(r),delete t[r.id]}for(const e in t)t[e].cleanup();this.effects=n,this._resolvedEffects=n.concat(this._defaultEffects),e.some((e=>e instanceof Me))||this._resolvedEffects.push(Be),this._needsRedraw="effects changed"}finalize(){for(const e of this._resolvedEffects)e.cleanup();this.effects.length=0,this._resolvedEffects.length=0,this._defaultEffects.length=0}}class Re extends me{shouldDrawLayer(e){const{operation:t}=e.props;return t.includes("draw")||t.includes("terrain")}}const Le={blendFunc:[1,0,32771,0],blendEquation:32774};class Fe extends me{constructor(...e){super(...e),(0,i.Z)(this,"pickZ",void 0),(0,i.Z)(this,"_colorEncoderState",null)}render(e){return"pickingFBO"in e?this._drawPickingBuffer(e):super.render(e)}_drawPickingBuffer({layers:e,layerFilter:t,views:n,viewports:r,onViewportActive:i,pickingFBO:s,deviceRect:{x:o,y:a,width:l,height:c},cullRect:u,effects:h,pass:d="picking",pickZ:f,moduleParameters:p}){const g=this.gl;this.pickZ=f;const m=this._resetColorEncoder(f),v=(0,pe.s8)(g,{scissorTest:!0,scissor:[o,a,l,c],clearColor:[0,0,0,0],depthMask:!0,depthTest:!0,depthRange:[0,1],colorMask:[!0,!0,!0,!0],...Le,blend:!f},(()=>super.render({target:s,layers:e,layerFilter:t,views:n,viewports:r,onViewportActive:i,cullRect:u,effects:null==h?void 0:h.filter((e=>e.useInPicking)),pass:d,isPicking:!0,moduleParameters:p})));return this._colorEncoderState=null,{decodePickingColor:m&&De.bind(null,m),stats:v}}shouldDrawLayer(e){const{pickable:t,operation:n}=e.props;return t&&n.includes("draw")||n.includes("terrain")||n.includes("mask")}getModuleParameters(){return{pickingActive:1,pickingAttribute:this.pickZ,lightSources:{}}}getLayerParameters(e,t,n){const r={...e.props.parameters},{pickable:i,operation:s}=e.props;return this._colorEncoderState?i&&s.includes("draw")&&(Object.assign(r,Le),r.blend=!0,r.blendColor=function(e,t,n){const{byLayer:r,byAlpha:i}=e;let s,o=r.get(t);return o?(o.viewports.push(n),s=o.a):(s=r.size+1,s<=255?(o={a:s,layer:t,viewports:[n]},r.set(t,o),i[s]=o):(c.Z.warn("Too many pickable layers, only picking the first 255")(),s=0)),[0,0,0,s/255]}(this._colorEncoderState,e,n)):r.blend=!1,s.includes("terrain")&&(r.blend=!1),r}_resetColorEncoder(e){return this._colorEncoderState=e?null:{byLayer:new Map,byAlpha:[]},this._colorEncoderState}}function De(e,t){const n=e.byAlpha[t[3]];return n&&{pickedLayer:n.layer,pickedViewports:n.viewports,pickedObjectIndex:n.layer.decodePickingColor(t)}}class Ne{constructor(e){(0,i.Z)(this,"gl",void 0),(0,i.Z)(this,"layerFilter",void 0),(0,i.Z)(this,"drawPickingColors",void 0),(0,i.Z)(this,"drawLayersPass",void 0),(0,i.Z)(this,"pickLayersPass",void 0),(0,i.Z)(this,"renderCount",void 0),(0,i.Z)(this,"_needsRedraw",void 0),(0,i.Z)(this,"renderBuffers",void 0),(0,i.Z)(this,"lastPostProcessEffect",void 0),this.gl=e,this.layerFilter=null,this.drawPickingColors=!1,this.drawLayersPass=new Re(e),this.pickLayersPass=new Fe(e),this.renderCount=0,this._needsRedraw="Initial render",this.renderBuffers=[],this.lastPostProcessEffect=null}setProps(e){this.layerFilter!==e.layerFilter&&(this.layerFilter=e.layerFilter,this._needsRedraw="layerFilter changed"),this.drawPickingColors!==e.drawPickingColors&&(this.drawPickingColors=e.drawPickingColors,this._needsRedraw="drawPickingColors changed")}renderLayers(e){if(!e.viewports.length)return;const t=this.drawPickingColors?this.pickLayersPass:this.drawLayersPass,n={layerFilter:this.layerFilter,isPicking:this.drawPickingColors,...e,target:e.target||be.Z.getDefaultFramebuffer(this.gl)};n.effects&&this._preRender(n.effects,n);const r=this.lastPostProcessEffect?this.renderBuffers[0]:n.target,i=t.render({...n,target:r});n.effects&&this._postRender(n.effects,n),this.renderCount++,(0,u.Z)("deckRenderer.renderLayers",this,i,e)}needsRedraw(e={clearRedrawFlags:!1}){const t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}finalize(){const{renderBuffers:e}=this;for(const t of e)t.delete();e.length=0}_preRender(e,t){this.lastPostProcessEffect=null,t.preRenderStats=t.preRenderStats||{};for(const n of e)t.preRenderStats[n.id]=n.preRender(this.gl,t),n.postRender&&(this.lastPostProcessEffect=n.id);this.lastPostProcessEffect&&this._resizeRenderBuffers()}_resizeRenderBuffers(){const{renderBuffers:e}=this;0===e.length&&e.push(new be.Z(this.gl),new be.Z(this.gl));for(const t of e)t.resize()}_postRender(e,t){const{renderBuffers:n}=this,r={...t,inputBuffer:n[0],swapBuffer:n[1],target:null};for(const i of e)if(i.postRender){if(i.id===this.lastPostProcessEffect){r.target=t.target,i.postRender(this.gl,r);break}const e=i.postRender(this.gl,r);r.inputBuffer=e,r.swapBuffer=e===n[0]?n[1]:n[0]}}}var je=n(1953);const Ue={pickedColor:null,pickedObjectIndex:-1};function Ge({pickedColors:e,decodePickingColor:t,deviceX:n,deviceY:r,deviceRadius:i,deviceRect:s}){const{x:o,y:a,width:l,height:u}=s;let h=i*i,d=-1,f=0;for(let t=0;t<u;t++){const i=t+a-r,s=i*i;if(s>h)f+=4*l;else for(let t=0;t<l;t++){if(e[f+3]-1>=0){const e=t+o-n,r=e*e+s;r<=h&&(h=r,d=f)}f+=4}}if(d>=0){const n=e.slice(d,d+4),r=t(n);if(r){const e=Math.floor(d/4/l),t=d/4-e*l;return{...r,pickedColor:n,pickedX:o+t,pickedY:a+e}}c.Z.error("Picked non-existent layer. Is picking buffer corrupt?")()}return Ue}function ze({pickInfo:e,viewports:t,pixelRatio:n,x:r,y:i,z:s}){let o,a=t[0];if(t.length>1&&(a=function(e,t){for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.containsPixel(t))return r}return e[0]}((null==e?void 0:e.pickedViewports)||t,{x:r,y:i})),a){const e=[r-a.x,i-a.y];void 0!==s&&(e[2]=s),o=a.unproject(e)}return{color:null,layer:null,viewport:a,index:-1,picked:!1,x:r,y:i,pixel:[r,i],coordinate:o,devicePixel:e&&"pickedX"in e?[e.pickedX,e.pickedY]:void 0,pixelRatio:n}}function Ve(e){const{pickInfo:t,lastPickedInfo:n,mode:r,layers:i}=e,{pickedColor:s,pickedLayer:o,pickedObjectIndex:a}=t,l=o?[o]:[];if("hover"===r){const e=n.index,t=n.layerId,r=o?o.props.id:null;if(r!==t||a!==e){if(r!==t){const e=i.find((e=>e.props.id===t));e&&l.unshift(e)}n.layerId=r,n.index=a,n.info=null}}const c=ze(e),u=new Map;return u.set(null,c),l.forEach((e=>{let t={...c};e===o&&(t.color=s,t.index=a,t.picked=!0),t=He({layer:e,info:t,mode:r});const i=t.layer;e===o&&"hover"===r&&(n.info=t),u.set(i.id,t),"hover"===r&&i.updateAutoHighlight(t)})),u}function He({layer:e,info:t,mode:n}){for(;e&&t;){const r=t.layer||null;t.sourceLayer=r,t.layer=e,t=e.getPickingInfo({info:t,mode:n,sourceLayer:r}),e=e.parent}return t}class Ze{constructor(e){(0,i.Z)(this,"gl",void 0),(0,i.Z)(this,"pickingFBO",void 0),(0,i.Z)(this,"depthFBO",void 0),(0,i.Z)(this,"pickLayersPass",void 0),(0,i.Z)(this,"layerFilter",void 0),(0,i.Z)(this,"lastPickedInfo",void 0),(0,i.Z)(this,"_pickable",!0),this.gl=e,this.pickLayersPass=new Fe(e),this.lastPickedInfo={index:-1,layerId:null,info:null}}setProps(e){"layerFilter"in e&&(this.layerFilter=e.layerFilter),"_pickable"in e&&(this._pickable=e._pickable)}finalize(){this.pickingFBO&&this.pickingFBO.delete(),this.depthFBO&&(this.depthFBO.color.delete(),this.depthFBO.delete())}pickObject(e){return this._pickClosestObject(e)}pickObjects(e){return this._pickVisibleObjects(e)}getLastPickedObject({x:e,y:t,layers:n,viewports:r},i=this.lastPickedInfo.info){const s=i&&i.layer&&i.layer.id,o=i&&i.viewport&&i.viewport.id,a=s?n.find((e=>e.id===s)):null,l=o&&r.find((e=>e.id===o))||r[0],c=l&&l.unproject([e-l.x,t-l.y]),u={x:e,y:t,viewport:l,coordinate:c,layer:a};return{...i,...u}}_resizeBuffer(){var e,t;const{gl:n}=this;if(!this.pickingFBO&&(this.pickingFBO=new be.Z(n),be.Z.isSupported(n,{colorBufferFloat:!0}))){const e=new be.Z(n);e.attach({36064:new te.Z(n,{format:(0,pe.D0)(n)?34836:6408,type:5126})}),this.depthFBO=e}null===(e=this.pickingFBO)||void 0===e||e.resize({width:n.canvas.width,height:n.canvas.height}),null===(t=this.depthFBO)||void 0===t||t.resize({width:n.canvas.width,height:n.canvas.height})}_getPickable(e){if(!1===this._pickable)return null;const t=e.filter((e=>this.pickLayersPass.shouldDrawLayer(e)&&!e.isComposite));return t.length?t:null}_pickClosestObject({layers:e,views:t,viewports:n,x:r,y:i,radius:s=0,depth:o=1,mode:a="query",unproject3D:l,onViewportActive:c,effects:u}){const h=this._getPickable(e),d=(0,pe.w)(this.gl);if(!h)return{result:[],emptyInfo:ze({viewports:n,x:r,y:i,pixelRatio:d})};this._resizeBuffer();const f=(0,pe.JY)(this.gl,[r,i],!0),p=[f.x+Math.floor(f.width/2),f.y+Math.floor(f.height/2)],g=Math.round(s*d),{width:m,height:v}=this.pickingFBO,y=this._getPickingRect({deviceX:p[0],deviceY:p[1],deviceRadius:g,deviceWidth:m,deviceHeight:v}),b={x:r-s,y:i-s,width:2*s+1,height:2*s+1};let w;const _=[],A=new Set;for(let e=0;e<o;e++){let s,f;if(s=y?Ge({...this._drawAndSample({layers:h,views:t,viewports:n,onViewportActive:c,deviceRect:y,cullRect:b,effects:u,pass:"picking:".concat(a)}),deviceX:p[0],deviceY:p[1],deviceRadius:g,deviceRect:y}):{pickedColor:null,pickedObjectIndex:-1},s.pickedLayer&&l&&this.depthFBO){const{pickedColors:e}=this._drawAndSample({layers:[s.pickedLayer],views:t,viewports:n,onViewportActive:c,deviceRect:{x:s.pickedX,y:s.pickedY,width:1,height:1},cullRect:b,effects:u,pass:"picking:".concat(a,":z")},!0);e[3]&&(f=e[0])}s.pickedLayer&&e+1<o&&(A.add(s.pickedLayer),s.pickedLayer.disablePickingIndex(s.pickedObjectIndex)),w=Ve({pickInfo:s,lastPickedInfo:this.lastPickedInfo,mode:a,layers:h,viewports:n,x:r,y:i,z:f,pixelRatio:d});for(const e of w.values())e.layer&&_.push(e);if(!s.pickedColor)break}for(const e of A)e.restorePickingColors();return{result:_,emptyInfo:w.get(null)}}_pickVisibleObjects({layers:e,views:t,viewports:n,x:r,y:i,width:s=1,height:o=1,mode:a="query",maxObjects:l=null,onViewportActive:u,effects:h}){const d=this._getPickable(e);if(!d)return[];this._resizeBuffer();const f=(0,pe.w)(this.gl),p=(0,pe.JY)(this.gl,[r,i],!0),g=p.x,m=p.y+p.height,v=(0,pe.JY)(this.gl,[r+s,i+o],!0),y=v.x+v.width,b=v.y,w={x:g,y:b,width:y-g,height:m-b},_=function({pickedColors:e,decodePickingColor:t}){const n=new Map;if(e)for(let r=0;r<e.length;r+=4)if(e[r+3]-1>=0){const i=e.slice(r,r+4),s=i.join(",");if(!n.has(s)){const e=t(i);e?n.set(s,{...e,color:i}):c.Z.error("Picked non-existent layer. Is picking buffer corrupt?")()}}return Array.from(n.values())}(this._drawAndSample({layers:d,views:t,viewports:n,onViewportActive:u,deviceRect:w,cullRect:{x:r,y:i,width:s,height:o},effects:h,pass:"picking:".concat(a)})),A=new Map,E=Number.isFinite(l);for(let e=0;e<_.length;e++){var C;if(E&&l&&A.size>=l)break;const t=_[e];let n={color:t.pickedColor,layer:null,index:t.pickedObjectIndex,picked:!0,x:r,y:i,pixelRatio:f};n=He({layer:t.pickedLayer,info:n,mode:a});const s=null!==(C=n.object)&&void 0!==C?C:"".concat(n.layer.id,"[").concat(n.index,"]");A.has(s)||A.set(s,n)}return Array.from(A.values())}_drawAndSample({layers:e,views:t,viewports:n,onViewportActive:r,deviceRect:i,cullRect:s,effects:o,pass:a},l=!1){const c=l?this.depthFBO:this.pickingFBO,u={layers:e,layerFilter:this.layerFilter,views:t,viewports:n,onViewportActive:r,pickingFBO:c,deviceRect:i,cullRect:s,effects:o,pass:a,pickZ:l,preRenderStats:{}};for(const e of o)e.useInPicking&&(u.preRenderStats[e.id]=e.preRender(this.gl,u));const{decodePickingColor:h}=this.pickLayersPass.render(u),{x:d,y:f,width:p,height:g}=i,m=new(l?Float32Array:Uint8Array)(p*g*4);return(0,je.z6)(c,{sourceX:d,sourceY:f,sourceWidth:p,sourceHeight:g,target:m}),{pickedColors:m,decodePickingColor:h}}_getPickingRect({deviceX:e,deviceY:t,deviceRadius:n,deviceWidth:r,deviceHeight:i}){const s=Math.max(0,e-n),o=Math.max(0,t-n),a=Math.min(r,e+n+1)-s,l=Math.min(i,t+n+1)-o;return a<=0||l<=0?null:{x:s,y:o,width:a,height:l}}}const We={zIndex:"1",position:"absolute",pointerEvents:"none",color:"#a0a7b4",backgroundColor:"#29323c",padding:"10px",top:"0",left:"0",display:"none"};class Je{constructor(e){(0,i.Z)(this,"el",null),(0,i.Z)(this,"isVisible",!1);const t=e.parentElement;t&&(this.el=document.createElement("div"),this.el.className="deck-tooltip",Object.assign(this.el.style,We),t.appendChild(this.el))}setTooltip(e,t,n){const r=this.el;if(r){if("string"==typeof e)r.innerText=e;else{if(!e)return this.isVisible=!1,void(r.style.display="none");e.text&&(r.innerText=e.text),e.html&&(r.innerHTML=e.html),e.className&&(r.className=e.className)}this.isVisible=!0,r.style.display="block",r.style.transform="translate(".concat(t,"px, ").concat(n,"px)"),e&&"object"==typeof e&&"style"in e&&Object.assign(r.style,e.style)}}remove(){this.el&&(this.el.remove(),this.el=null)}}var Ke=n(6610),Xe=n(6228),qe=n(6487);const Ye={id:"JSON",name:"JSON",module:"",version:"",options:{},extensions:["json","geojson"],mimeTypes:["application/json","application/geo+json"],testText:function(e){const t=e[0],n=e[e.length-1];return"{"===t&&"}"===n||"["===t&&"]"===n},parseTextSync:JSON.parse},Qe=function(){const e="8.9.34",t=globalThis.deck&&globalThis.deck.VERSION;if(t&&t!==e)throw new Error("deck.gl - multiple versions detected: ".concat(t," vs ").concat(e));return t||(c.Z.log(1,"deck.gl ".concat(e))(),globalThis.deck={...globalThis.deck,VERSION:e,version:e,log:c.Z,_registerLoggers:u.z},(0,Xe.fh)([Ye,[qe.S,{imagebitmap:{premultiplyAlpha:"none"}}]])),e}();var $e=n(3485),et=n(9835),tt=n(2525),nt=n(7577),rt=n(4211),it=n(6948);class st extends nt.Z{get[Symbol.toStringTag](){return"Query"}static isSupported(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=(0,pe.D0)(e),r=(0,rt.ag)(e,it.h.TIMER_QUERY);let i=n||r;for(const e of t)switch(e){case"queries":i=i&&n;break;case"timers":i=i&&r;break;default:(0,tt.h)(!1)}return i}constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.target=null,this._queryPending=!1,this._pollingPromise=null,Object.seal(this)}beginTimeElapsedQuery(){return this.begin(35007)}beginOcclusionQuery(){let{conservative:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.begin(e?36202:35887)}beginTransformFeedbackQuery(){return this.begin(35976)}begin(e){return this._queryPending||(this.target=e,this.gl2.beginQuery(this.target,this.handle)),this}end(){return this._queryPending||this.target&&(this.gl2.endQuery(this.target),this.target=null,this._queryPending=!0),this}isResultAvailable(){if(!this._queryPending)return!1;const e=this.gl2.getQueryParameter(this.handle,34919);return e&&(this._queryPending=!1),e}isTimerDisjoint(){return this.gl2.getParameter(36795)}getResult(){return this.gl2.getQueryParameter(this.handle,34918)}getTimerMilliseconds(){return this.getResult()/1e6}createPoll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;if(this._pollingPromise)return this._pollingPromise;let t=0;return this._pollingPromise=new Promise(((n,r)=>{const i=()=>{this.isResultAvailable()?(n(this.getResult()),this._pollingPromise=null):t++>e?(r("Timed out"),this._pollingPromise=null):requestAnimationFrame(i)};requestAnimationFrame(i)})),this._pollingPromise}_createHandle(){return st.isSupported(this.gl)?this.gl2.createQuery():null}_deleteHandle(){this.gl2.deleteQuery(this.handle)}}const ot=(0,n(3370).Z)()&&"undefined"!=typeof document;let at=0;class lt{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{onCreateContext:t=(e=>(0,pe.s9)(e)),onAddHTML:n=null,onInitialize:r=(()=>{}),onRender:i=(()=>{}),onFinalize:s=(()=>{}),onError:o,gl:a=null,glOptions:l={},debug:c=!1,createFramebuffer:u=!1,autoResizeViewport:h=!0,autoResizeDrawingBuffer:d=!0,stats:f=et.lR.get("animation-loop-".concat(at++))}=e;let{useDevicePixels:p=!0}=e;"useDevicePixelRatio"in e&&(pe.cM.deprecated("useDevicePixelRatio","useDevicePixels")(),p=e.useDevicePixelRatio),this.props={onCreateContext:t,onAddHTML:n,onInitialize:r,onRender:i,onFinalize:s,onError:o,gl:a,glOptions:l,debug:c,createFramebuffer:u},this.gl=a,this.needsRedraw=null,this.timeline=null,this.stats=f,this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this._initialized=!1,this._running=!1,this._animationFrameId=null,this._nextFramePromise=null,this._resolveNextFrame=null,this._cpuStartTime=0,this.setProps({autoResizeViewport:h,autoResizeDrawingBuffer:d,useDevicePixels:p}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._pageLoadPromise=null,this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}delete(){this.stop(),this._setDisplay(null)}setNeedsRedraw(e){return(0,tt.h)("string"==typeof e),this.needsRedraw=this.needsRedraw||e,this}setProps(e){return"autoResizeViewport"in e&&(this.autoResizeViewport=e.autoResizeViewport),"autoResizeDrawingBuffer"in e&&(this.autoResizeDrawingBuffer=e.autoResizeDrawingBuffer),"useDevicePixels"in e&&(this.useDevicePixels=e.useDevicePixels),this}start(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._running)return this;this._running=!0;const t=this._getPageLoadPromise().then((()=>!this._running||this._initialized?null:(this._createWebGLContext(e),this._createFramebuffer(),this._startEventHandling(),this._initializeCallbackData(),this._updateCallbackData(),this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._gpuTimeQuery=st.isSupported(this.gl,["timers"])?new st(this.gl):null,this._initialized=!0,this.onInitialize(this.animationProps)))).then((e=>{this._running&&(this._addCallbackData(e||{}),!1!==e&&this._startLoop())}));return this.props.onError&&t.catch(this.props.onError),this}redraw(){return this.isContextLost()||(this._beginTimers(),this._setupFrame(),this._updateCallbackData(),this._renderFrame(this.animationProps),this._clearNeedsRedraw(),this.offScreen&&this.gl.commit&&this.gl.commit(),this._resolveNextFrame&&(this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null),this._endTimers()),this}stop(){return this._running&&(this._finalizeCallbackData(),this._cancelAnimationFrame(this._animationFrameId),this._nextFramePromise=null,this._resolveNextFrame=null,this._animationFrameId=null,this._running=!1),this}attachTimeline(e){return this.timeline=e,this.timeline}detachTimeline(){this.timeline=null}waitForRender(){return this.setNeedsRedraw("waitForRender"),this._nextFramePromise||(this._nextFramePromise=new Promise((e=>{this._resolveNextFrame=e}))),this._nextFramePromise}async toDataURL(){return this.setNeedsRedraw("toDataURL"),await this.waitForRender(),this.gl.canvas.toDataURL()}isContextLost(){return this.gl.isContextLost()}onCreateContext(){return this.props.onCreateContext(...arguments)}onInitialize(){return this.props.onInitialize(...arguments)}onRender(){return this.props.onRender(...arguments)}onFinalize(){return this.props.onFinalize(...arguments)}getHTMLControlValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=document.getElementById(e);return n?Number(n.value):t}setViewParameters(){return pe.cM.removed("AnimationLoop.setViewParameters","AnimationLoop.setProps")(),this}_startLoop(){const e=()=>{this._running&&(this.redraw(),this._animationFrameId=this._requestAnimationFrame(e))};this._cancelAnimationFrame(this._animationFrameId),this._animationFrameId=this._requestAnimationFrame(e)}_getPageLoadPromise(){return this._pageLoadPromise||(this._pageLoadPromise=ot?new Promise(((e,t)=>{ot&&"complete"===document.readyState?e(document):window.addEventListener("load",(()=>{e(document)}))})):Promise.resolve({})),this._pageLoadPromise}_setDisplay(e){this.display&&(this.display.delete(),this.display.animationLoop=null),e&&(e.animationLoop=this),this.display=e}_cancelAnimationFrame(e){return this.display&&this.display.cancelAnimationFrame?this.display.cancelAnimationFrame(e):(t=e,"undefined"!=typeof window&&window.cancelAnimationFrame?window.cancelAnimationFrame(t):clearTimeout(t));var t}_requestAnimationFrame(e){if(this._running)return this.display&&this.display.requestAnimationFrame?this.display.requestAnimationFrame(e):(t=e,"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame(t):setTimeout(t,1e3/60));var t}_renderFrame(){this.display?this.display._renderFrame(...arguments):this.onRender(...arguments)}_clearNeedsRedraw(){this.needsRedraw=null}_setupFrame(){this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._resizeFramebuffer()}_initializeCallbackData(){this.animationProps={gl:this.gl,stop:this.stop,canvas:this.gl.canvas,framebuffer:this.framebuffer,useDevicePixels:this.useDevicePixels,needsRedraw:null,startTime:Date.now(),engineTime:0,tick:0,tock:0,time:0,_timeline:this.timeline,_loop:this,_animationLoop:this,_mousePosition:null}}_updateCallbackData(){const{width:e,height:t,aspect:n}=this._getSizeAndAspect();e===this.animationProps.width&&t===this.animationProps.height||this.setNeedsRedraw("drawing buffer resized"),n!==this.animationProps.aspect&&this.setNeedsRedraw("drawing buffer aspect changed"),this.animationProps.width=e,this.animationProps.height=t,this.animationProps.aspect=n,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline&&this.timeline.update(this.animationProps.engineTime),this.animationProps.tick=Math.floor(this.animationProps.time/1e3*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime,this.animationProps._offScreen=this.offScreen}_finalizeCallbackData(){this.onFinalize(this.animationProps)}_addCallbackData(e){"object"==typeof e&&null!==e&&(this.animationProps=Object.assign({},this.animationProps,e))}_createWebGLContext(e){if(this.offScreen=e.canvas&&"undefined"!=typeof OffscreenCanvas&&e.canvas instanceof OffscreenCanvas,e=Object.assign({},e,this.props.glOptions),this.gl=this.props.gl?(0,pe.yW)(this.props.gl,e):this.onCreateContext(e),!(0,pe.UF)(this.gl))throw new Error("AnimationLoop.onCreateContext - illegal context returned");(0,pe.kL)(this.gl),this._createInfoDiv()}_createInfoDiv(){if(this.gl.canvas&&this.props.onAddHTML){const e=document.createElement("div");document.body.appendChild(e),e.style.position="relative";const t=document.createElement("div");t.style.position="absolute",t.style.left="10px",t.style.bottom="10px",t.style.width="300px",t.style.background="white",e.appendChild(this.gl.canvas),e.appendChild(t);const n=this.props.onAddHTML(t);n&&(t.innerHTML=n)}}_getSizeAndAspect(){const e=this.gl.drawingBufferWidth,t=this.gl.drawingBufferHeight;let n=1;const{canvas:r}=this.gl;return r&&r.clientHeight?n=r.clientWidth/r.clientHeight:e>0&&t>0&&(n=e/t),{width:e,height:t,aspect:n}}_resizeViewport(){this.autoResizeViewport&&this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)}_resizeCanvasDrawingBuffer(){this.autoResizeDrawingBuffer&&(0,pe.aQ)(this.gl,{useDevicePixels:this.useDevicePixels})}_createFramebuffer(){this.props.createFramebuffer&&(this.framebuffer=new be.Z(this.gl))}_resizeFramebuffer(){this.framebuffer&&this.framebuffer.resize({width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight})}_beginTimers(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this._gpuTimeQuery&&this._gpuTimeQuery.isResultAvailable()&&!this._gpuTimeQuery.isTimerDisjoint()&&this.stats.get("GPU Time").addTime(this._gpuTimeQuery.getTimerMilliseconds()),this._gpuTimeQuery&&this._gpuTimeQuery.beginTimeElapsedQuery(),this.cpuTime.timeStart()}_endTimers(){this.cpuTime.timeEnd(),this._gpuTimeQuery&&this._gpuTimeQuery.end()}_startEventHandling(){const{canvas:e}=this.gl;e&&(e.addEventListener("mousemove",this._onMousemove),e.addEventListener("mouseleave",this._onMouseleave))}_onMousemove(e){this.animationProps._mousePosition=[e.offsetX,e.offsetY]}_onMouseleave(e){this.animationProps._mousePosition=null}}var ct=n(840);const ut={mousedown:1,mousemove:2,mouseup:4};!function(e){const t=e.prototype.handler;e.prototype.handler=function(e){const n=this.store;e.button>0&&"pointerdown"===e.type&&(function(t,n){for(let n=0;n<t.length;n++)if(t[n].pointerId===e.pointerId)return!0;return!1}(n)||n.push(e)),t.call(this,e)}}(ct.PointerEventInput),ct.MouseInput.prototype.handler=function(e){let t=ut[e.type];1&t&&e.button>=0&&(this.pressed=!0),2&t&&0===e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))};const ht=ct.Manager,dt=ct;class ft{constructor(e,t,n){this.element=e,this.callback=t,this.options={enable:!0,...n}}}const pt=dt?[[dt.Pan,{event:"tripan",pointers:3,threshold:0,enable:!1}],[dt.Rotate,{enable:!1}],[dt.Pinch,{enable:!1}],[dt.Swipe,{enable:!1}],[dt.Pan,{threshold:0,enable:!1}],[dt.Press,{enable:!1}],[dt.Tap,{event:"doubletap",taps:2,enable:!1}],[dt.Tap,{event:"anytap",enable:!1}],[dt.Tap,{enable:!1}]]:null,gt={tripan:["rotate","pinch","pan"],rotate:["pinch"],pinch:["pan"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},mt={doubletap:["tap"]},vt={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},yt={KEY_EVENTS:["keydown","keyup"],MOUSE_EVENTS:["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],WHEEL_EVENTS:["wheel","mousewheel"]},bt={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",tripan:"tripan",tripanstart:"tripan",tripanmove:"tripan",tripanup:"tripan",tripandown:"tripan",tripanleft:"tripan",tripanright:"tripan",tripanend:"tripan",tripancancel:"tripan",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},wt={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"},_t="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",At="undefined"!=typeof window?window:n.g;void 0!==n.g?n.g:window,"undefined"!=typeof document&&document;let Et=!1;try{const e={get passive(){return Et=!0,!0}};At.addEventListener("test",null,e),At.removeEventListener("test",null)}catch(e){Et=!1}const Ct=-1!==_t.indexOf("firefox"),{WHEEL_EVENTS:xt}=yt,St="wheel",Tt=4.000244140625;class It extends ft{constructor(e,t,n){super(e,t,n),this.handleEvent=e=>{if(!this.options.enable)return;let t=e.deltaY;At.WheelEvent&&(Ct&&e.deltaMode===At.WheelEvent.DOM_DELTA_PIXEL&&(t/=At.devicePixelRatio),e.deltaMode===At.WheelEvent.DOM_DELTA_LINE&&(t*=40)),0!==t&&t%Tt==0&&(t=Math.floor(t/Tt)),e.shiftKey&&t&&(t*=.25),this.callback({type:St,center:{x:e.clientX,y:e.clientY},delta:-t,srcEvent:e,pointerType:"mouse",target:e.target})},this.events=(this.options.events||[]).concat(xt),this.events.forEach((t=>e.addEventListener(t,this.handleEvent,!!Et&&{passive:!1})))}destroy(){this.events.forEach((e=>this.element.removeEventListener(e,this.handleEvent)))}enableEventType(e,t){e===St&&(this.options.enable=t)}}const{MOUSE_EVENTS:Ot}=yt,Pt="pointermove",Mt="pointerover",Bt="pointerout",kt="pointerenter",Rt="pointerleave";class Lt extends ft{constructor(e,t,n){super(e,t,n),this.handleEvent=e=>{this.handleOverEvent(e),this.handleOutEvent(e),this.handleEnterEvent(e),this.handleLeaveEvent(e),this.handleMoveEvent(e)},this.pressed=!1;const{enable:r}=this.options;this.enableMoveEvent=r,this.enableLeaveEvent=r,this.enableEnterEvent=r,this.enableOutEvent=r,this.enableOverEvent=r,this.events=(this.options.events||[]).concat(Ot),this.events.forEach((t=>e.addEventListener(t,this.handleEvent)))}destroy(){this.events.forEach((e=>this.element.removeEventListener(e,this.handleEvent)))}enableEventType(e,t){e===Pt&&(this.enableMoveEvent=t),e===Mt&&(this.enableOverEvent=t),e===Bt&&(this.enableOutEvent=t),e===kt&&(this.enableEnterEvent=t),e===Rt&&(this.enableLeaveEvent=t)}handleOverEvent(e){this.enableOverEvent&&"mouseover"===e.type&&this._emit(Mt,e)}handleOutEvent(e){this.enableOutEvent&&"mouseout"===e.type&&this._emit(Bt,e)}handleEnterEvent(e){this.enableEnterEvent&&"mouseenter"===e.type&&this._emit(kt,e)}handleLeaveEvent(e){this.enableLeaveEvent&&"mouseleave"===e.type&&this._emit(Rt,e)}handleMoveEvent(e){if(this.enableMoveEvent)switch(e.type){case"mousedown":e.button>=0&&(this.pressed=!0);break;case"mousemove":0===e.which&&(this.pressed=!1),this.pressed||this._emit(Pt,e);break;case"mouseup":this.pressed=!1}}_emit(e,t){this.callback({type:e,center:{x:t.clientX,y:t.clientY},srcEvent:t,pointerType:"mouse",target:t.target})}}const{KEY_EVENTS:Ft}=yt,Dt="keydown",Nt="keyup";class jt extends ft{constructor(e,t,n){super(e,t,n),this.handleEvent=e=>{const t=e.target||e.srcElement;"INPUT"===t.tagName&&"text"===t.type||"TEXTAREA"===t.tagName||(this.enableDownEvent&&"keydown"===e.type&&this.callback({type:Dt,srcEvent:e,key:e.key,target:e.target}),this.enableUpEvent&&"keyup"===e.type&&this.callback({type:Nt,srcEvent:e,key:e.key,target:e.target}))},this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=(this.options.events||[]).concat(Ft),e.tabIndex=this.options.tabIndex||0,e.style.outline="none",this.events.forEach((t=>e.addEventListener(t,this.handleEvent)))}destroy(){this.events.forEach((e=>this.element.removeEventListener(e,this.handleEvent)))}enableEventType(e,t){e===Dt&&(this.enableDownEvent=t),e===Nt&&(this.enableUpEvent=t)}}const Ut="contextmenu";class Gt extends ft{constructor(e,t,n){super(e,t,n),this.handleEvent=e=>{this.options.enable&&this.callback({type:Ut,center:{x:e.clientX,y:e.clientY},srcEvent:e,pointerType:"mouse",target:e.target})},e.addEventListener("contextmenu",this.handleEvent)}destroy(){this.element.removeEventListener("contextmenu",this.handleEvent)}enableEventType(e,t){e===Ut&&(this.options.enable=t)}}const zt={pointerdown:1,pointermove:2,pointerup:4,mousedown:1,mousemove:2,mouseup:4};function Vt(e){const t=zt[e.srcEvent.type];if(!t)return null;const{buttons:n,button:r,which:i}=e.srcEvent;let s=!1,o=!1,a=!1;return 4===t||2===t&&!Number.isFinite(n)?(s=1===i,o=2===i,a=3===i):2===t?(s=Boolean(1&n),o=Boolean(4&n),a=Boolean(2&n)):1===t&&(s=0===r,o=1===r,a=2===r),{leftButton:s,middleButton:o,rightButton:a}}function Ht(e,t){const n=e.center;if(!n)return null;const r=t.getBoundingClientRect(),i=r.width/t.offsetWidth||1,s=r.height/t.offsetHeight||1;return{center:n,offsetCenter:{x:(n.x-r.left-t.clientLeft)/i,y:(n.y-r.top-t.clientTop)/s}}}const Zt={srcElement:"root",priority:0};class Wt{constructor(e){this.handleEvent=e=>{if(this.isEmpty())return;const t=this._normalizeEvent(e);let n=e.srcEvent.target;for(;n&&n!==t.rootElement;){if(this._emit(t,n),t.handled)return;n=n.parentNode}this._emit(t,"root")},this.eventManager=e,this.handlers=[],this.handlersByElement=new Map,this._active=!1}isEmpty(){return!this._active}add(e,t,n,r=!1,i=!1){const{handlers:s,handlersByElement:o}=this;let a=Zt;"string"==typeof n||n&&n.addEventListener?a={...Zt,srcElement:n}:n&&(a={...Zt,...n});let l=o.get(a.srcElement);l||(l=[],o.set(a.srcElement,l));const c={type:e,handler:t,srcElement:a.srcElement,priority:a.priority};r&&(c.once=!0),i&&(c.passive=!0),s.push(c),this._active=this._active||!c.passive;let u=l.length-1;for(;u>=0&&!(l[u].priority>=c.priority);)u--;l.splice(u+1,0,c)}remove(e,t){const{handlers:n,handlersByElement:r}=this;for(let i=n.length-1;i>=0;i--){const s=n[i];if(s.type===e&&s.handler===t){n.splice(i,1);const e=r.get(s.srcElement);e.splice(e.indexOf(s),1),0===e.length&&r.delete(s.srcElement)}}this._active=n.some((e=>!e.passive))}_emit(e,t){const n=this.handlersByElement.get(t);if(n){let t=!1;const r=()=>{e.handled=!0},i=()=>{e.handled=!0,t=!0},s=[];for(let o=0;o<n.length;o++){const{type:a,handler:l,once:c}=n[o];if(l({...e,type:a,stopPropagation:r,stopImmediatePropagation:i}),c&&s.push(n[o]),t)break}for(let e=0;e<s.length;e++){const{type:t,handler:n}=s[e];this.remove(t,n)}}}_normalizeEvent(e){const t=this.eventManager.getElement();return{...e,...Vt(e),...Ht(e,t),preventDefault:()=>{e.srcEvent.preventDefault()},stopImmediatePropagation:null,stopPropagation:null,handled:!1,rootElement:t}}}const Jt={events:null,recognizers:null,recognizerOptions:{},Manager:ht,touchAction:"none",tabIndex:0};class Kt{constructor(e=null,t){this._onBasicInput=e=>{const{srcEvent:t}=e,n=vt[t.type];n&&this.manager.emit(n,e)},this._onOtherEvent=e=>{this.manager.emit(e.type,e)},this.options={...Jt,...t},this.events=new Map,this.setElement(e);const{events:n}=this.options;n&&this.on(n)}getElement(){return this.element}setElement(e){if(this.element&&this.destroy(),this.element=e,!e)return;const{options:t}=this,n=t.Manager;this.manager=new n(e,{touchAction:t.touchAction,recognizers:t.recognizers||pt}).on("hammer.input",this._onBasicInput),t.recognizers||Object.keys(gt).forEach((e=>{const t=this.manager.get(e);t&&gt[e].forEach((e=>{t.recognizeWith(e)}))}));for(const e in t.recognizerOptions){const n=this.manager.get(e);if(n){const r=t.recognizerOptions[e];delete r.enable,n.set(r)}}this.wheelInput=new It(e,this._onOtherEvent,{enable:!1}),this.moveInput=new Lt(e,this._onOtherEvent,{enable:!1}),this.keyInput=new jt(e,this._onOtherEvent,{enable:!1,tabIndex:t.tabIndex}),this.contextmenuInput=new Gt(e,this._onOtherEvent,{enable:!1});for(const[e,t]of this.events)t.isEmpty()||(this._toggleRecognizer(t.recognizerName,!0),this.manager.on(e,t.handleEvent))}destroy(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}on(e,t,n){this._addEventHandler(e,t,n,!1)}once(e,t,n){this._addEventHandler(e,t,n,!0)}watch(e,t,n){this._addEventHandler(e,t,n,!1,!0)}off(e,t){this._removeEventHandler(e,t)}_toggleRecognizer(e,t){const{manager:n}=this;if(!n)return;const r=n.get(e);if(r&&r.options.enable!==t){r.set({enable:t});const i=mt[e];i&&!this.options.recognizers&&i.forEach((i=>{const s=n.get(i);t?(s.requireFailure(e),r.dropRequireFailure(i)):s.dropRequireFailure(e)}))}this.wheelInput.enableEventType(e,t),this.moveInput.enableEventType(e,t),this.keyInput.enableEventType(e,t),this.contextmenuInput.enableEventType(e,t)}_addEventHandler(e,t,n,r,i){if("string"!=typeof e){n=t;for(const t in e)this._addEventHandler(t,e[t],n,r,i);return}const{manager:s,events:o}=this,a=wt[e]||e;let l=o.get(a);l||(l=new Wt(this),o.set(a,l),l.recognizerName=bt[a]||a,s&&s.on(a,l.handleEvent)),l.add(e,t,n,r,i),l.isEmpty()||this._toggleRecognizer(l.recognizerName,!0)}_removeEventHandler(e,t){if("string"!=typeof e){for(const t in e)this._removeEventHandler(t,e[t]);return}const{events:n}=this,r=wt[e]||e,i=n.get(r);if(i&&(i.remove(e,t),i.isEmpty())){const{recognizerName:e}=i;let t=!1;for(const r of n.values())if(r.recognizerName===e&&!r.isEmpty()){t=!0;break}t||this._toggleRecognizer(e,!1)}}}function Xt(){}const qt={id:"",width:"100%",height:"100%",style:null,viewState:null,initialViewState:null,pickingRadius:0,layerFilter:null,glOptions:{},parameters:{},parent:null,gl:null,canvas:null,layers:[],effects:[],views:null,controller:null,useDevicePixels:!0,touchAction:"none",eventRecognizerOptions:{},_framebuffer:null,_animate:!1,_pickable:!0,_typedArrayManagerProps:{},_customRender:null,onWebGLInitialized:Xt,onResize:Xt,onViewStateChange:Xt,onInteractionStateChange:Xt,onBeforeRender:Xt,onAfterRender:Xt,onLoad:Xt,onError:e=>c.Z.error(e.message,e.cause)(),onHover:null,onClick:null,onDragStart:null,onDrag:null,onDragEnd:null,_onMetrics:null,getCursor:({isDragging:e})=>e?"grabbing":"grab",getTooltip:null,debug:!1,drawPickingColors:!1};class Yt{constructor(e){(0,i.Z)(this,"props",void 0),(0,i.Z)(this,"width",0),(0,i.Z)(this,"height",0),(0,i.Z)(this,"userData",{}),(0,i.Z)(this,"canvas",null),(0,i.Z)(this,"viewManager",null),(0,i.Z)(this,"layerManager",null),(0,i.Z)(this,"effectManager",null),(0,i.Z)(this,"deckRenderer",null),(0,i.Z)(this,"deckPicker",null),(0,i.Z)(this,"eventManager",null),(0,i.Z)(this,"tooltip",null),(0,i.Z)(this,"metrics",void 0),(0,i.Z)(this,"animationLoop",void 0),(0,i.Z)(this,"stats",void 0),(0,i.Z)(this,"viewState",void 0),(0,i.Z)(this,"cursorState",void 0),(0,i.Z)(this,"_needsRedraw",void 0),(0,i.Z)(this,"_pickRequest",void 0),(0,i.Z)(this,"_lastPointerDownInfo",null),(0,i.Z)(this,"_metricsCounter",void 0),(0,i.Z)(this,"_onPointerMove",(e=>{const{_pickRequest:t}=this;if("pointerleave"===e.type)t.x=-1,t.y=-1,t.radius=0;else{if(e.leftButton||e.rightButton)return;{const n=e.offsetCenter;if(!n)return;t.x=n.x,t.y=n.y,t.radius=this.props.pickingRadius}}this.layerManager&&(this.layerManager.context.mousePosition={x:t.x,y:t.y}),t.event=e})),(0,i.Z)(this,"_onEvent",(e=>{const t=_e.FP[e.type],n=e.offsetCenter;if(!t||!n||!this.layerManager)return;const r=this.layerManager.getLayers(),i=this.deckPicker.getLastPickedObject({x:n.x,y:n.y,layers:r,viewports:this.getViewports(n)},this._lastPointerDownInfo),{layer:s}=i,o=s&&(s[t.handler]||s.props[t.handler]),a=this.props[t.handler];let l=!1;o&&(l=o.call(s,i,e)),!l&&a&&a(i,e)})),(0,i.Z)(this,"_onPointerDown",(e=>{const t=e.offsetCenter,n=this._pick("pickObject","pickObject Time",{x:t.x,y:t.y,radius:this.props.pickingRadius});this._lastPointerDownInfo=n.result[0]||n.emptyInfo})),this.props={...qt,...e},e=this.props,this._needsRedraw="Initial render",this._pickRequest={mode:"hover",x:-1,y:-1,radius:0,event:null},this.cursorState={isHovering:!1,isDragging:!1},e.viewState&&e.initialViewState&&c.Z.warn("View state tracking is disabled. Use either `initialViewState` for auto update or `viewState` for manual update.")(),"IE"===(0,$e.Z)()&&c.Z.warn("IE 11 is not supported")(),this.viewState=e.initialViewState,e.gl||"undefined"!=typeof document&&(this.canvas=this._createCanvas(e)),this.animationLoop=this._createAnimationLoop(e),this.stats=new d.Z({id:"deck.gl"}),this.metrics={fps:0,setPropsTime:0,updateAttributesTime:0,framesRedrawn:0,pickTime:0,pickCount:0,gpuTime:0,gpuTimePerFrame:0,cpuTime:0,cpuTimePerFrame:0,bufferMemory:0,textureMemory:0,renderbufferMemory:0,gpuMemory:0},this._metricsCounter=0,this.setProps(e),e._typedArrayManagerProps&&Ke.Z.setOptions(e._typedArrayManagerProps),this.animationLoop.start()}finalize(){var e,t,n,r,i,s,o,a,l;null===(e=this.animationLoop)||void 0===e||e.stop(),this.animationLoop=null,this._lastPointerDownInfo=null,null===(t=this.layerManager)||void 0===t||t.finalize(),this.layerManager=null,null===(n=this.viewManager)||void 0===n||n.finalize(),this.viewManager=null,null===(r=this.effectManager)||void 0===r||r.finalize(),this.effectManager=null,null===(i=this.deckRenderer)||void 0===i||i.finalize(),this.deckRenderer=null,null===(s=this.deckPicker)||void 0===s||s.finalize(),this.deckPicker=null,null===(o=this.eventManager)||void 0===o||o.destroy(),this.eventManager=null,null===(a=this.tooltip)||void 0===a||a.remove(),this.tooltip=null,this.props.canvas||this.props.gl||!this.canvas||(null===(l=this.canvas.parentElement)||void 0===l||l.removeChild(this.canvas),this.canvas=null)}setProps(e){this.stats.get("setProps Time").timeStart(),"onLayerHover"in e&&c.Z.removed("onLayerHover","onHover")(),"onLayerClick"in e&&c.Z.removed("onLayerClick","onClick")(),e.initialViewState&&!(0,E.v)(this.props.initialViewState,e.initialViewState,3)&&(this.viewState=e.initialViewState),Object.assign(this.props,e),this._setCanvasSize(this.props);const t=Object.create(this.props);Object.assign(t,{views:this._getViews(),width:this.width,height:this.height,viewState:this._getViewState()}),this.animationLoop.setProps(t),this.layerManager&&(this.viewManager.setProps(t),this.layerManager.activateViewport(this.getViewports()[0]),this.layerManager.setProps(t),this.effectManager.setProps(t),this.deckRenderer.setProps(t),this.deckPicker.setProps(t)),this.stats.get("setProps Time").timeEnd()}needsRedraw(e={clearRedrawFlags:!1}){if(!this.layerManager)return!1;if(this.props._animate)return"Deck._animate";let t=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);const n=this.viewManager.needsRedraw(e),r=this.layerManager.needsRedraw(e),i=this.effectManager.needsRedraw(e),s=this.deckRenderer.needsRedraw(e);return t=t||n||r||i||s,t}redraw(e){if(!this.layerManager)return;let t=this.needsRedraw({clearRedrawFlags:!0});t=e||t,t&&(this.stats.get("Redraw Count").incrementCount(),this.props._customRender?this.props._customRender(t):this._drawLayers(t))}get isInitialized(){return null!==this.viewManager}getViews(){return(0,I.Z)(this.viewManager),this.viewManager.views}getViewports(e){return(0,I.Z)(this.viewManager),this.viewManager.getViewports(e)}getCanvas(){return this.canvas}pickObject(e){const t=this._pick("pickObject","pickObject Time",e).result;return t.length?t[0]:null}pickMultipleObjects(e){return e.depth=e.depth||10,this._pick("pickObject","pickMultipleObjects Time",e).result}pickObjects(e){return this._pick("pickObjects","pickObjects Time",e)}_addResources(e,t=!1){for(const n in e)this.layerManager.resourceManager.add({resourceId:n,data:e[n],forceUpdate:t})}_removeResources(e){for(const t of e)this.layerManager.resourceManager.remove(t)}_addDefaultEffect(e){this.effectManager.addDefaultEffect(e)}_pick(e,t,n){(0,I.Z)(this.deckPicker);const{stats:r}=this;r.get("Pick Count").incrementCount(),r.get(t).timeStart();const i=this.deckPicker[e]({layers:this.layerManager.getLayers(n),views:this.viewManager.getViews(),viewports:this.getViewports(n),onViewportActive:this.layerManager.activateViewport,effects:this.effectManager.getEffects(),...n});return r.get(t).timeEnd(),i}_createCanvas(e){let t=e.canvas;return"string"==typeof t&&(t=document.getElementById(t),(0,I.Z)(t)),t||(t=document.createElement("canvas"),t.id=e.id||"deckgl-overlay",(e.parent||document.body).appendChild(t)),Object.assign(t.style,e.style),t}_setCanvasSize(e){if(!this.canvas)return;const{width:t,height:n}=e;if(t||0===t){const e=Number.isFinite(t)?"".concat(t,"px"):t;this.canvas.style.width=e}if(n||0===n){var r;const t=Number.isFinite(n)?"".concat(n,"px"):n;this.canvas.style.position=(null===(r=e.style)||void 0===r?void 0:r.position)||"absolute",this.canvas.style.height=t}}_updateCanvasSize(){var e,t;const{canvas:n}=this;if(!n)return;const r=null!==(e=n.clientWidth)&&void 0!==e?e:n.width,i=null!==(t=n.clientHeight)&&void 0!==t?t:n.height;var s,o;r===this.width&&i===this.height||(this.width=r,this.height=i,null===(s=this.viewManager)||void 0===s||s.setProps({width:r,height:i}),null===(o=this.layerManager)||void 0===o||o.activateViewport(this.getViewports()[0]),this.props.onResize({width:r,height:i}))}_createAnimationLoop(e){const{width:t,height:n,gl:r,glOptions:i,debug:s,onError:o,onBeforeRender:a,onAfterRender:l,useDevicePixels:c}=e;return new lt({width:t,height:n,useDevicePixels:c,autoResizeDrawingBuffer:!r,autoResizeViewport:!1,gl:r,onCreateContext:e=>(0,pe.s9)({...i,...e,canvas:this.canvas,debug:s,onContextLost:()=>this._onContextLost()}),onInitialize:e=>this._setGLContext(e.gl),onRender:this._onRenderFrame.bind(this),onBeforeRender:a,onAfterRender:l,onError:o})}_getViewState(){return this.props.viewState||this.viewState}_getViews(){let e=this.props.views||[new ee({id:"default-view"})];return e=Array.isArray(e)?e:[e],e.length&&this.props.controller&&(e[0].props.controller=this.props.controller),e}_onContextLost(){const{onError:e}=this.props;this.animationLoop&&e&&e(new Error("WebGL context is lost"))}_pickAndCallback(){const{_pickRequest:e}=this;if(e.event){const{result:n,emptyInfo:r}=this._pick("pickObject","pickObject Time",e);this.cursorState.isHovering=n.length>0;let i=r,s=!1;for(const r of n){var t;i=r,s=(null===(t=r.layer)||void 0===t?void 0:t.onHover(r,e.event))||s}if(!s&&this.props.onHover&&this.props.onHover(i,e.event),this.props.getTooltip&&this.tooltip){const e=this.props.getTooltip(i);this.tooltip.setTooltip(e,i.x,i.y)}e.event=null}}_updateCursor(){const e=this.props.parent||this.canvas;e&&(e.style.cursor=this.props.getCursor(this.cursorState))}_setGLContext(e){if(this.layerManager)return;this.canvas||(this.canvas=e.canvas,(0,pe.yW)(e,{enable:!0,copyState:!0})),this.tooltip=new Je(this.canvas),(0,pe.dR)(e,{blend:!0,blendFunc:[770,771,1,771],polygonOffsetFill:!0,depthTest:!0,depthFunc:515}),this.props.onWebGLInitialized(e);const t=new a;t.play(),this.animationLoop.attachTimeline(t),this.eventManager=new Kt(this.props.parent||e.canvas,{touchAction:this.props.touchAction,recognizerOptions:this.props.eventRecognizerOptions,events:{pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerleave:this._onPointerMove}});for(const e in _e.FP)this.eventManager.on(e,this._onEvent);this.viewManager=new C({timeline:t,eventManager:this.eventManager,onViewStateChange:this._onViewStateChange.bind(this),onInteractionStateChange:this._onInteractionStateChange.bind(this),views:this._getViews(),viewState:this._getViewState(),width:this.width,height:this.height});const n=this.viewManager.getViewports()[0];this.layerManager=new A(e,{deck:this,stats:this.stats,viewport:n,timeline:t}),this.effectManager=new ke,this.deckRenderer=new Ne(e),this.deckPicker=new Ze(e),this.setProps(this.props),this._updateCanvasSize(),this.props.onLoad()}_drawLayers(e,t){const{gl:n}=this.layerManager.context;(0,pe.dR)(n,this.props.parameters),this.props.onBeforeRender({gl:n}),this.deckRenderer.renderLayers({target:this.props._framebuffer,layers:this.layerManager.getLayers(),viewports:this.viewManager.getViewports(),onViewportActive:this.layerManager.activateViewport,views:this.viewManager.getViews(),pass:"screen",effects:this.effectManager.getEffects(),...t}),this.props.onAfterRender({gl:n})}_onRenderFrame(e){this._getFrameStats(),this._metricsCounter++%60==0&&(this._getMetrics(),this.stats.reset(),c.Z.table(4,this.metrics)(),this.props._onMetrics&&this.props._onMetrics(this.metrics)),this._updateCanvasSize(),this._updateCursor(),this.tooltip.isVisible&&this.viewManager.needsRedraw()&&this.tooltip.setTooltip(null),this.layerManager.updateLayers(),this._pickAndCallback(),this.redraw(),this.viewManager&&this.viewManager.updateViewStates()}_onViewStateChange(e){const t=this.props.onViewStateChange(e)||e.viewState;this.viewState&&(this.viewState={...this.viewState,[e.viewId]:t},this.props.viewState||this.viewManager&&this.viewManager.setProps({viewState:this.viewState}))}_onInteractionStateChange(e){this.cursorState.isDragging=e.isDragging||!1,this.props.onInteractionStateChange(e)}_getFrameStats(){const{stats:e}=this;e.get("frameRate").timeEnd(),e.get("frameRate").timeStart();const t=this.animationLoop.stats;e.get("GPU Time").addTime(t.get("GPU Time").lastTiming),e.get("CPU Time").addTime(t.get("CPU Time").lastTiming)}_getMetrics(){const{metrics:e,stats:t}=this;e.fps=t.get("frameRate").getHz(),e.setPropsTime=t.get("setProps Time").time,e.updateAttributesTime=t.get("Update Attributes").time,e.framesRedrawn=t.get("Redraw Count").count,e.pickTime=t.get("pickObject Time").time+t.get("pickMultipleObjects Time").time+t.get("pickObjects Time").time,e.pickCount=t.get("Pick Count").count,e.gpuTime=t.get("GPU Time").time,e.cpuTime=t.get("CPU Time").time,e.gpuTimePerFrame=t.get("GPU Time").getAverageTime(),e.cpuTimePerFrame=t.get("CPU Time").getAverageTime();const n=et.lR.get("Memory Usage");e.bufferMemory=n.get("Buffer Memory").count,e.textureMemory=n.get("Texture Memory").count,e.renderbufferMemory=n.get("Renderbuffer Memory").count,e.gpuMemory=n.get("GPU Memory").count}}(0,i.Z)(Yt,"defaultProps",qt),(0,i.Z)(Yt,"VERSION",Qe);const Qt="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;function $t(e,t){for(;e;){if(e===t)return!0;e=Object.getPrototypeOf(e)}return!1}var en=n(5522);const tn={position:"absolute",zIndex:-1};function nn(e,t){if("function"==typeof e)return e(t);if(Array.isArray(e))return e.map((e=>nn(e,t)));if(rn(e)){if(null===(n=e.props)||void 0===n?void 0:n.mapStyle)return t.style=tn,(0,r.cloneElement)(e,t);if(function(e){const t=e.type;return t&&t.deckGLViewProps}(e))return(0,r.cloneElement)(e,t)}var n;return e}function rn(e){return e&&"object"==typeof e&&"type"in e||!1}function sn(e){if("function"==typeof e)return(0,r.createElement)(O,{},e);if(Array.isArray(e))return e.map(sn);if(rn(e)){if(e.type===r.Fragment)return sn(e.props.children);if($t(e.type,O))return e}return e}const on={mixBlendMode:null};function an(e){e.redrawReason&&(e.deck._drawLayers(e.redrawReason),e.redrawReason=null)}const ln=(0,r.forwardRef)(((e,t)=>{const[n,i]=(0,r.useState)(0),s=(0,r.useRef)({control:null,version:n,forceUpdate:()=>i((e=>e+1))}).current,o=(0,r.useRef)(null),a=(0,r.useRef)(null),l=(0,r.useMemo)((()=>function({children:e,layers:t=[],views:n=null}){const i=[],s=[],o={};return r.Children.forEach(sn(e),(e=>{if(rn(e)){const t=e.type;if($t(t,en.Z)){const n=function(e,t){const n={},r=e.defaultProps||{};for(const e in t)r[e]!==t[e]&&(n[e]=t[e]);return new e(n)}(t,e.props);s.push(n)}else i.push(e);if($t(t,O)&&t!==O&&e.props.id){const n=new t(e.props);o[n.id]=n}}else e&&i.push(e)})),Object.keys(o).length>0&&(Array.isArray(n)?n.forEach((e=>{o[e.id]=e})):n&&(o[n.id]=n),n=Object.values(o)),{layers:t=s.length>0?[...s,...t]:t,children:i,views:n}}(e)),[e.layers,e.views,e.children]);let c=!0;const u=t=>{var n;return c&&e.viewState?(s.viewStateUpdateRequested=t,null):(s.viewStateUpdateRequested=null,null===(n=e.onViewStateChange)||void 0===n?void 0:n.call(e,t))},h=t=>{var n;c?s.interactionStateUpdateRequested=t:(s.interactionStateUpdateRequested=null,null===(n=e.onInteractionStateChange)||void 0===n||n.call(e,t))},d=(0,r.useMemo)((()=>{const t={...e,style:null,width:"100%",height:"100%",parent:o.current,canvas:a.current,layers:l.layers,views:l.views,onViewStateChange:u,onInteractionStateChange:h};return delete t._customRender,s.deck&&s.deck.setProps(t),t}),[e]);(0,r.useEffect)((()=>{const t=e.Deck||Yt;return s.deck=function(e,t,n){const r=new t({...n,_customRender:t=>{e.redrawReason=t;const n=r.getViewports();e.lastRenderedViewports!==n?e.forceUpdate():an(e)}});return r}(s,t,{...d,parent:o.current,canvas:a.current}),()=>{var e;return null===(e=s.deck)||void 0===e?void 0:e.finalize()}}),[]),Qt((()=>{an(s);const{viewStateUpdateRequested:e,interactionStateUpdateRequested:t}=s;e&&u(e),t&&h(t)})),(0,r.useImperativeHandle)(t,(()=>function(e){return{get deck(){return e.deck},pickObject:t=>e.deck.pickObject(t),pickMultipleObjects:t=>e.deck.pickMultipleObjects(t),pickObjects:t=>e.deck.pickObjects(t)}}(s)),[]);const f=s.deck&&s.deck.isInitialized?s.deck.getViewports():void 0,{ContextProvider:p,width:g,height:m,id:v,style:y}=e,{containerStyle:b,canvasStyle:w}=(0,r.useMemo)((()=>function({width:e,height:t,style:n}){const r={position:"absolute",zIndex:0,left:0,top:0,width:e,height:t},i={left:0,top:0};if(n)for(const e in n)e in on?i[e]=n[e]:r[e]=n[e];return{containerStyle:r,canvasStyle:i}}({width:g,height:m,style:y})),[g,m,y]);if(!s.viewStateUpdateRequested&&s.lastRenderedViewports===f||s.version!==n){s.lastRenderedViewports=f,s.version=n;const e=function({children:e,deck:t,ContextProvider:n}){const{viewManager:i}=t||{};if(!i||!i.views.length)return[];const s={},o=i.views[0].id;for(const t of e){let e=o,n=t;rn(t)&&$t(t.type,O)&&(e=t.props.id||o,n=t.props.children);const r=i.getViewport(e),a=i.getViewState(e);if(r){a.padding=r.padding;const{x:t,y:i,width:o,height:l}=r;n=nn(n,{x:t,y:i,width:o,height:l,viewport:r,viewState:a}),s[e]||(s[e]={viewport:r,children:[]}),s[e].children.push(n)}}return Object.keys(s).map((e=>{const{viewport:i,children:o}=s[e],{x:a,y:l,width:c,height:u}=i,h={position:"absolute",left:a,top:l,width:c,height:u},d="view-".concat(e),f=(0,r.createElement)("div",{key:d,id:d,style:h},...o);if(n){const s={viewport:i,container:t.canvas.offsetParent,eventManager:t.eventManager,onViewStateChange:n=>{n.viewId=e,t._onViewStateChange(n)}};return(0,r.createElement)(n,{key:d,value:s},f)}return f}))}({children:l.children,deck:s.deck,ContextProvider:p}),t=(0,r.createElement)("canvas",{key:"canvas",id:v||"deckgl-overlay",ref:a,style:w});s.control=(0,r.createElement)("div",{id:"".concat(v||"deckgl","-wrapper"),ref:o,style:b},[t,e])}return c=!1,s.control}));ln.defaultProps=Yt.defaultProps;const cn=ln},6255:(e,t,n)=>{"use strict";n.d(t,{D0:()=>a,Ew:()=>l,Kn:()=>i,Lj:()=>c,Os:()=>h,Ss:()=>s,TW:()=>o,zH:()=>u});const r=e=>"function"==typeof e,i=e=>null!==e&&"object"==typeof e,s=e=>i(e)&&e.constructor==={}.constructor,o=e=>e&&"function"==typeof e[Symbol.iterator],a=e=>e&&"function"==typeof e[Symbol.asyncIterator],l=e=>"undefined"!=typeof Response&&e instanceof Response||e&&e.arrayBuffer&&e.text&&e.json,c=e=>"undefined"!=typeof Blob&&e instanceof Blob,u=e=>e&&"object"==typeof e&&e.isBuffer,h=e=>(e=>"undefined"!=typeof ReadableStream&&e instanceof ReadableStream||i(e)&&r(e.tee)&&r(e.cancel)&&r(e.getReader))(e)||(e=>i(e)&&r(e.read)&&r(e.pipe)&&(e=>"boolean"==typeof e)(e.readable))(e)},4938:(e,t,n)=>{"use strict";n.d(t,{z:()=>re});var r=n(6255),i=n(2033);let s="";const o={},a=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,l=/^([-\w.]+\/[-\w.+]+)/;function c(e){const t=a.exec(e);return t?t[1]:""}const u=/\?.*/;function h(e){return e.replace(u,"")}function d(e){return(0,r.Ew)(e)?e.url:(0,r.Lj)(e)?e.name||"":"string"==typeof e?e:""}function f(e){if((0,r.Ew)(e)){const t=e,n=t.headers.get("content-type")||"",r=h(t.url);return function(e){const t=l.exec(e);return t?t[1]:e}(n)||c(r)}return(0,r.Lj)(e)?e.type||"":"string"==typeof e?c(e):""}async function p(e){if((0,r.Ew)(e))return e;const t={},n=function(e){return(0,r.Ew)(e)?e.headers["content-length"]||-1:(0,r.Lj)(e)?e.size:"string"==typeof e?e.length:e instanceof ArrayBuffer||ArrayBuffer.isView(e)?e.byteLength:-1}(e);n>=0&&(t["content-length"]=String(n));const i=d(e),s=f(e);s&&(t["content-type"]=s);const o=await async function(e){if("string"==typeof e)return"data:,".concat(e.slice(0,5));if(e instanceof Blob){const t=e.slice(0,5);return await new Promise((e=>{const n=new FileReader;n.onload=t=>{var n;return e(null==t||null===(n=t.target)||void 0===n?void 0:n.result)},n.readAsDataURL(t)}))}if(e instanceof ArrayBuffer){const t=function(e){let t="";const n=new Uint8Array(e);for(let e=0;e<n.byteLength;e++)t+=String.fromCharCode(n[e]);return btoa(t)}(e.slice(0,5));return"data:base64,".concat(t)}return null}(e);o&&(t["x-first-bytes"]=o),"string"==typeof e&&(e=(new TextEncoder).encode(e));const a=new Response(e,{headers:t});return Object.defineProperty(a,"url",{value:i}),a}async function g(e,t){if("string"==typeof e){e=function(e){for(const t in o)if(e.startsWith(t)){const n=o[t];e=e.replace(t,n)}return e.startsWith("http://")||e.startsWith("https://")||(e="".concat(s).concat(e)),e}(e);let n=t;return null!=t&&t.fetch&&"function"!=typeof(null==t?void 0:t.fetch)&&(n=t.fetch),await fetch(e,n)}return await p(e)}var m=n(1523);function v(e,t){const n=(0,m.pm)(),i=e||n;return"function"==typeof i.fetch?i.fetch:(0,r.Kn)(i.fetch)?e=>g(e,i):null!=t&&t.fetch?null==t?void 0:t.fetch:g}var y=n(6040);var b=n(6013),w=n(4572);class _{terminate(){}}const A=new Map;function E(e){const t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}function C(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;const r=n||new Set;if(e)if(x(e))r.add(e);else if(x(e.buffer))r.add(e.buffer);else if(ArrayBuffer.isView(e));else if(t&&"object"==typeof e)for(const n in e)C(e[n],t,r);return void 0===n?Array.from(r):[]}function x(e){return!!e&&(e instanceof ArrayBuffer||"undefined"!=typeof MessagePort&&e instanceof MessagePort||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas)}const S=()=>{};class T{static isSupported(){return"undefined"!=typeof Worker&&b.jU||void 0!==_&&!b.jU}constructor(e){(0,w.Z)(this,"name",void 0),(0,w.Z)(this,"source",void 0),(0,w.Z)(this,"url",void 0),(0,w.Z)(this,"terminated",!1),(0,w.Z)(this,"worker",void 0),(0,w.Z)(this,"onMessage",void 0),(0,w.Z)(this,"onError",void 0),(0,w.Z)(this,"_loadableURL","");const{name:t,source:n,url:r}=e;(0,y.h)(n||r),this.name=t,this.source=n,this.url=r,this.onMessage=S,this.onError=e=>console.log(e),this.worker=b.jU?this._createBrowserWorker():this._createNodeWorker()}destroy(){this.onMessage=S,this.onError=S,this.worker.terminate(),this.terminated=!0}get isRunning(){return Boolean(this.onMessage)}postMessage(e,t){t=t||C(e),this.worker.postMessage(e,t)}_getErrorFromErrorEvent(e){let t="Failed to load ";return t+="worker ".concat(this.name," from ").concat(this.url,". "),e.message&&(t+="".concat(e.message," in ")),e.lineno&&(t+=":".concat(e.lineno,":").concat(e.colno)),new Error(t)}_createBrowserWorker(){this._loadableURL=function(e){(0,y.h)(e.source&&!e.url||!e.source&&e.url);let t=A.get(e.source||e.url);return t||(e.url&&(t=(n=e.url).startsWith("http")?E("try {\n  importScripts('".concat(n,"');\n} catch (error) {\n  console.error(error);\n  throw error;\n}")):n,A.set(e.url,t)),e.source&&(t=E(e.source),A.set(e.source,t))),(0,y.h)(t),t;var n}({source:this.source,url:this.url});const e=new Worker(this._loadableURL,{name:this.name});return e.onmessage=e=>{e.data?this.onMessage(e.data):this.onError(new Error("No data received"))},e.onerror=e=>{this.onError(this._getErrorFromErrorEvent(e)),this.terminated=!0},e.onmessageerror=e=>console.error(e),e}_createNodeWorker(){let e;if(this.url){const t=this.url.includes(":/")||this.url.startsWith("/")?this.url:"./".concat(this.url);e=new _(t,{eval:!1})}else{if(!this.source)throw new Error("no worker");e=new _(this.source,{eval:!0})}return e.on("message",(e=>{this.onMessage(e)})),e.on("error",(e=>{this.onError(e)})),e.on("exit",(e=>{})),e}}class I{constructor(e,t){(0,w.Z)(this,"name",void 0),(0,w.Z)(this,"workerThread",void 0),(0,w.Z)(this,"isRunning",!0),(0,w.Z)(this,"result",void 0),(0,w.Z)(this,"_resolve",(()=>{})),(0,w.Z)(this,"_reject",(()=>{})),this.name=e,this.workerThread=t,this.result=new Promise(((e,t)=>{this._resolve=e,this._reject=t}))}postMessage(e,t){this.workerThread.postMessage({source:"loaders.gl",type:e,payload:t})}done(e){(0,y.h)(this.isRunning),this.isRunning=!1,this._resolve(e)}error(e){(0,y.h)(this.isRunning),this.isRunning=!1,this._reject(e)}}class O{static isSupported(){return T.isSupported()}constructor(e){(0,w.Z)(this,"name","unnamed"),(0,w.Z)(this,"source",void 0),(0,w.Z)(this,"url",void 0),(0,w.Z)(this,"maxConcurrency",1),(0,w.Z)(this,"maxMobileConcurrency",1),(0,w.Z)(this,"onDebug",(()=>{})),(0,w.Z)(this,"reuseWorkers",!0),(0,w.Z)(this,"props",{}),(0,w.Z)(this,"jobQueue",[]),(0,w.Z)(this,"idleQueue",[]),(0,w.Z)(this,"count",0),(0,w.Z)(this,"isDestroyed",!1),this.source=e.source,this.url=e.url,this.setProps(e)}destroy(){this.idleQueue.forEach((e=>e.destroy())),this.isDestroyed=!0}setProps(e){this.props={...this.props,...e},void 0!==e.name&&(this.name=e.name),void 0!==e.maxConcurrency&&(this.maxConcurrency=e.maxConcurrency),void 0!==e.maxMobileConcurrency&&(this.maxMobileConcurrency=e.maxMobileConcurrency),void 0!==e.reuseWorkers&&(this.reuseWorkers=e.reuseWorkers),void 0!==e.onDebug&&(this.onDebug=e.onDebug)}async startJob(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e,t,n)=>e.done(n),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(e,t)=>e.error(t);const r=new Promise((r=>(this.jobQueue.push({name:e,onMessage:t,onError:n,onStart:r}),this)));return this._startQueuedJob(),await r}async _startQueuedJob(){if(!this.jobQueue.length)return;const e=this._getAvailableWorker();if(!e)return;const t=this.jobQueue.shift();if(t){this.onDebug({message:"Starting job",name:t.name,workerThread:e,backlog:this.jobQueue.length});const n=new I(t.name,e);e.onMessage=e=>t.onMessage(n,e.type,e.payload),e.onError=e=>t.onError(n,e),t.onStart(n);try{await n.result}finally{this.returnWorkerToQueue(e)}}}returnWorkerToQueue(e){this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(e.destroy(),this.count--):this.idleQueue.push(e),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const e="".concat(this.name.toLowerCase()," (#").concat(this.count," of ").concat(this.maxConcurrency,")");return new T({name:e,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return b.tq?this.maxMobileConcurrency:this.maxConcurrency}}const P={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}};class M{static isSupported(){return T.isSupported()}static getWorkerFarm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return M._workerFarm=M._workerFarm||new M({}),M._workerFarm.setProps(e),M._workerFarm}constructor(e){(0,w.Z)(this,"props",void 0),(0,w.Z)(this,"workerPools",new Map),this.props={...P},this.setProps(e),this.workerPools=new Map}destroy(){for(const e of this.workerPools.values())e.destroy();this.workerPools=new Map}setProps(e){this.props={...this.props,...e};for(const e of this.workerPools.values())e.setProps(this._getWorkerPoolProps())}getWorkerPool(e){const{name:t,source:n,url:r}=e;let i=this.workerPools.get(t);return i||(i=new O({name:t,source:n,url:r}),i.setProps(this._getWorkerPoolProps()),this.workerPools.set(t,i)),i}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}(0,w.Z)(M,"_workerFarm",void 0);const B="latest";async function k(e,t,n,r,i){const s=e.id,o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t[e.id]||{},r="".concat(e.id,"-worker.js");let i=n.workerUrl;if(i||"compression"!==e.id||(i=t.workerUrl),"test"===t._workerType&&(i="modules/".concat(e.module,"/dist/").concat(r)),!i){let t=e.version;"latest"===t&&(t=B);const n=t?"@".concat(t):"";i="https://unpkg.com/@loaders.gl/".concat(e.module).concat(n,"/dist/").concat(r)}return(0,y.h)(i),i}(e,n),a=M.getWorkerFarm(n).getWorkerPool({name:s,url:o});n=JSON.parse(JSON.stringify(n)),r=JSON.parse(JSON.stringify(r||{}));const l=await a.startJob("process-on-worker",R.bind(null,i));l.postMessage("process",{input:t,options:n,context:r});const c=await l.result;return await c.result}async function R(e,t,n,r){switch(n){case"done":t.done(r);break;case"error":t.error(new Error(r.error));break;case"process":const{id:i,input:s,options:o}=r;try{const n=await e(s,o);t.postMessage("done",{id:i,result:n})}catch(e){const n=e instanceof Error?e.message:"unknown error";t.postMessage("error",{id:i,error:n})}break;default:console.warn("parse-with-worker unknown message ".concat(n))}}var L=n(4609);const F=262144,D=262144,N=1048576;var j=n(4959);function U(e){if((t=e)&&"object"==typeof t&&t.isBuffer)return e;var t;if(e instanceof ArrayBuffer)return e;if(ArrayBuffer.isView(e))return 0===e.byteOffset&&e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);if("string"==typeof e){const t=e;return(new TextEncoder).encode(t).buffer}if(e&&"object"==typeof e&&e._toArrayBuffer)return e._toArrayBuffer();throw new Error("toArrayBuffer")}function G(e,t){return j.jU?async function*(e,t){const n=e.getReader();let r;try{for(;;){const e=r||n.read();null!=t&&t._streamReadAhead&&(r=n.read());const{done:i,value:s}=await e;if(i)return;yield U(s)}}catch(e){n.releaseLock()}}(e,t):async function*(e,t){for await(const t of e)yield U(t)}(e)}const z="Cannot convert supplied data type";async function V(e,t,n){const i=e instanceof ArrayBuffer||ArrayBuffer.isView(e);if("string"==typeof e||i)return function(e,t,n){if(t.text&&"string"==typeof e)return e;if((0,r.zH)(e)&&(e=e.buffer),e instanceof ArrayBuffer){const n=e;return t.text&&!t.binary?new TextDecoder("utf8").decode(n):n}if(ArrayBuffer.isView(e)){if(t.text&&!t.binary)return new TextDecoder("utf8").decode(e);let n=e.buffer;const r=e.byteLength||e.length;return 0===e.byteOffset&&r===n.byteLength||(n=n.slice(e.byteOffset,e.byteOffset+r)),n}throw new Error(z)}(e,t);if((0,r.Lj)(e)&&(e=await p(e)),(0,r.Ew)(e)){const n=e;return await async function(e){if(!e.ok){const t=await async function(e){let t="Failed to fetch resource ".concat(e.url," (").concat(e.status,"): ");try{const n=e.headers.get("Content-Type");let r=e.statusText;n.includes("application/json")&&(r+=" ".concat(await e.text())),t+=r,t=t.length>60?"".concat(t.slice(0,60),"..."):t}catch(e){}return t}(e);throw new Error(t)}}(n),t.binary?await n.arrayBuffer():await n.text()}if((0,r.Os)(e)&&(e=function(e,t){if("string"==typeof e)return function*(e,t){const n=(null==t?void 0:t.chunkSize)||F;let r=0;const i=new TextEncoder;for(;r<e.length;){const t=Math.min(e.length-r,n),s=e.slice(r,r+t);r+=t,yield i.encode(s)}}(e,t);if(e instanceof ArrayBuffer)return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){const{chunkSize:n=D}=t;let r=0;for(;r<e.byteLength;){const t=Math.min(e.byteLength-r,n),i=new ArrayBuffer(t),s=new Uint8Array(e,r,t);new Uint8Array(i).set(s),r+=t,yield i}}()}(e,t);if((0,r.Lj)(e))return async function*(e,t){const n=(null==t?void 0:t.chunkSize)||N;let r=0;for(;r<e.size;){const t=r+n,i=await e.slice(r,t).arrayBuffer();r=t,yield i}}(e,t);if((0,r.Os)(e))return G(e,t);if((0,r.Ew)(e))return G(e.body,t);throw new Error("makeIterator")}(e,n)),(0,r.TW)(e)||(0,r.D0)(e))return async function(e){const t=[];for await(const n of e)t.push(n);return(0,L.JY)(...t)}(e);throw new Error(z)}function H(e){const t=e?e.lastIndexOf("/"):-1;return t>=0?e.substr(t+1):""}const Z=new(n(326).Z)({id:"loaders.gl"});var W=n(6228);const J=/\.([^.]+)$/;function K(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(!X(e))return null;if(t&&!Array.isArray(t))return(0,i.T)(t);let s=[];t&&(s=s.concat(t)),null!=n&&n.ignoreRegisteredLoaders||s.push(...(0,W.kO)()),function(e){for(const t of e)(0,i.T)(t)}(s);const o=function(e,t,n,r){const i=d(e),s=f(e),o=h(i)||(null==r?void 0:r.url);let a=null,l="";var c;return null!=n&&n.mimeType&&(a=Y(t,null==n?void 0:n.mimeType),l="match forced by supplied MIME type ".concat(null==n?void 0:n.mimeType)),a=a||function(e,t){const n=t&&J.exec(t),r=n&&n[1];return r?function(e,t){t=t.toLowerCase();for(const n of e)for(const e of n.extensions)if(e.toLowerCase()===t)return n;return null}(e,r):null}(t,o),l=l||(a?"matched url ".concat(o):""),a=a||Y(t,s),l=l||(a?"matched MIME type ".concat(s):""),a=a||function(e,t){if(!t)return null;for(const n of e)if("string"==typeof t){if(Q(t,n))return n}else if(ArrayBuffer.isView(t)){if($(t.buffer,t.byteOffset,n))return n}else if(t instanceof ArrayBuffer&&$(t,0,n))return n;return null}(t,e),l=l||(a?"matched initial data ".concat(ee(e)):""),a=a||Y(t,null==n?void 0:n.fallbackMimeType),l=l||(a?"matched fallback MIME type ".concat(s):""),l&&Z.log(1,"selectLoader selected ".concat(null===(c=a)||void 0===c?void 0:c.name,": ").concat(l,".")),a}(e,s,n,r);if(!(o||null!=n&&n.nothrow))throw new Error(q(e));return o}function X(e){return!(e instanceof Response&&204===e.status)}function q(e){const t=d(e),n=f(e);let r="No valid loader found (";r+=t?"".concat(H(t),", "):"no url provided, ",r+="MIME type: ".concat(n?'"'.concat(n,'"'):"not provided",", ");const i=e?ee(e):"";return r+=i?' first bytes: "'.concat(i,'"'):"first bytes: not available",r+=")",r}function Y(e,t){for(const n of e){if(n.mimeTypes&&n.mimeTypes.includes(t))return n;if(t==="application/x.".concat(n.id))return n}return null}function Q(e,t){return t.testText?t.testText(e):(Array.isArray(t.tests)?t.tests:[t.tests]).some((t=>e.startsWith(t)))}function $(e,t,n){return(Array.isArray(n.tests)?n.tests:[n.tests]).some((r=>function(e,t,n,r){if(r instanceof ArrayBuffer)return(0,L.Xq)(r,e,r.byteLength);switch(typeof r){case"function":return r(e,n);case"string":return r===te(e,t,r.length);default:return!1}}(e,t,n,r)))}function ee(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return"string"==typeof e?e.slice(0,t):ArrayBuffer.isView(e)?te(e.buffer,e.byteOffset,t):e instanceof ArrayBuffer?te(e,0,t):""}function te(e,t,n){if(e.byteLength<t+n)return"";const r=new DataView(e);let i="";for(let e=0;e<n;e++)i+=String.fromCharCode(r.getUint8(t+e));return i}async function ne(e,t,n,s){(0,y.h)(!s||"object"==typeof s),!t||Array.isArray(t)||(0,i.C)(t)||(s=void 0,n=t,t=void 0),n=n||{};const o=d(e=await e),a=function(e,t){if(!t&&e&&!Array.isArray(e))return e;let n;if(e&&(n=Array.isArray(e)?e:[e]),t&&t.loaders){const e=Array.isArray(t.loaders)?t.loaders:[t.loaders];n=n?[...n,...e]:e}return n&&n.length?n:null}(t,s),l=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(!X(e))return null;let s=K(e,t,{...n,nothrow:!0},i);if(s)return s;if((0,r.Lj)(e)&&(s=K(e=await e.slice(0,10).arrayBuffer(),t,n,i)),!(s||null!=n&&n.nothrow))throw new Error(q(e));return s}(e,a,n);return l?(s=function(e,t,n){if(n)return n;const r={fetch:v(t,e),...e};if(r.url){const e=h(r.url);r.baseUrl=e,r.queryString=function(e){const t=e.match(u);return t&&t[0]}(r.url),r.filename=H(e),r.baseUrl=function(e){const t=e?e.lastIndexOf("/"):-1;return t>=0?e.substr(0,t):""}(e)}return Array.isArray(r.loaders)||(r.loaders=null),r}({url:o,parse:ne,loaders:a},n=(0,m.GR)(n,l,a,o),s||null),await async function(e,t,n,i){if(function(e){(0,y.h)(e,"no worker provided");e.version}(e),(0,r.Ew)(t)){const e=t,{ok:n,redirected:r,status:s,statusText:o,type:a,url:l}=e,c=Object.fromEntries(e.headers.entries());i.response={headers:c,ok:n,redirected:r,status:s,statusText:o,type:a,url:l}}if(t=await V(t,e,n),e.parseTextSync&&"string"==typeof t)return n.dataType="text",e.parseTextSync(t,n,i,e);if(function(e,t){return!!M.isSupported()&&!!(b.jU||null!=t&&t._nodeWorkers)&&e.worker&&(null==t?void 0:t.worker)}(e,n))return await k(e,t,n,i,ne);if(e.parseText&&"string"==typeof t)return await e.parseText(t,n,i,e);if(e.parse)return await e.parse(t,n,i,e);throw(0,y.h)(!e.parseSync),new Error("".concat(e.id," loader - no parser found and worker is disabled"))}(l,e,n,s)):null}async function re(e,t,n,s){Array.isArray(t)||(0,i.C)(t)||(n=t,t=void 0);const o=v(n);let a=e;return"string"==typeof e&&(a=await o(e)),(0,r.Lj)(e)&&(a=await o(e)),await ne(a,t,n)}},6228:(e,t,n)=>{"use strict";n.d(t,{fh:()=>o,kO:()=>a});var r=n(2033),i=n(1523);const s=()=>{const e=(0,i.rx)();return e.loaderRegistry=e.loaderRegistry||[],e.loaderRegistry};function o(e){const t=s();e=Array.isArray(e)?e:[e];for(const n of e){const e=(0,r.T)(n);t.find((t=>e===t))||t.unshift(e)}}function a(){return s()}},2033:(e,t,n)=>{"use strict";n.d(t,{C:()=>i,T:()=>s});var r=n(5505);function i(e){var t;return!!e&&(Array.isArray(e)&&(e=e[0]),Array.isArray(null===(t=e)||void 0===t?void 0:t.extensions))}function s(e){var t,n;let s;return(0,r.h)(e,"null loader"),(0,r.h)(i(e),"invalid loader"),Array.isArray(e)&&(s=e[1],e=e[0],e={...e,options:{...e.options,...s}}),(null!==(t=e)&&void 0!==t&&t.parseTextSync||null!==(n=e)&&void 0!==n&&n.parseText)&&(e.text=!0),e.text||(e.binary=!0),e}},1523:(e,t,n)=>{"use strict";n.d(t,{pm:()=>h,rx:()=>u,GR:()=>d});var r=n(6255),i=n(4572);const s=new(n(326).Z)({id:"loaders.gl"});class o{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}var a=n(4959);const l={fetch:null,mimeType:void 0,nothrow:!1,log:new class{constructor(){(0,i.Z)(this,"console",void 0),this.console=console}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.console.log.bind(this.console,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.console.info.bind(this.console,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.console.warn.bind(this.console,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.console.error.bind(this.console,...t)}},CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:a.jU,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},c={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function u(){globalThis.loaders=globalThis.loaders||{};const{loaders:e}=globalThis;return e._state=e._state||{},e._state}const h=()=>{const e=u();return e.globalOptions=e.globalOptions||{...l},e.globalOptions};function d(e,t,n,r){return n=n||[],function(e,t){f(e,null,l,c,t);for(const n of t){const r=e&&e[n.id]||{},i=n.options&&n.options[n.id]||{},s=n.deprecatedOptions&&n.deprecatedOptions[n.id]||{};f(r,n.id,i,s,t)}}(e,n=Array.isArray(n)?n:[n]),function(e,t,n){const r={...e.options||{}};return function(e,t){t&&!("baseUri"in e)&&(e.baseUri=t)}(r,n),null===r.log&&(r.log=new o),g(r,h()),g(r,t),r}(t,e,r)}function f(e,t,n,i,o){const a=t||"Top level",l=t?"".concat(t,"."):"";for(const c in e){const u=!t&&(0,r.Kn)(e[c]);if(!(c in n)&&("baseUri"!==c||t)&&("workerUrl"!==c||!t))if(c in i)s.warn("".concat(a," loader option '").concat(l).concat(c,"' no longer supported, use '").concat(i[c],"'"))();else if(!u){const e=p(c,o);s.warn("".concat(a," loader option '").concat(l).concat(c,"' not recognized. ").concat(e))()}}}function p(e,t){const n=e.toLowerCase();let r="";for(const i of t)for(const t in i.options){if(e===t)return"Did you mean '".concat(i.id,".").concat(t,"'?");const s=t.toLowerCase();(n.startsWith(s)||s.startsWith(n))&&(r=r||"Did you mean '".concat(i.id,".").concat(t,"'?"))}return r}function g(e,t){for(const n in t)if(n in t){const i=t[n];(0,r.Ss)(i)&&(0,r.Ss)(e[n])?e[n]={...e[n],...t[n]}:e[n]=t[n]}}},6487:(e,t,n)=>{"use strict";n.d(t,{S:()=>b});var r=n(5505),i=n(4959);const{_parseImageNode:s}=globalThis,o="undefined"!=typeof Image,a="undefined"!=typeof ImageBitmap,l=Boolean(s),c=!!i.jU||l;function u(e){const t=function(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?"imagebitmap":"undefined"!=typeof Image&&e instanceof Image?"image":e&&"object"==typeof e&&e.data&&e.width&&e.height?"data":null}(e);if(!t)throw new Error("Not an image");return t}const h=/^data:image\/svg\+xml/,d=/\.svg((\?|#).*)?$/;function f(e){return e&&(h.test(e)||d.test(e))}function p(e,t){if(f(t))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(e)])}async function g(e,t,n){const r=function(e,t){if(f(t)){let t=(new TextDecoder).decode(e);try{"function"==typeof unescape&&"function"==typeof encodeURIComponent&&(t=unescape(encodeURIComponent(t)))}catch(e){throw new Error(e.message)}return"data:image/svg+xml;base64,".concat(btoa(t))}return p(e,t)}(e,n),i=self.URL||self.webkitURL,s="string"!=typeof r&&i.createObjectURL(r);try{return await async function(e,t){const n=new Image;return n.src=e,t.image&&t.image.decode&&n.decode?(await n.decode(),n):await new Promise(((t,r)=>{try{n.onload=()=>t(n),n.onerror=t=>r(new Error("Could not load image ".concat(e,": ").concat(t)))}catch(e){r(e)}}))}(s||r,t)}finally{s&&i.revokeObjectURL(s)}}const m={};let v=!0;var y=n(869);const b={id:"image",module:"images",name:"Images",version:"3.4.14",mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/avif","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg","avif"],parse:async function(e,t,n){const i=((t=t||{}).image||{}).type||"auto",{url:s}=n||{};let l;switch(function(e){switch(e){case"auto":case"data":return function(){if(a)return"imagebitmap";if(o)return"image";if(c)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}();default:return function(e){switch(e){case"auto":return a||o||c;case"imagebitmap":return a;case"image":return o;case"data":return c;default:throw new Error("@loaders.gl/images: image ".concat(e," not supported in this environment"))}}(e),e}}(i)){case"imagebitmap":l=await async function(e,t,n){let r;r=f(n)?await g(e,t,n):p(e,n);const i=t&&t.imagebitmap;return await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!function(e){for(const t in e||m)return!1;return!0}(t)&&v||(t=null),t)try{return await createImageBitmap(e,t)}catch(e){console.warn(e),v=!1}return await createImageBitmap(e)}(r,i)}(e,t,s);break;case"image":l=await g(e,t,s);break;case"data":l=await async function(e,t){const{mimeType:n}=(0,y.I)(e)||{},i=globalThis._parseImageNode;return(0,r.h)(i),await i(e,n)}(e);break;default:(0,r.h)(!1)}return"data"===i&&(l=function(e){switch(u(e)){case"data":return e;case"image":case"imagebitmap":const t=document.createElement("canvas"),n=t.getContext("2d");if(!n)throw new Error("getImageData");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0),n.getImageData(0,0,e.width,e.height);default:throw new Error("getImageData")}}(l)),l},tests:[e=>Boolean((0,y.I)(new DataView(e)))],options:{image:{type:"auto",decode:!0}}}},869:(e,t,n)=>{"use strict";n.d(t,{I:()=>s});const r=!1,i=!0;function s(e){const t=o(e);return function(e){const t=o(e);return t.byteLength>=24&&2303741511===t.getUint32(0,r)?{mimeType:"image/png",width:t.getUint32(16,r),height:t.getUint32(20,r)}:null}(t)||function(e){const t=o(e);if(!(t.byteLength>=3&&65496===t.getUint16(0,r)&&255===t.getUint8(2)))return null;const{tableMarkers:n,sofMarkers:i}=function(){const e=new Set([65499,65476,65484,65501,65534]);for(let t=65504;t<65520;++t)e.add(t);return{tableMarkers:e,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}();let s=2;for(;s+9<t.byteLength;){const e=t.getUint16(s,r);if(i.has(e))return{mimeType:"image/jpeg",height:t.getUint16(s+5,r),width:t.getUint16(s+7,r)};if(!n.has(e))return null;s+=2,s+=t.getUint16(s,r)}return null}(t)||function(e){const t=o(e);return t.byteLength>=10&&1195984440===t.getUint32(0,r)?{mimeType:"image/gif",width:t.getUint16(6,i),height:t.getUint16(8,i)}:null}(t)||function(e){const t=o(e);return t.byteLength>=14&&16973===t.getUint16(0,r)&&t.getUint32(2,i)===t.byteLength?{mimeType:"image/bmp",width:t.getUint32(18,i),height:t.getUint32(22,i)}:null}(t)||function(e){const t=function(e){return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=(i=t,[...i].map((e=>e.charCodeAt(0))));var i;for(let t=0;t<r.length;++t)if(r[t]!==e[t+n])return!1;return!0}(e,"ftyp",4)?0==(96&e[8])?null:function(e){switch((t=e,String.fromCharCode(...t.slice(8,12))).replace("\0"," ").trim()){case"avif":case"avis":return{extension:"avif",mimeType:"image/avif"};default:return null}var t}(e):null}(new Uint8Array(e instanceof DataView?e.buffer:e));return t?{mimeType:t.mimeType,width:0,height:0}:null}(t)}function o(e){if(e instanceof DataView)return e;if(ArrayBuffer.isView(e))return new DataView(e.buffer);if(e instanceof ArrayBuffer)return new DataView(e);throw new Error("toDataView")}},4609:(e,t,n)=>{"use strict";function r(e,t,n){if(n=n||e.byteLength,e.byteLength<n||t.byteLength<n)return!1;const r=new Uint8Array(e),i=new Uint8Array(t);for(let e=0;e<r.length;++e)if(r[e]!==i[e])return!1;return!0}function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.map((e=>e instanceof ArrayBuffer?new Uint8Array(e):e)),i=r.reduce(((e,t)=>e+t.byteLength),0),s=new Uint8Array(i);let o=0;for(const e of r)s.set(e,o),o+=e.byteLength;return s.buffer}function s(e,t,n){const r=void 0!==n?new Uint8Array(e).subarray(t,t+n):new Uint8Array(e).subarray(t);return new Uint8Array(r).buffer}n.d(t,{JY:()=>i,Xq:()=>r,qv:()=>s})},5505:(e,t,n)=>{"use strict";function r(e,t){if(!e)throw new Error(t||"loader assertion failed.")}n.d(t,{h:()=>r})},4959:(e,t,n)=>{"use strict";n.d(t,{jU:()=>r}),"undefined"!=typeof self&&self,"undefined"!=typeof window&&window,void 0!==n.g&&n.g,"undefined"!=typeof document&&document;const r=Boolean("object"!=typeof process||"[object process]"!==String(process)||process.browser),i="undefined"!=typeof process&&process.version&&/v([0-9]*)/.exec(process.version);i&&parseFloat(i[1])},6219:(e,t,n)=>{"use strict";n.d(t,{LU:()=>v});var r=n(435);const i=/^[og]\s*(.+)?/,s=/^mtllib /,o=/^usemtl /;class a{constructor(e){let{index:t,name:n="",mtllib:r,smooth:i,groupStart:s}=e;this.index=t,this.name=n,this.mtllib=r,this.smooth=i,this.groupStart=s,this.groupEnd=-1,this.groupCount=-1,this.inherited=!1}clone(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.index;return new a({index:e,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0})}}class l{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.name=e,this.geometry={vertices:[],normals:[],colors:[],uvs:[]},this.materials=[],this.smooth=!0,this.fromDeclaration=null}startMaterial(e,t){const n=this._finalize(!1);n&&(n.inherited||n.groupCount<=0)&&this.materials.splice(n.index,1);const r=new a({index:this.materials.length,name:e,mtllib:Array.isArray(t)&&t.length>0?t[t.length-1]:"",smooth:void 0!==n?n.smooth:this.smooth,groupStart:void 0!==n?n.groupEnd:0});return this.materials.push(r),r}currentMaterial(){if(this.materials.length>0)return this.materials[this.materials.length-1]}_finalize(e){const t=this.currentMaterial();if(t&&-1===t.groupEnd&&(t.groupEnd=this.geometry.vertices.length/3,t.groupCount=t.groupEnd-t.groupStart,t.inherited=!1),e&&this.materials.length>1)for(let e=this.materials.length-1;e>=0;e--)this.materials[e].groupCount<=0&&this.materials.splice(e,1);return e&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),t}}class c{constructor(){this.objects=[],this.object=null,this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.materialLibraries=[],this.startObject("",!1)}startObject(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.object&&!this.object.fromDeclaration)return this.object.name=e,void(this.object.fromDeclaration=t);const n=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object=new l(e),this.object.fromDeclaration=t,n&&n.name&&"function"==typeof n.clone){const e=n.clone(0);e.inherited=!0,this.object.materials.push(e)}this.objects.push(this.object)}finalize(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)}parseVertexIndex(e,t){const n=parseInt(e);return 3*(n>=0?n-1:n+t/3)}parseNormalIndex(e,t){const n=parseInt(e);return 3*(n>=0?n-1:n+t/3)}parseUVIndex(e,t){const n=parseInt(e);return 2*(n>=0?n-1:n+t/2)}addVertex(e,t,n){const r=this.vertices,i=this.object.geometry.vertices;i.push(r[e+0],r[e+1],r[e+2]),i.push(r[t+0],r[t+1],r[t+2]),i.push(r[n+0],r[n+1],r[n+2])}addVertexPoint(e){const t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])}addVertexLine(e){const t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])}addNormal(e,t,n){const r=this.normals,i=this.object.geometry.normals;i.push(r[e+0],r[e+1],r[e+2]),i.push(r[t+0],r[t+1],r[t+2]),i.push(r[n+0],r[n+1],r[n+2])}addColor(e,t,n){const r=this.colors,i=this.object.geometry.colors;i.push(r[e+0],r[e+1],r[e+2]),i.push(r[t+0],r[t+1],r[t+2]),i.push(r[n+0],r[n+1],r[n+2])}addUV(e,t,n){const r=this.uvs,i=this.object.geometry.uvs;i.push(r[e+0],r[e+1]),i.push(r[t+0],r[t+1]),i.push(r[n+0],r[n+1])}addUVLine(e){const t=this.uvs;this.object.geometry.uvs.push(t[e+0],t[e+1])}addFace(e,t,n,r,i,s,o,a,l){const c=this.vertices.length;let u=this.parseVertexIndex(e,c),h=this.parseVertexIndex(t,c),d=this.parseVertexIndex(n,c);if(this.addVertex(u,h,d),void 0!==r&&""!==r){const e=this.uvs.length;u=this.parseUVIndex(r,e),h=this.parseUVIndex(i,e),d=this.parseUVIndex(s,e),this.addUV(u,h,d)}if(void 0!==o&&""!==o){const e=this.normals.length;u=this.parseNormalIndex(o,e),h=o===a?u:this.parseNormalIndex(a,e),d=o===l?u:this.parseNormalIndex(l,e),this.addNormal(u,h,d)}this.colors.length>0&&this.addColor(u,h,d)}addPointGeometry(e){this.object.geometry.type="Points";const t=this.vertices.length;for(const n of e)this.addVertexPoint(this.parseVertexIndex(n,t))}addLineGeometry(e,t){this.object.geometry.type="Line";const n=this.vertices.length,r=this.uvs.length;for(const t of e)this.addVertexLine(this.parseVertexIndex(t,n));for(const e of t)this.addUVLine(this.parseUVIndex(e,r))}}var u=n(1129),h=n(8118),d=n(9185),f=n(696);function p(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const e in n)t=t||new Map,"value"!==e&&t.set(e,JSON.stringify(n[e]));const r=[];for(const t in e){const n=g(t,e[t]);r.push(n)}return new u.Z(r,t)}function g(e,t){const n=new Map;for(const e in t)"value"!==e&&n.set(e,JSON.stringify(t[e]));const r=(0,h.Y)(t.value);return"size"in t&&1!==t.size?new d.Z(e,new f.t7(t.size,new d.Z("value",r)),!1,n):new d.Z(e,r,!1,n)}function m(e,t){const{meshes:n}=function(e){const t=new c;-1!==e.indexOf("\r\n")&&(e=e.replace(/\r\n/g,"\n")),-1!==e.indexOf("\\\n")&&(e=e.replace(/\\\n/g,""));const n=e.split("\n");let r="",a="",l=0,u=[];const h="function"==typeof"".trimLeft;for(let e=0,c=n.length;e<c;e++)if(r=n[e],r=h?r.trimLeft():r.trim(),l=r.length,0!==l&&(a=r.charAt(0),"#"!==a))if("v"===a){const e=r.split(/\s+/);switch(e[0]){case"v":t.vertices.push(parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3])),e.length>=7&&t.colors.push(parseFloat(e[4]),parseFloat(e[5]),parseFloat(e[6]));break;case"vn":t.normals.push(parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]));break;case"vt":t.uvs.push(parseFloat(e[1]),parseFloat(e[2]))}}else if("f"===a){const e=r.substr(1).trim().split(/\s+/),n=[];for(let t=0,r=e.length;t<r;t++){const r=e[t];if(r.length>0){const e=r.split("/");n.push(e)}}const i=n[0];for(let e=1,r=n.length-1;e<r;e++){const r=n[e],s=n[e+1];t.addFace(i[0],r[0],s[0],i[1],r[1],s[1],i[2],r[2],s[2])}}else if("l"===a){const e=r.substring(1).trim().split(" ");let n;const i=[];if(-1===r.indexOf("/"))n=e;else{n=[];for(let t=0,r=e.length;t<r;t++){const r=e[t].split("/");""!==r[0]&&n.push(r[0]),""!==r[1]&&i.push(r[1])}}t.addLineGeometry(n,i)}else if("p"===a){const e=r.substr(1).trim().split(" ");t.addPointGeometry(e)}else if(null!==(u=i.exec(r))){const e=(" "+u[0].substr(1).trim()).substr(1);t.startObject(e)}else if(o.test(r))t.object.startMaterial(r.substring(7).trim(),t.materialLibraries);else if(s.test(r))t.materialLibraries.push(r.substring(7).trim());else{if("s"!==a){if("\0"===r)continue;throw new Error('Unexpected line: "'.concat(r,'"'))}{if(u=r.split(" "),u.length>1){const e=u[1].trim().toLowerCase();t.object.smooth="0"!==e&&"off"!==e}else t.object.smooth=!0;const e=t.object.currentMaterial();e&&(e.smooth=t.object.smooth)}}t.finalize();const d=[],f=[];for(const e of t.objects){const{geometry:t}=e;if(0===t.vertices.length)continue;const n={header:{vertexCount:t.vertices.length/3},attributes:{}};switch(t.type){case"Points":n.mode=0;break;case"Line":n.mode=1;break;default:n.mode=4}n.attributes.POSITION={value:new Float32Array(t.vertices),size:3},t.normals.length>0&&(n.attributes.NORMAL={value:new Float32Array(t.normals),size:3}),t.colors.length>0&&(n.attributes.COLOR_0={value:new Float32Array(t.colors),size:3}),t.uvs.length>0&&(n.attributes.TEXCOORD_0={value:new Float32Array(t.uvs),size:2}),n.materials=[];for(const t of e.materials){const e={name:t.name,flatShading:!t.smooth};n.materials.push(e),f.push(e)}n.name=e.name,d.push(n)}return{meshes:d,materials:f}}(e),a=n.reduce(((e,t)=>e+t.header.vertexCount),0),l=function(e,t){const n=new Float32Array(3*t);let r,i,s,o=0;for(const a of e){const{POSITION:e,NORMAL:l,COLOR_0:c,TEXCOORD_0:u}=a.attributes;n.set(e.value,3*o),l&&(r=r||new Float32Array(3*t),r.set(l.value,3*o)),c&&(i=i||new Float32Array(3*t),i.set(c.value,3*o)),u&&(s=s||new Float32Array(2*t),s.set(u.value,2*o)),o+=e.value.length/3}const a={};return a.POSITION={value:n,size:3},r&&(a.NORMAL={value:r,size:3}),i&&(a.COLOR_0={value:i,size:3}),s&&(a.TEXCOORD_0={value:s,size:2}),a}(n,a),u={vertexCount:a,boundingBox:(0,r.v)(l)};return{loaderData:{header:{}},schema:p(l,{mode:4,boundingBox:u.boundingBox}),header:u,mode:4,attributes:l}}const v={name:"OBJ",id:"obj",module:"obj",version:"3.4.14",worker:!0,extensions:["obj"],mimeTypes:["text/plain"],testText:function(e){return"v"===e[0]},options:{obj:{}},parse:async(e,t)=>m((new TextDecoder).decode(e)),parseTextSync:(e,t)=>m(e)}},435:(e,t,n)=>{"use strict";function r(e){let t=1/0,n=1/0,r=1/0,i=-1/0,s=-1/0,o=-1/0;const a=e.POSITION?e.POSITION.value:[],l=a&&a.length;for(let e=0;e<l;e+=3){const l=a[e],c=a[e+1],u=a[e+2];t=l<t?l:t,n=c<n?c:n,r=u<r?u:r,i=l>i?l:i,s=c>s?c:s,o=u>o?u:o}return[[t,n,r],[i,s,o]]}n.d(t,{v:()=>r})},8118:(e,t,n)=>{"use strict";n.d(t,{Y:()=>i});var r=n(696);function i(e){switch(e.constructor){case Int8Array:return new r.tJ;case Uint8Array:return new r.bz;case Int16Array:return new r.k6;case Uint16Array:return new r.s3;case Int32Array:return new r.Vq;case Uint32Array:return new r.cf;case Float32Array:return new r.yA;case Float64Array:return new r.Dh;default:throw new Error("array type not supported")}}},9185:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(4572);class i{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map;(0,r.Z)(this,"name",void 0),(0,r.Z)(this,"type",void 0),(0,r.Z)(this,"nullable",void 0),(0,r.Z)(this,"metadata",void 0),this.name=e,this.type=t,this.nullable=n,this.metadata=i}get typeId(){return this.type&&this.type.typeId}clone(){return new i(this.name,this.type,this.nullable,this.metadata)}compareTo(e){return this.name===e.name&&this.type===e.type&&this.nullable===e.nullable&&this.metadata===e.metadata}toString(){return"".concat(this.type).concat(this.nullable?", nullable":"").concat(this.metadata?", metadata: ".concat(this.metadata):"")}}},1129:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(4572);class i{constructor(e,t){(0,r.Z)(this,"fields",void 0),(0,r.Z)(this,"metadata",void 0),function(e,t){if(!e)throw new Error("loader assertion failed.")}(Array.isArray(e)),function(e){const t={};for(const n of e)t[n.name]&&console.warn("Schema: duplicated field name",n.name,n),t[n.name]=!0}(e),this.fields=e,this.metadata=t||new Map}compareTo(e){if(this.metadata!==e.metadata)return!1;if(this.fields.length!==e.fields.length)return!1;for(let t=0;t<this.fields.length;++t)if(!this.fields[t].compareTo(e.fields[t]))return!1;return!0}select(){const e=Object.create(null);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const t of n)e[t]=!0;const s=this.fields.filter((t=>e[t.name]));return new i(s,this.metadata)}selectAt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.map((e=>this.fields[e])).filter(Boolean);return new i(r,this.metadata)}assign(e){let t,n=this.metadata;if(e instanceof i){const r=e;t=r.fields,n=s(s(new Map,this.metadata),r.metadata)}else t=e;const r=Object.create(null);for(const e of this.fields)r[e.name]=e;for(const e of t)r[e.name]=e;const o=Object.values(r);return new i(o,n)}}function s(e,t){return new Map([...e||new Map,...t||new Map])}},696:(e,t,n)=>{"use strict";n.d(t,{t7:()=>C,yA:()=>A,Dh:()=>E,k6:()=>m,Vq:()=>v,tJ:()=>g,s3:()=>b,cf:()=>w,bz:()=>y});var r=n(4572);let i,s,o,a,l,c,u,h,d=function(e){return e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth",e}({});class f{static isNull(e){return e&&e.typeId===d.Null}static isInt(e){return e&&e.typeId===d.Int}static isFloat(e){return e&&e.typeId===d.Float}static isBinary(e){return e&&e.typeId===d.Binary}static isUtf8(e){return e&&e.typeId===d.Utf8}static isBool(e){return e&&e.typeId===d.Bool}static isDecimal(e){return e&&e.typeId===d.Decimal}static isDate(e){return e&&e.typeId===d.Date}static isTime(e){return e&&e.typeId===d.Time}static isTimestamp(e){return e&&e.typeId===d.Timestamp}static isInterval(e){return e&&e.typeId===d.Interval}static isList(e){return e&&e.typeId===d.List}static isStruct(e){return e&&e.typeId===d.Struct}static isUnion(e){return e&&e.typeId===d.Union}static isFixedSizeBinary(e){return e&&e.typeId===d.FixedSizeBinary}static isFixedSizeList(e){return e&&e.typeId===d.FixedSizeList}static isMap(e){return e&&e.typeId===d.Map}static isDictionary(e){return e&&e.typeId===d.Dictionary}get typeId(){return d.NONE}compareTo(e){return this===e}}Symbol.toStringTag,Symbol.toStringTag,i=Symbol.toStringTag;class p extends f{constructor(e,t){super(),(0,r.Z)(this,"isSigned",void 0),(0,r.Z)(this,"bitWidth",void 0),this.isSigned=e,this.bitWidth=t}get typeId(){return d.Int}get[i](){return"Int"}toString(){return"".concat(this.isSigned?"I":"Ui","nt").concat(this.bitWidth)}}class g extends p{constructor(){super(!0,8)}}class m extends p{constructor(){super(!0,16)}}class v extends p{constructor(){super(!0,32)}}class y extends p{constructor(){super(!1,8)}}class b extends p{constructor(){super(!1,16)}}class w extends p{constructor(){super(!1,32)}}s=Symbol.toStringTag;class _ extends f{constructor(e){super(),(0,r.Z)(this,"precision",void 0),this.precision=e}get typeId(){return d.Float}get[s](){return"Float"}toString(){return"Float".concat(this.precision)}}class A extends _{constructor(){super(32)}}class E extends _{constructor(){super(64)}}Symbol.toStringTag,Symbol.toStringTag,o=Symbol.toStringTag,a=Symbol.toStringTag,l=Symbol.toStringTag,c=Symbol.toStringTag,u=Symbol.toStringTag;class C extends f{constructor(e,t){super(),(0,r.Z)(this,"listSize",void 0),(0,r.Z)(this,"children",void 0),this.listSize=e,this.children=[t]}get typeId(){return d.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get[u](){return"FixedSizeList"}toString(){return"FixedSizeList[".concat(this.listSize,"]<").concat(this.valueType,">")}}h=Symbol.toStringTag},6040:(e,t,n)=>{"use strict";function r(e,t){if(!e)throw new Error(t||"loaders.gl assertion failed.")}n.d(t,{h:()=>r})},6013:(e,t,n)=>{"use strict";n.d(t,{CO:()=>i,hJ:()=>o,jU:()=>s,tq:()=>a});const r={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==n.g&&n.g,document:"undefined"!=typeof document&&document},i=r.global||r.self||r.window||{},s="object"!=typeof process||"[object process]"!==String(process)||process.browser,o="function"==typeof importScripts,a="undefined"!=typeof window&&void 0!==window.orientation,l="undefined"!=typeof process&&process.version&&/v([0-9]*)/.exec(process.version);l&&parseFloat(l[1])},3982:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(4538),i=n(2525);const s={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6};class o{static get DRAW_MODE(){return s}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t=(0,r.hQ)("geometry"),drawMode:n=s.TRIANGLES,attributes:i={},indices:o=null,vertexCount:a=null}=e;this.id=t,this.drawMode=0|n,this.attributes={},this.userData={},this._setAttributes(i,o),this.vertexCount=a||this._calculateVertexCount(this.attributes,this.indices)}get mode(){return this.drawMode}getVertexCount(){return this.vertexCount}getAttributes(){return this.indices?{indices:this.indices,...this.attributes}:this.attributes}_print(e){return"Geometry ".concat(this.id," attribute ").concat(e)}_setAttributes(e,t){t&&(this.indices=ArrayBuffer.isView(t)?{value:t,size:1}:t);for(const t in e){let n=e[t];n=ArrayBuffer.isView(n)?{value:n}:n,(0,i.h)(ArrayBuffer.isView(n.value),"".concat(this._print(t),": must be typed array or object with value as typed array")),"POSITION"!==t&&"positions"!==t||n.size||(n.size=3),"indices"===t?((0,i.h)(!this.indices),this.indices=n):this.attributes[t]=n}return this.indices&&void 0!==this.indices.isIndexed&&(this.indices=Object.assign({},this.indices),delete this.indices.isIndexed),this}_calculateVertexCount(e,t){if(t)return t.value.length;let n=1/0;for(const t in e){const r=e[t],{value:i,size:s,constant:o}=r;!o&&i&&s>=1&&(n=Math.min(n,i.length/s))}return(0,i.h)(Number.isFinite(n)),n}}},9769:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var r=n(9450),i=n(358),s=n(4538),o=n(2525),a=n(6047),l=n(7944),c=n(4072),u=n(3478),h=n(7577);let d=null;var f=n(3485);class p extends h.Z{get[Symbol.toStringTag](){return"VertexArrayObject"}static isSupported(e){return!(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).constantAttributeZero||(0,r.D0)(e)||"Chrome"===(0,f.Z)()}static getDefaultArray(e){return e.luma=e.luma||{},e.luma.defaultVertexArray||(e.luma.defaultVertexArray=new p(e,{handle:null,isDefaultArray:!0})),e.luma.defaultVertexArray}static getMaxAttributes(e){return p.MAX_ATTRIBUTES=p.MAX_ATTRIBUTES||e.getParameter(34921),p.MAX_ATTRIBUTES}static setConstant(e,t,n){switch(n.constructor){case Float32Array:p._setConstantFloatArray(e,t,n);break;case Int32Array:p._setConstantIntArray(e,t,n);break;case Uint32Array:p._setConstantUintArray(e,t,n);break;default:(0,o.h)(!1)}}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.id||t.program&&t.program.id;super(e,Object.assign({},t,{id:n})),this.buffer=null,this.bufferValue=null,this.isDefaultArray=t.isDefaultArray||!1,this.gl2=e,this.initialize(t),Object.seal(this)}delete(){return super.delete(),this.buffer&&this.buffer.delete(),this}get MAX_ATTRIBUTES(){return p.getMaxAttributes(this.gl)}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.setProps(e)}setProps(e){return this}setElementBuffer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(0,o.h)(!e||34963===e.target,"elements must be GL.ELEMENT_ARRAY_BUFFER"),this.bind((()=>{this.gl.bindBuffer(34963,e?e.handle:null)})),this}setBuffer(e,t,n){if(34963===t.target)return this.setElementBuffer(t,n);const{size:i,type:s,stride:a,offset:l,normalized:c,integer:u,divisor:h}=n,{gl:d,gl2:f}=this;return e=Number(e),this.bind((()=>{d.bindBuffer(34962,t.handle),u?((0,o.h)((0,r.D0)(d)),f.vertexAttribIPointer(e,i,s,a,l)):d.vertexAttribPointer(e,i,s,c,a,l),d.enableVertexAttribArray(e),f.vertexAttribDivisor(e,h||0)})),this}enable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!t&&0===e&&!p.isSupported(this.gl,{constantAttributeZero:!0})||(e=Number(e),this.bind((()=>t?this.gl.enableVertexAttribArray(e):this.gl.disableVertexAttribArray(e)))),this}getConstantBuffer(e,t){const n=this._normalizeConstantArrayValue(t),r=n.byteLength*e,i=n.length*e;let s=!this.buffer;if(this.buffer=this.buffer||new u.Z(this.gl,r),s=s||this.buffer.reallocate(r),s=s||!this._compareConstantArrayValues(n,this.bufferValue),s){const e=function(e,t){var n;return new e((n=e.BYTES_PER_ELEMENT*t,(!d||d.byteLength<n)&&(d=new ArrayBuffer(n)),d),0,t)}(t.constructor,i);!function(e){let{target:t,source:n,start:r=0,count:i=1}=e;const s=n.length,o=i*s;let a=0;for(let e=r;a<s;a++)t[e++]=n[a];for(;a<o;)a<o-a?(t.copyWithin(r+a,r,r+a),a*=2):(t.copyWithin(r+a,r,r+o-a),a=o)}({target:e,source:n,start:0,count:i}),this.buffer.subData(e),this.bufferValue=t}return this.buffer}_normalizeConstantArrayValue(e){return Array.isArray(e)?new Float32Array(e):e}_compareConstantArrayValues(e,t){if(!e||!t||e.length!==t.length||e.constructor!==t.constructor)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}static _setConstantFloatArray(e,t,n){switch(n.length){case 1:e.vertexAttrib1fv(t,n);break;case 2:e.vertexAttrib2fv(t,n);break;case 3:e.vertexAttrib3fv(t,n);break;case 4:e.vertexAttrib4fv(t,n);break;default:(0,o.h)(!1)}}static _setConstantIntArray(e,t,n){switch((0,o.h)((0,r.D0)(e)),n.length){case 1:e.vertexAttribI1iv(t,n);break;case 2:e.vertexAttribI2iv(t,n);break;case 3:e.vertexAttribI3iv(t,n);break;case 4:e.vertexAttribI4iv(t,n);break;default:(0,o.h)(!1)}}static _setConstantUintArray(e,t,n){switch((0,o.h)((0,r.D0)(e)),n.length){case 1:e.vertexAttribI1uiv(t,n);break;case 2:e.vertexAttribI2uiv(t,n);break;case 3:e.vertexAttribI3uiv(t,n);break;case 4:e.vertexAttribI4uiv(t,n);break;default:(0,o.h)(!1)}}_createHandle(){return this.gl.createVertexArray()}_deleteHandle(e){return this.gl2.deleteVertexArray(e),[this.elements]}_bindHandle(e){this.gl2.bindVertexArray(e)}_getParameter(e,t){let{location:n}=t;return(0,o.h)(Number.isFinite(n)),this.bind((()=>34373===e?this.gl.getVertexAttribOffset(n,e):this.gl.getVertexAttrib(n,e)))}}var g=n(7469);const m=/^(.+)__LOCATION_([0-9]+)$/,v=["setBuffers","setGeneric","clearBindings","setLocations","setGenericValues","setDivisor","enable","disable"];class y{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.id||t.program&&t.program.id;this.id=n,this.gl=e,this.configuration=null,this.elements=null,this.elementsAccessor=null,this.values=null,this.accessors=null,this.unused=null,this.drawParams=null,this.buffer=null,this.attributes={},this.vertexArrayObject=new p(e),(0,g.F)(this,"VertexArray","v6.0",v),this.initialize(t),Object.seal(this)}delete(){this.buffer&&this.buffer.delete(),this.vertexArrayObject.delete()}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.reset(),this.configuration=null,this.bindOnUse=!1,this.setProps(e)}reset(){this.elements=null,this.elementsAccessor=null;const{MAX_ATTRIBUTES:e}=this.vertexArrayObject;return this.values=new Array(e).fill(null),this.accessors=new Array(e).fill(null),this.unused={},this.drawParams=null,this}setProps(e){return"program"in e&&(this.configuration=e.program&&e.program.configuration),"configuration"in e&&(this.configuration=e.configuration),"attributes"in e&&this.setAttributes(e.attributes),"elements"in e&&this.setElementBuffer(e.elements),"bindOnUse"in e&&(e=e.bindOnUse),this}clearDrawParams(){this.drawParams=null}getDrawParams(){return this.drawParams=this.drawParams||this._updateDrawParams(),this.drawParams}setAttributes(e){return Object.assign(this.attributes,e),this.vertexArrayObject.bind((()=>{for(const t in e){const n=e[t];this._setAttribute(t,n)}this.gl.bindBuffer(34962,null)})),this}setElementBuffer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.elements=e,this.elementsAccessor=t,this.clearDrawParams(),this.vertexArrayObject.setElementBuffer(e,t),this}setBuffer(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(34963===t.target)return this.setElementBuffer(t,n);const{location:r,accessor:i}=this._resolveLocationAndAccessor(e,t,t.accessor,n);return r>=0&&(this.values[r]=t,this.accessors[r]=i,this.clearDrawParams(),this.vertexArrayObject.setBuffer(r,t,i)),this}setConstant(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{location:r,accessor:i}=this._resolveLocationAndAccessor(e,t,Object.assign({size:t.length},n));return r>=0&&(t=this.vertexArrayObject._normalizeConstantArrayValue(t),this.values[r]=t,this.accessors[r]=i,this.clearDrawParams(),this.vertexArrayObject.enable(r,!1)),this}unbindBuffers(){return this.vertexArrayObject.bind((()=>{this.elements&&this.vertexArrayObject.setElementBuffer(null),this.buffer=this.buffer||new u.Z(this.gl,{accessor:{size:4}});for(let e=0;e<this.vertexArrayObject.MAX_ATTRIBUTES;e++)this.values[e]instanceof u.Z&&(this.gl.disableVertexAttribArray(e),this.gl.bindBuffer(34962,this.buffer.handle),this.gl.vertexAttribPointer(e,1,5126,!1,0,0))})),this}bindBuffers(){return this.vertexArrayObject.bind((()=>{this.elements&&this.setElementBuffer(this.elements);for(let e=0;e<this.vertexArrayObject.MAX_ATTRIBUTES;e++){const t=this.values[e];t instanceof u.Z&&this.setBuffer(e,t)}})),this}bindForDraw(e,t,n){let r;return this.vertexArrayObject.bind((()=>{this._setConstantAttributes(e,t),r=n()})),r}_resolveLocationAndAccessor(e,t,n,i){const s={location:-1,accessor:null},{location:a,name:l}=this._getAttributeIndex(e);if(!Number.isFinite(a)||a<0)return this.unused[e]=t,r.cM.once(3,(()=>"unused value ".concat(e," in ").concat(this.id)))(),s;const u=this._getAttributeInfo(l||a);if(!u)return s;const h=this.accessors[a]||{},d=c.Z.resolve(u.accessor,h,n,i),{size:f,type:p}=d;return(0,o.h)(Number.isFinite(f)&&Number.isFinite(p)),{location:a,accessor:d}}_getAttributeInfo(e){return this.configuration&&this.configuration.getAttributeInfo(e)}_getAttributeIndex(e){const t=Number(e);if(Number.isFinite(t))return{location:t};const n=m.exec(e),r=n?n[1]:e,i=n?Number(n[2]):0;return this.configuration?{location:this.configuration.getAttributeLocation(r)+i,name:r}:{location:-1}}_setAttribute(e,t){if(t instanceof u.Z)this.setBuffer(e,t);else if(Array.isArray(t)&&t.length&&t[0]instanceof u.Z){const n=t[0],r=t[1];this.setBuffer(e,n,r)}else if(ArrayBuffer.isView(t)||Array.isArray(t)){const n=t;this.setConstant(e,n)}else{if(!(t.buffer instanceof u.Z))throw new Error("VertexArray: attributes must be Buffers or constants (i.e. typed array)");{const n=t;this.setBuffer(e,n.buffer,n)}}}_setConstantAttributes(e,t){const n=Math.max(0|e,0|t);let r=this.values[0];ArrayBuffer.isView(r)&&this._setConstantAttributeZero(r,n);for(let e=1;e<this.vertexArrayObject.MAX_ATTRIBUTES;e++)r=this.values[e],ArrayBuffer.isView(r)&&this._setConstantAttribute(e,r)}_setConstantAttributeZero(e,t){if(p.isSupported(this.gl,{constantAttributeZero:!0}))return void this._setConstantAttribute(0,e);const n=this.vertexArrayObject.getConstantBuffer(t,e);this.vertexArrayObject.setBuffer(0,n,this.accessors[0])}_setConstantAttribute(e,t){p.setConstant(this.gl,e,t)}_updateDrawParams(){const e={isIndexed:!1,isInstanced:!1,indexCount:1/0,vertexCount:1/0,instanceCount:1/0};for(let t=0;t<this.vertexArrayObject.MAX_ATTRIBUTES;t++)this._updateDrawParamsForLocation(e,t);return this.elements&&(e.elementCount=this.elements.getElementCount(this.elements.accessor),e.isIndexed=!0,e.indexType=this.elementsAccessor.type||this.elements.accessor.type,e.indexOffset=this.elementsAccessor.offset||0),e.indexCount===1/0&&(e.indexCount=0),e.vertexCount===1/0&&(e.vertexCount=0),e.instanceCount===1/0&&(e.instanceCount=0),e}_updateDrawParamsForLocation(e,t){const n=this.values[t],r=this.accessors[t];if(!n)return;const{divisor:i}=r,s=i>0;if(e.isInstanced=e.isInstanced||s,n instanceof u.Z){const t=n;if(s){const n=t.getVertexCount(r);e.instanceCount=Math.min(e.instanceCount,n)}else{const n=t.getVertexCount(r);e.vertexCount=Math.min(e.vertexCount,n)}}}setElements(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.cM.deprecated("setElements","setElementBuffer")(),this.setElementBuffer(e,t)}}var b=n(1053),w=n(9579),_=n(8522);function A(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{isInteger:n=!1}=t;if(Array.isArray(e)||ArrayBuffer.isView(e))return function(e,t){const{maxElts:n=16,size:r=1}=t;let i="[";for(let s=0;s<e.length&&s<n;++s)s>0&&(i+=",".concat(s%r==0?" ":"")),i+=A(e[s],t);const s=e.length>n?"...":"]";return"".concat(i).concat(s)}(e,t);if(!Number.isFinite(e))return String(e);if(Math.abs(e)<1e-16)return n?"0":"0.";if(n)return e.toFixed(0);if(Math.abs(e)>100&&Math.abs(e)<1e4)return e.toFixed(0);const r=e.toPrecision(2);return r.indexOf(".0")===r.length-2?r.slice(0,-1):r}function E(e,t,n,r){const{gl:i}=e;if(!t)return{[r]:"null","Format ":"N/A"};let s,o,a,l="NOT PROVIDED",c=1,h=0,d=0;if(n&&(l=n.type,c=n.size,l=String(l).replace("Array",""),s=-1!==l.indexOf("nt")),t instanceof u.Z){const e=t,{data:u,changed:f}=e.getDebugData();let p;if(o=f?"*":"",a=u,d=e.byteLength,h=d/u.BYTES_PER_ELEMENT/c,n){const e=n.divisor>0;p="".concat(e?"I ":"P "," ").concat(h," (x").concat(c,"=").concat(d," bytes ").concat((0,w.km)(i,l),")")}else s=!0,p="".concat(d," bytes");return{[r]:"".concat(o).concat(A(a,{size:c,isInteger:s})),"Format ":p}}return a=t,c=t.length,l=String(t.constructor.name).replace("Array",""),s=-1!==l.indexOf("nt"),{[r]:"".concat(A(a,{size:c,isInteger:s})," (constant)"),"Format ":"".concat(c,"x").concat(l," (constant)")}}function C(e,t){const{type:n,size:r}=t,i=(0,_.jG)(n,r);return i?"".concat(e," (").concat(i.name,")"):e}function x(e){let{header:t="Uniforms",program:n,uniforms:r,undefinedOnly:i=!1}=e;(0,o.h)(n);const s=".*Matrix",a=n._uniformSetters,l={},c=Object.keys(a).sort();let u=0;for(const e of c)e.match(".*_.*")||e.match(s)||S({table:l,header:t,uniforms:r,uniformName:e,undefinedOnly:i})&&u++;for(const e of c)e.match(s)&&S({table:l,header:t,uniforms:r,uniformName:e,undefinedOnly:i})&&u++;for(const e of c)l[e]||S({table:l,header:t,uniforms:r,uniformName:e,undefinedOnly:i})&&u++;let h=0;const d={};if(!i)for(const e in r){const n=r[e];l[e]||(h++,d[e]={Type:"NOT USED: ".concat(n),[t]:A(n)})}return{table:l,count:u,unusedTable:d,unusedCount:h}}function S(e){let{table:t,header:n,uniforms:r,uniformName:i,undefinedOnly:s}=e;const o=r[i],a=function(e){return null!=e}(o);return!(s&&a||(t[i]={[n]:a?A(o):"N/A","Uniform Type":a?o:"NOT PROVIDED"},0))}function T(e){const{type:t,size:n}=e.accessor,r=(0,_.jG)(t,n);return r?"".concat(r.name," ").concat(e.name):e.name}const I={POSITION:"positions",NORMAL:"normals",COLOR_0:"colors",TEXCOORD_0:"texCoords",TEXCOORD_1:"texCoords1",TEXCOORD_2:"texCoords2"};function O(e,t){const{attributeMap:n=I}=t||{};return n&&n[e]||e}function P(e,t){let n;switch(e){case"texCoords":case"texCoord1":case"texCoord2":case"texCoord3":n="uvs";break;case"vertices":case"positions":case"normals":case"pickingColors":n="vectors"}switch(n){case"vectors":t.size=t.size||3;break;case"uvs":t.size=t.size||2}(0,o.h)(Number.isFinite(t.size),"attribute ".concat(e," needs size"))}const M=()=>{},B={};class k{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{id:n=(0,s.hQ)("model")}=t;(0,o.h)((0,r.UF)(e)),this.id=n,this.gl=e,this.id=t.id||(0,s.hQ)("Model"),this.lastLogTime=0,this.animated=!1,this.initialize(t)}initialize(e){this.props={},this.programManager=e.programManager||i.Z.getDefaultProgramManager(this.gl),this._programManagerState=-1,this._managedProgram=!1;const{program:t=null,vs:n,fs:r,modules:s,defines:a,inject:l,varyings:c,bufferMode:u,transpileToGLSL100:h}=e;this.programProps={program:t,vs:n,fs:r,modules:s,defines:a,inject:l,varyings:c,bufferMode:u,transpileToGLSL100:h},this.program=null,this.vertexArray=null,this._programDirty=!0,this.userData={},this.needsRedraw=!0,this._attributes={},this.attributes={},this.uniforms={},this.pickable=!0,this._checkProgram(),this.setUniforms(Object.assign({},this.getModuleUniforms(e.moduleSettings))),this.drawMode=void 0!==e.drawMode?e.drawMode:4,this.vertexCount=e.vertexCount||0,this.geometryBuffers={},this.isInstanced=e.isInstanced||e.instanced||e.instanceCount>0,this._setModelProps(e),this.geometry={},(0,o.h)(void 0!==this.drawMode&&Number.isFinite(this.vertexCount),"Model needs drawMode and vertexCount")}setProps(e){this._setModelProps(e)}delete(){for(const e in this._attributes)this._attributes[e]!==this.attributes[e]&&this._attributes[e].delete();this._managedProgram&&(this.programManager.release(this.program),this._managedProgram=!1),this.vertexArray.delete(),this._deleteGeometryBuffers()}getDrawMode(){return this.drawMode}getVertexCount(){return this.vertexCount}getInstanceCount(){return this.instanceCount}getAttributes(){return this.attributes}getProgram(){return this.program}setProgram(e){const{program:t,vs:n,fs:r,modules:i,defines:s,inject:o,varyings:a,bufferMode:l,transpileToGLSL100:c}=e;this.programProps={program:t,vs:n,fs:r,modules:i,defines:s,inject:o,varyings:a,bufferMode:l,transpileToGLSL100:c},this._programDirty=!0}getUniforms(){return this.uniforms}setDrawMode(e){return this.drawMode=e,this}setVertexCount(e){return(0,o.h)(Number.isFinite(e)),this.vertexCount=e,this}setInstanceCount(e){return(0,o.h)(Number.isFinite(e)),this.instanceCount=e,this}setGeometry(e){return this.drawMode=e.drawMode,this.vertexCount=e.getVertexCount(),this._deleteGeometryBuffers(),this.geometryBuffers=function(e,t,n){const r={};let i=t.indices;for(const n in t.attributes){const s=t.attributes[n],o=O(n,undefined);if("indices"===n)i=s;else if(s.constant)r[o]=s.value;else{const t=s.value,i={...s};delete i.value,r[o]=[new u.Z(e,t),i],P(n,i)}}if(i){const t=i.value||i;(0,o.h)(t instanceof Uint16Array||t instanceof Uint32Array,'attribute array for "indices" must be of integer type');const n={size:1,isIndexed:void 0===i.isIndexed||i.isIndexed};r.indices=[new u.Z(e,{data:t,target:34963}),n]}return r}(this.gl,e),this.vertexArray.setAttributes(this.geometryBuffers),this}setAttributes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,s.nK)(e))return this;const t={};for(const n in e){const r=e[n];t[n]=r.getValue?r.getValue():r}return this.vertexArray.setAttributes(t),this}setUniforms(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(this.uniforms,e),this}getModuleUniforms(e){this._checkProgram();const t=this.programManager.getUniforms(this.program);return t?t(e):{}}updateModuleSettings(e){const t=this.getModuleUniforms(e||{});return this.setUniforms(t)}clear(e){return(0,a.Z)(this.program.gl,e),this}draw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._checkProgram();const{moduleSettings:t=null,framebuffer:n,uniforms:i={},attributes:s={},transformFeedback:o=this.transformFeedback,parameters:a={},vertexArray:l=this.vertexArray}=e;let c;this.setAttributes(s),this.updateModuleSettings(t),this.setUniforms(i),r.cM.priority>=2&&(c=this._logDrawCallStart(2));const u=this.vertexArray.getDrawParams(),{isIndexed:h=u.isIndexed,indexType:d=u.indexType,indexOffset:f=u.indexOffset,vertexArrayInstanced:p=u.isInstanced}=this.props;p&&!this.isInstanced&&r.cM.warn("Found instanced attributes on non-instanced model",this.id)();const{isInstanced:g,instanceCount:m}=this,{onBeforeRender:v=M,onAfterRender:y=M}=this.props;v(),this.program.setUniforms(this.uniforms);const b=this.program.draw(Object.assign(B,e,{logPriority:c,uniforms:null,framebuffer:n,parameters:a,drawMode:this.getDrawMode(),vertexCount:this.getVertexCount(),vertexArray:l,transformFeedback:o,isIndexed:h,indexType:d,isInstanced:g,instanceCount:m,offset:h?f:0}));return y(),r.cM.priority>=2&&this._logDrawCallEnd(c,l,n),b}transform(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{discard:t=!0,feedbackBuffers:n,unbindModels:r=[]}=e;let{parameters:i}=e;n&&this._setFeedbackBuffers(n),t&&(i=Object.assign({},i,{35977:t})),r.forEach((e=>e.vertexArray.unbindBuffers()));try{this.draw(Object.assign({},e,{parameters:i}))}finally{r.forEach((e=>e.vertexArray.bindBuffers()))}return this}render(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.cM.warn("Model.render() is deprecated. Use Model.setUniforms() and Model.draw()")(),this.setUniforms(e).draw()}_setModelProps(e){Object.assign(this.props,e),"uniforms"in e&&this.setUniforms(e.uniforms),"pickable"in e&&(this.pickable=e.pickable),"instanceCount"in e&&(this.instanceCount=e.instanceCount),"geometry"in e&&this.setGeometry(e.geometry),"attributes"in e&&this.setAttributes(e.attributes),"_feedbackBuffers"in e&&this._setFeedbackBuffers(e._feedbackBuffers)}_checkProgram(){if(!this._programDirty&&this.programManager.stateHash===this._programManagerState)return;let{program:e}=this.programProps;if(e)this._managedProgram=!1;else{const{vs:t,fs:n,modules:r,inject:i,defines:s,varyings:o,bufferMode:a,transpileToGLSL100:l}=this.programProps;e=this.programManager.get({vs:t,fs:n,modules:r,inject:i,defines:s,varyings:o,bufferMode:a,transpileToGLSL100:l}),this.program&&this._managedProgram&&this.programManager.release(this.program),this._programManagerState=this.programManager.stateHash,this._managedProgram=!0}(0,o.h)(e instanceof l.Z,"Model needs a program"),this._programDirty=!1,e!==this.program&&(this.program=e,this.vertexArray?this.vertexArray.setProps({program:this.program,attributes:this.vertexArray.attributes}):this.vertexArray=new y(this.gl,{program:this.program}),this.setUniforms(Object.assign({},this.getModuleUniforms())))}_deleteGeometryBuffers(){for(const e in this.geometryBuffers){const t=this.geometryBuffers[e][0]||this.geometryBuffers[e];t instanceof u.Z&&t.delete()}}_setAnimationProps(e){this.animated&&(0,o.h)(e,"Model.draw(): animated uniforms but no animationProps")}_setFeedbackBuffers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,s.nK)(e))return this;const{gl:t}=this.program;return this.transformFeedback=this.transformFeedback||new b.Z(t,{program:this.program}),this.transformFeedback.setBuffers(e),this}_logDrawCallStart(e){const t=e>3?0:1e4;if(!(Date.now()-this.lastLogTime<t))return this.lastLogTime=Date.now(),r.cM.group(2,">>> DRAWING MODEL ".concat(this.id),{collapsed:r.cM.level<=2})(),e}_logDrawCallEnd(e,t,n,i){if(void 0===e)return;const s=function(e){let{vertexArray:t,header:n="Attributes"}=e;if(!t.configuration)return{};const r={};t.elements&&(r.ELEMENT_ARRAY_BUFFER=E(t,t.elements,null,n));const i=t.values;for(const e in i){const s=t._getAttributeInfo(e);if(s){let o="".concat(e,": ").concat(s.name);const a=t.accessors[s.location];a&&(o="".concat(e,": ").concat(C(s.name,a))),r[o]=E(t,i[e],a,n)}}return r}({vertexArray:t,header:"".concat(this.id," attributes"),attributes:this._attributes}),{table:o,unusedTable:a,unusedCount:l}=x({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,n)}),{table:c,count:u}=x({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,n),undefinedOnly:!0});u>0&&r.cM.log("MISSING UNIFORMS",Object.keys(c))(),l>0&&r.cM.log("UNUSED UNIFORMS",Object.keys(a))();const h=function(e){const t={},n="Accessors for ".concat(e.id);for(const r of e.attributeInfos)if(r){const e=T(r);t["in ".concat(e)]={[n]:JSON.stringify(r.accessor)}}for(const r of e.varyingInfos)if(r){const e=T(r);t["out ".concat(e)]={[n]:JSON.stringify(r.accessor)}}return t}(this.vertexArray.configuration);r.cM.table(e,s)(),r.cM.table(e,o)(),r.cM.table(e+1,h)(),i&&i.log({logLevel:2,message:"Rendered to ".concat(i.id)}),r.cM.groupEnd(2)()}}},358:(e,t,n)=>{"use strict";n.d(t,{Z:()=>N});var r=n(5682),i=n(9047);const s={number:{validate:(e,t)=>Number.isFinite(e)&&(!("max"in t)||e<=t.max)&&(!("min"in t)||e>=t.min)},array:{validate:(e,t)=>Array.isArray(e)||ArrayBuffer.isView(e)}};function o(e){let t=a(e);return"object"===t?e?"type"in e?Object.assign({},e,s[e.type]):"value"in e?(t=a(e.value),Object.assign({type:t},e,s[t])):{type:"object",value:e}:{type:"object",value:null}:Object.assign({type:t,value:e},s[t])}function a(e){return Array.isArray(e)||ArrayBuffer.isView(e)?"array":typeof e}class l{constructor(e){let{name:t,vs:n,fs:r,dependencies:s=[],uniforms:a,getUniforms:l,deprecations:c=[],defines:u={},inject:h={},vertexShader:d,fragmentShader:f}=e;(0,i.Z)("string"==typeof t),this.name=t,this.vs=n||d,this.fs=r||f,this.getModuleUniforms=l,this.dependencies=s,this.deprecations=this._parseDeprecationDefinitions(c),this.defines=u,this.injections=function(e){const t={vs:{},fs:{}};for(const n in e){let r=e[n];"string"==typeof r&&(r={order:0,injection:r}),t[n.slice(0,2)][n]=r}return t}(h),a&&(this.uniforms=function(e){const t={};for(const n in e){const r=o(e[n]);t[n]=r}return t}(a))}getModuleSource(e){let t;switch(e){case"vs":t=this.vs||"";break;case"fs":t=this.fs||"";break;default:(0,i.Z)(!1)}return"#define MODULE_".concat(this.name.toUpperCase().replace(/[^0-9a-z]/gi,"_"),"\n").concat(t,"// END MODULE_").concat(this.name,"\n\n")}getUniforms(e,t){return this.getModuleUniforms?this.getModuleUniforms(e,t):this.uniforms?this._defaultGetUniforms(e):{}}getDefines(){return this.defines}checkDeprecations(e,t){this.deprecations.forEach((n=>{n.regex.test(e)&&(n.deprecated?t.deprecated(n.old,n.new)():t.removed(n.old,n.new)())}))}_parseDeprecationDefinitions(e){return e.forEach((e=>{"function"===e.type?e.regex=new RegExp("\\b".concat(e.old,"\\(")):e.regex=new RegExp("".concat(e.type," ").concat(e.old,";"))})),e}_defaultGetUniforms(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={},n=this.uniforms;for(const r in n){const s=n[r];r in e&&!s.private?(s.validate&&(0,i.Z)(s.validate(e[r],s),"".concat(this.name,": invalid ").concat(r)),t[r]=e[r]):t[r]=s.value}return t}}function c(e){return function(e){const t={},n={};return u({modules:e,level:0,moduleMap:t,moduleDepth:n}),Object.keys(n).sort(((e,t)=>n[t]-n[e])).map((e=>t[e]))}(h(e))}function u(e){let{modules:t,level:n,moduleMap:r,moduleDepth:i}=e;if(n>=5)throw new Error("Possible loop in shader dependency graph");for(const e of t)r[e.name]=e,(void 0===i[e.name]||i[e.name]<n)&&(i[e.name]=n);for(const e of t)e.dependencies&&u({modules:e.dependencies,level:n+1,moduleMap:r,moduleDepth:i})}function h(e,t){return e.map((e=>(e instanceof l||((0,i.Z)("string"!=typeof e,"Shader module use by name is deprecated. Import shader module '".concat(e,"' and use it directly.")),(0,i.Z)(e.name,"shader module has no name"),(e=new l(e)).dependencies=h(e.dependencies)),e)))}const d=7936,f=7937,p=7938,g=35724,m={GLSL_FRAG_DATA:["WEBGL_draw_buffers",!0],GLSL_FRAG_DEPTH:["EXT_frag_depth",!0],GLSL_DERIVATIVES:["OES_standard_derivatives",!0],GLSL_TEXTURE_LOD:["EXT_shader_texture_lod",!0]},v={};Object.keys(m).forEach((e=>{v[e]=e}));const y={};function b(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=m[t];if((0,i.Z)(r,t),!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t="undefined"!=typeof window&&window.navigator||{},n=e.userAgent||t.userAgent||"",r=-1!==n.indexOf("MSIE "),i=-1!==n.indexOf("Trident/");return r||i}(n))return!0;if(t in y)return y[t];const s=r[0],o=n.behavior||"enable",a="#extension GL_".concat(s," : ").concat(o,"\nvoid main(void) {}"),l=e.createShader(35633);e.shaderSource(l,a),e.compileShader(l);const c=e.getShaderParameter(l,35713);return e.deleteShader(l),y[t]=c,c}function w(e,t){return(t=Array.isArray(t)?t:[t]).every((t=>function(e,t){const n=m[t];(0,i.Z)(n,t);const r=function(e){return"undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||Boolean(e&&2===e._version)}(e)&&n[1]||n[0],s="string"==typeof r?Boolean(e.getExtension(r)):r;return(0,i.Z)(!1===s||!0===s),s}(e,t)))}var _=n(6713);function A(e){return new RegExp("\\b".concat(e,"[ \\t]+(\\w+[ \\t]+\\w+(\\[\\w+\\])?;)"),"g")}const E=[[/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,"#version 300 es\n"],[/\btexture(2D|2DProj|Cube)Lod(EXT)?\(/g,"textureLod("],[/\btexture(2D|2DProj|Cube)(EXT)?\(/g,"texture("]],C=[...E,[A("attribute"),"in $1"],[A("varying"),"out $1"]],x=[...E,[A("varying"),"in $1"]],S=[[/^#version[ \t]+300[ \t]+es/,"#version 100"],[/\btexture(2D|2DProj|Cube)Lod\(/g,"texture$1LodEXT("],[/\btexture\(/g,"texture2D("],[/\btextureLod\(/g,"texture2DLodEXT("]],T=[...S,[A("in"),"attribute $1"],[A("out"),"varying $1"]],I=[...S,[A("in"),"varying $1"]],O="gl_FragColor",P=/\bout[ \t]+vec4[ \t]+(\w+)[ \t]*;\n?/,M=/void\s+main\s*\([^)]*\)\s*\{\n?/;function B(e,t){for(const[n,r]of t)e=e.replace(n,r);return e}const k="\n\n".concat(_.O_,"\n\n"),R={[r.H]:"vertex",[r.Y]:"fragment"};function L(e,t){let{id:n,source:s,type:o,modules:a,defines:l={},hookFunctions:c=[],inject:u={},transpileToGLSL100:h=!1,prologue:m=!0,log:y}=t;(0,i.Z)("string"==typeof s,"shader source must be a string");const A=o===r.H,E=s.split("\n");let S=100,L="",F=s;0===E[0].indexOf("#version ")?(S=300,L=E[0],F=E.slice(1).join("\n")):L="#version ".concat(S);const D={};a.forEach((e=>{Object.assign(D,e.getDefines())})),Object.assign(D,l);let N=m?"".concat(L,"\n").concat(function(e){let{id:t,source:n,type:r}=e;return t&&"string"==typeof t&&-1===n.indexOf("SHADER_NAME")?"\n#define SHADER_NAME ".concat(t,"_").concat(R[r],"\n\n"):""}({id:n,source:s,type:o}),"\n").concat(function(e){let{type:t}=e;return"\n#define SHADER_TYPE_".concat(R[t].toUpperCase(),"\n")}({type:o}),"\n").concat(function(e){const t=function(e){const t=e.getExtension("WEBGL_debug_renderer_info"),n=e.getParameter(t&&t.UNMASKED_VENDOR_WEBGL||d),r=e.getParameter(t&&t.UNMASKED_RENDERER_WEBGL||f);return{gpuVendor:function(e,t){return e.match(/NVIDIA/i)||t.match(/NVIDIA/i)?"NVIDIA":e.match(/INTEL/i)||t.match(/INTEL/i)?"INTEL":e.match(/AMD/i)||t.match(/AMD/i)||e.match(/ATI/i)||t.match(/ATI/i)?"AMD":"UNKNOWN GPU"}(n,r),vendor:n,renderer:r,version:e.getParameter(p),shadingLanguageVersion:e.getParameter(g)}}(e);switch(t.gpuVendor.toLowerCase()){case"nvidia":return"#define NVIDIA_GPU\n// Nvidia optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n";case"intel":return"#define INTEL_GPU\n// Intel optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n";case"amd":return"#define AMD_GPU\n";default:return"#define DEFAULT_GPU\n// Prevent driver from optimizing away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n"}}(e),"\n").concat(function(e,t,n){let r="#if (__VERSION__ > 120)\n\n# define FEATURE_GLSL_DERIVATIVES\n# define FEATURE_GLSL_DRAW_BUFFERS\n# define FEATURE_GLSL_FRAG_DEPTH\n# define FEATURE_GLSL_TEXTURE_LOD\n\n// DEPRECATED FLAGS, remove in v9\n# define FRAG_DEPTH\n# define DERIVATIVES\n# define DRAW_BUFFERS\n# define TEXTURE_LOD\n\n#endif // __VERSION\n";return w(e,v.GLSL_FRAG_DEPTH)&&(r+="\n// FRAG_DEPTH => gl_FragDepth is available\n#ifdef GL_EXT_frag_depth\n#extension GL_EXT_frag_depth : enable\n# define FEATURE_GLSL_FRAG_DEPTH\n# define FRAG_DEPTH\n# define gl_FragDepth gl_FragDepthEXT\n#endif\n"),w(e,v.GLSL_DERIVATIVES)&&b(e,v.GLSL_DERIVATIVES)&&(r+="\n// DERIVATIVES => dxdF, dxdY and fwidth are available\n#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n# define FEATURE_GLSL_DERIVATIVES\n# define DERIVATIVES\n#endif\n"),w(e,v.GLSL_FRAG_DATA)&&b(e,v.GLSL_FRAG_DATA,{behavior:"require"})&&(r+="\n// DRAW_BUFFERS => gl_FragData[] is available\n#ifdef GL_EXT_draw_buffers\n#extension GL_EXT_draw_buffers : require\n#define FEATURE_GLSL_DRAW_BUFFERS\n#define DRAW_BUFFERS\n#endif\n"),w(e,v.GLSL_TEXTURE_LOD)&&(r+="// TEXTURE_LOD => texture2DLod etc are available\n#ifdef GL_EXT_shader_texture_lod\n#extension GL_EXT_shader_texture_lod : enable\n\n# define FEATURE_GLSL_TEXTURE_LOD\n# define TEXTURE_LOD\n\n#endif\n"),r}(e),"\n").concat(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=0,n="";for(const r in e){0===t&&(n+="\n// APPLICATION DEFINES\n"),t++;const i=e[r];(i||Number.isFinite(i))&&(n+="#define ".concat(r.toUpperCase()," ").concat(e[r],"\n"))}return 0===t&&(n+="\n"),n}(D),"\n").concat(A?"":"precision highp float;\n\n","\n"):"".concat(L,"\n");const j=function(e){const t={vs:{},fs:{}};return e.forEach((e=>{let n;"string"!=typeof e?(n=e,e=n.hook):n={},e=e.trim();const[r,i]=e.split(":"),s=e.replace(/\(.+/,"");t[r][s]=Object.assign(n,{signature:i})})),t}(c),U={},G={},z={};for(const e in u){const t="string"==typeof u[e]?{injection:u[e],order:0}:u[e],n=e.match(/^(v|f)s:(#)?([\w-]+)$/);if(n){const r=n[2],i=n[3];r?"decl"===i?G[e]=[t]:z[e]=[t]:U[e]=[t]}else z[e]=[t]}for(const e of a){y&&e.checkDeprecations(F,y),N+=e.getModuleSource(o,S);const t=e.injections[o];for(const e in t){const n=e.match(/^(v|f)s:#([\w-]+)$/);if(n){const r="decl"===n[2]?G:z;r[e]=r[e]||[],r[e].push(t[e])}else U[e]=U[e]||[],U[e].push(t[e])}}return N+=k,N=(0,_.ZP)(N,o,G),N+=function(e,t){let n="";for(const r in e){const i=e[r];if(n+="void ".concat(i.signature," {\n"),i.header&&(n+="  ".concat(i.header)),t[r]){const e=t[r];e.sort(((e,t)=>e.order-t.order));for(const t of e)n+="  ".concat(t.injection,"\n")}i.footer&&(n+="  ".concat(i.footer)),n+="}\n"}return n}(j[o],U),N+=F,N=(0,_.ZP)(N,o,z),N=function(e,t,n){switch(t){case 300:return n?B(e,C):function(e){const t=(e=B(e,x)).match(P);if(t){const n=t[1];e=e.replace(new RegExp("\\b".concat(O,"\\b"),"g"),n)}else{const t="fragmentColor";e=e.replace(M,(e=>"out vec4 ".concat(t,";\n").concat(e))).replace(new RegExp("\\b".concat(O,"\\b"),"g"),t)}return e}(e);case 100:return n?B(e,T):function(e){const t=(e=B(e,I)).match(P);if(t){const n=t[1];e=e.replace(P,"").replace(new RegExp("\\b".concat(n,"\\b"),"g"),O)}return e}(e);default:throw new Error("unknown GLSL version ".concat(t))}}(N,h?100:S,A),N}function F(e){return function(t){const n={};for(const r of e){const e=r.getUniforms(t,n);Object.assign(n,e)}return n}}var D=n(7944);class N{static getDefaultProgramManager(e){return e.luma=e.luma||{},e.luma.defaultProgramManager=e.luma.defaultProgramManager||new N(e),e.luma.defaultProgramManager}constructor(e){this.gl=e,this._programCache={},this._getUniforms={},this._registeredModules={},this._hookFunctions=[],this._defaultModules=[],this._hashes={},this._hashCounter=0,this.stateHash=0,this._useCounts={}}addDefaultModule(e){this._defaultModules.find((t=>t.name===e.name))||this._defaultModules.push(e),this.stateHash++}removeDefaultModule(e){const t="string"==typeof e?e:e.name;this._defaultModules=this._defaultModules.filter((e=>e.name!==t)),this.stateHash++}addShaderHook(e,t){t&&(e=Object.assign(t,{hook:e})),this._hookFunctions.push(e),this.stateHash++}get(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{vs:t="",fs:n="",defines:i={},inject:s={},varyings:o=[],bufferMode:a=35981,transpileToGLSL100:l=!1}=e,u=this._getModuleList(e.modules),h=this._getHash(t),d=this._getHash(n),f=u.map((e=>this._getHash(e.name))).sort(),p=o.map((e=>this._getHash(e))),g=Object.keys(i).sort(),m=Object.keys(s).sort(),v=[],y=[];for(const e of g)v.push(this._getHash(e)),v.push(this._getHash(i[e]));for(const e of m)y.push(this._getHash(e)),y.push(this._getHash(s[e]));const b="".concat(h,"/").concat(d,"D").concat(v.join("/"),"M").concat(f.join("/"),"I").concat(y.join("/"),"V").concat(p.join("/"),"H").concat(this.stateHash,"B").concat(a).concat(l?"T":"");if(!this._programCache[b]){const e=function(e,t){const{vs:n,fs:i}=t,s=c(t.modules||[]);return{gl:e,vs:L(e,Object.assign({},t,{source:n,type:r.H,modules:s})),fs:L(e,Object.assign({},t,{source:i,type:r.Y,modules:s})),getUniforms:F(s)}}(this.gl,{vs:t,fs:n,modules:u,inject:s,defines:i,hookFunctions:this._hookFunctions,transpileToGLSL100:l});this._programCache[b]=new D.Z(this.gl,{hash:b,vs:e.vs,fs:e.fs,varyings:o,bufferMode:a}),this._getUniforms[b]=e.getUniforms||(e=>{}),this._useCounts[b]=0}return this._useCounts[b]++,this._programCache[b]}getUniforms(e){return this._getUniforms[e.hash]||null}release(e){const t=e.hash;this._useCounts[t]--,0===this._useCounts[t]&&(this._programCache[t].delete(),delete this._programCache[t],delete this._getUniforms[t],delete this._useCounts[t])}_getHash(e){return void 0===this._hashes[e]&&(this._hashes[e]=this._hashCounter++),this._hashes[e]}_getModuleList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=new Array(this._defaultModules.length+e.length),n={};let r=0;for(let e=0,i=this._defaultModules.length;e<i;++e){const i=this._defaultModules[e],s=i.name;t[r++]=i,n[s]=!0}for(let i=0,s=e.length;i<s;++i){const s=e[i],o=s.name;n[o]||(t[r++]=s,n[o]=!0)}return t.length=r,t}}},9450:(e,t,n)=>{"use strict";n.d(t,{KQ:()=>h,JD:()=>u,s9:()=>Q,JY:()=>W,w:()=>Z,vd:()=>c,yW:()=>$,UF:()=>a,D0:()=>l,cM:()=>r,kL:()=>V,aQ:()=>ee,dR:()=>z,s8:()=>H});const r=new(n(9109).Z)({id:"luma.gl"});function i(e,t){if(!e)throw new Error(t||"luma.gl: assertion failed.")}const s="Invalid WebGLRenderingContext",o="Requires WebGL2";function a(e){return"undefined"!=typeof WebGLRenderingContext&&e instanceof WebGLRenderingContext||"undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||Boolean(e&&Number.isFinite(e._version))}function l(e){return"undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||Boolean(e&&2===e._version)}function c(e){return l(e)?e:null}function u(e){return i(a(e),s),e}function h(e){return i(l(e),o),e}const d={};const f=function e(t){const n=t.gl;this.ext=t,this.isAlive=!0,this.hasBeenBound=!1,this.elementArrayBuffer=null,this.attribs=new Array(t.maxVertexAttribs);for(let t=0;t<this.attribs.length;t++){const r=new e.VertexAttrib(n);this.attribs[t]=r}this.maxAttrib=0};(f.VertexAttrib=function(e){this.enabled=!1,this.buffer=null,this.size=4,this.type=5126,this.normalized=!1,this.stride=16,this.offset=0,this.cached="",this.recache()}).prototype.recache=function(){this.cached=[this.size,this.type,this.normalized,this.stride,this.offset].join(":")};const p=function(e){const t=this;this.gl=e,function(e){const t=e.getError;e.getError=function(){let n;do{n=t.apply(e),0!==n&&(d[n]=!0)}while(0!==n);for(n in d)if(d[n])return delete d[n],parseInt(n,10);return 0}}(e);const n=this.original={getParameter:e.getParameter,enableVertexAttribArray:e.enableVertexAttribArray,disableVertexAttribArray:e.disableVertexAttribArray,bindBuffer:e.bindBuffer,getVertexAttrib:e.getVertexAttrib,vertexAttribPointer:e.vertexAttribPointer};e.getParameter=function(e){return e===t.VERTEX_ARRAY_BINDING_OES?t.currentVertexArrayObject===t.defaultVertexArrayObject?null:t.currentVertexArrayObject:n.getParameter.apply(this,arguments)},e.enableVertexAttribArray=function(e){const r=t.currentVertexArrayObject;return r.maxAttrib=Math.max(r.maxAttrib,e),r.attribs[e].enabled=!0,n.enableVertexAttribArray.apply(this,arguments)},e.disableVertexAttribArray=function(e){const r=t.currentVertexArrayObject;return r.maxAttrib=Math.max(r.maxAttrib,e),r.attribs[e].enabled=!1,n.disableVertexAttribArray.apply(this,arguments)},e.bindBuffer=function(e,r){switch(e){case 34962:t.currentArrayBuffer=r;break;case 34963:t.currentVertexArrayObject.elementArrayBuffer=r}return n.bindBuffer.apply(this,arguments)},e.getVertexAttrib=function(e,r){const i=t.currentVertexArrayObject.attribs[e];switch(r){case 34975:return i.buffer;case 34338:return i.enabled;case 34339:return i.size;case 34340:return i.stride;case 34341:return i.type;case 34922:return i.normalized;default:return n.getVertexAttrib.apply(this,arguments)}},e.vertexAttribPointer=function(e,r,i,s,o,a){const l=t.currentVertexArrayObject;l.maxAttrib=Math.max(l.maxAttrib,e);const c=l.attribs[e];return c.buffer=t.currentArrayBuffer,c.size=r,c.type=i,c.normalized=s,c.stride=o,c.offset=a,c.recache(),n.vertexAttribPointer.apply(this,arguments)},e.instrumentExtension&&e.instrumentExtension(this,"OES_vertex_array_object"),e.canvas&&e.canvas.addEventListener("webglcontextrestored",(()=>{globalThis.console&&globalThis.console.log&&globalThis.console.log("OESVertexArrayObject emulation library context restored"),t.reset_()}),!0),this.reset_()};p.prototype.VERTEX_ARRAY_BINDING_OES=34229,p.prototype.reset_=function(){if(void 0!==this.vertexArrayObjects)for(let e=0;e<this.vertexArrayObjects.length;++e)this.vertexArrayObjects.isAlive=!1;const e=this.gl;this.maxVertexAttribs=e.getParameter(34921),this.defaultVertexArrayObject=new f(this),this.currentVertexArrayObject=null,this.currentArrayBuffer=null,this.vertexArrayObjects=[this.defaultVertexArrayObject],this.bindVertexArrayOES(null)},p.prototype.createVertexArrayOES=function(){const e=new f(this);return this.vertexArrayObjects.push(e),e},p.prototype.deleteVertexArrayOES=function(e){e.isAlive=!1,this.vertexArrayObjects.splice(this.vertexArrayObjects.indexOf(e),1),this.currentVertexArrayObject===e&&this.bindVertexArrayOES(null)},p.prototype.isVertexArrayOES=function(e){return!!(e&&e instanceof f&&e.hasBeenBound&&e.ext===this)},p.prototype.bindVertexArrayOES=function(e){const t=this.gl;if(e&&!e.isAlive)return n="bindVertexArrayOES: attempt to bind deleted arrayObject",d[1282]=!0,void(void 0!==n&&(r=n,globalThis.console&&globalThis.console.error&&globalThis.console.error(r)));var n,r;const i=this.original,s=this.currentVertexArrayObject;this.currentVertexArrayObject=e||this.defaultVertexArrayObject,this.currentVertexArrayObject.hasBeenBound=!0;const o=this.currentVertexArrayObject;if(s===o)return;s&&o.elementArrayBuffer===s.elementArrayBuffer||i.bindBuffer.call(t,34963,o.elementArrayBuffer);let a=this.currentArrayBuffer;const l=Math.max(s?s.maxAttrib:0,o.maxAttrib);for(let e=0;e<=l;e++){const n=o.attribs[e],r=s?s.attribs[e]:null;if(s&&n.enabled===r.enabled||(n.enabled?i.enableVertexAttribArray.call(t,e):i.disableVertexAttribArray.call(t,e)),n.enabled){let o=!1;s&&n.buffer===r.buffer||(a!==n.buffer&&(i.bindBuffer.call(t,34962,n.buffer),a=n.buffer),o=!0),(o||n.cached!==r.cached)&&i.vertexAttribPointer.call(t,e,n.size,n.type,n.normalized,n.stride,n.offset)}}this.currentArrayBuffer!==a&&i.bindBuffer.call(t,34962,this.currentArrayBuffer)};const g="OES_element_index",m="WEBGL_draw_buffers",v="WEBGL_debug_renderer_info",y=e=>l(e)?void 0:0,b={3074:e=>l(e)?void 0:36064,35723:e=>l(e)?void 0:4352,35977:y,32937:y,36795:(e,t)=>{const n=l(e)?e.getExtension("EXT_disjoint_timer_query_webgl2"):e.getExtension("EXT_disjoint_timer_query");return n&&n.GPU_DISJOINT_EXT?t(n.GPU_DISJOINT_EXT):0},37445:(e,t)=>{const n=e.getExtension(v);return t(n&&n.UNMASKED_VENDOR_WEBGL||7936)},37446:(e,t)=>{const n=e.getExtension(v);return t(n&&n.UNMASKED_RENDERER_WEBGL||7937)},34047:(e,t)=>{const n=e.luma.extensions.EXT_texture_filter_anisotropic;return n?t(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):1},32883:y,35071:y,37447:y,36063:(e,t)=>{if(!l(e)){const n=e.getExtension(m);return n?t(n.MAX_COLOR_ATTACHMENTS_WEBGL):0}},35379:y,35374:y,35377:y,34852:e=>{if(!l(e)){const t=e.getExtension(m);return t?t.MAX_DRAW_BUFFERS_WEBGL:0}},36203:e=>e.getExtension(g)?2147483647:65535,33001:e=>e.getExtension(g)?16777216:65535,33e3:e=>16777216,37157:y,35373:y,35657:y,36183:y,37137:y,34045:y,35978:y,35979:y,35968:y,35376:y,35375:y,35659:y,37154:y,35371:y,35658:y,35076:y,35077:y,35380:y},w="ANGLE_instanced_arrays",_={OES_vertex_array_object:{meta:{suffix:"OES"},createVertexArray:()=>{i(!1,"VertexArray requires WebGL2 or OES_vertex_array_object extension")},deleteVertexArray:()=>{},bindVertexArray:()=>{},isVertexArray:()=>!1},[w]:{meta:{suffix:"ANGLE"},vertexAttribDivisor(e,t){i(0===t,"WebGL instanced rendering not supported")},drawElementsInstanced:()=>{},drawArraysInstanced:()=>{}},WEBGL_draw_buffers:{meta:{suffix:"WEBGL"},drawBuffers:()=>{i(!1)}},EXT_disjoint_timer_query:{meta:{suffix:"EXT"},createQuery:()=>{i(!1)},deleteQuery:()=>{i(!1)},beginQuery:()=>{i(!1)},endQuery:()=>{},getQuery(e,t){return this.getQueryObject(e,t)},getQueryParameter(e,t){return this.getQueryObject(e,t)},getQueryObject:()=>{}}},A={readBuffer:(e,t,n)=>{l(e)&&t(n)},getVertexAttrib:(e,t,n,r)=>{const{webgl2:i,ext:s}=function(e,t){return{webgl2:l(e),ext:e.getExtension(t)}}(e,w);let o;switch(r){case 35069:o=!!i&&void 0;break;case 35070:o=i||s?void 0:0}return void 0!==o?o:t(n,r)},getProgramParameter:(e,t,n,r)=>{if(!l(e))switch(r){case 35967:return 35981;case 35971:case 35382:return 0}return t(n,r)},getInternalformatParameter:(e,t,n,r,i)=>l(e)||32937!==i?e.getInternalformatParameter(n,r,i):new Int32Array([0]),getTexParameter(e,t,n,r){if(34046===r){const{extensions:t}=e.luma,n=t.EXT_texture_filter_anisotropic;r=n&&n.TEXTURE_MAX_ANISOTROPY_EXT||34046}return t(n,r)},getParameter:function(e,t,n){const r=b[n],i="function"==typeof r?r(e,t,n):r;return void 0!==i?i:t(n)},hint:(e,t,n,r)=>t(n,r)};function E(e,t){let{extension:n,target:r,target2:s}=t;const o=_[n];i(o);const{meta:a={}}=o,{suffix:l=""}=a,c=e.getExtension(n);for(const t of Object.keys(o)){const n="".concat(t).concat(l);let i=null;"meta"===t||"function"==typeof e[t]||(c&&"function"==typeof c[n]?i=function(){return c[n](...arguments)}:"function"==typeof o[t]&&(i=o[t].bind(r))),i&&(r[t]=i,s[t]=i)}}globalThis.polyfillContext=function(e){e.luma=e.luma||{};const{luma:t}=e;return t.polyfilled||(function(e){if("function"==typeof e.createVertexArray)return;const t=e.getSupportedExtensions;e.getSupportedExtensions=function(){const e=t.call(this)||[];return e.indexOf("OES_vertex_array_object")<0&&e.push("OES_vertex_array_object"),e};const n=e.getExtension;e.getExtension=function(t){return n.call(this,t)||("OES_vertex_array_object"!==t?null:(e.__OESVertexArrayObject||(this.__OESVertexArrayObject=new p(this)),this.__OESVertexArrayObject))}}(e),function(e){e.luma.extensions={};const t=e.getSupportedExtensions()||[];for(const n of t)e.luma[n]=e.getExtension(n)}(e),function(e,t){for(const n of Object.getOwnPropertyNames(t))"overrides"!==n&&E(e,{extension:n,target:e.luma,target2:e})}(e,_),function(e,t){let{target:n,target2:r}=t;Object.keys(A).forEach((t=>{if("function"==typeof A[t]){const i=e[t]?e[t].bind(e):()=>{},s=A[t].bind(null,e,i);n[t]=s,r[t]=s}}))}(e,{target:t,target2:e}),t.polyfilled=!0),e};const C={3042:!1,32773:new Float32Array([0,0,0,0]),32777:32774,34877:32774,32969:1,32968:0,32971:1,32970:0,3106:new Float32Array([0,0,0,0]),3107:[!0,!0,!0,!0],2884:!1,2885:1029,2929:!1,2931:1,2932:513,2928:new Float32Array([0,1]),2930:!0,3024:!0,36006:null,2886:2305,33170:4352,2849:1,32823:!1,32824:0,10752:0,32938:1,32939:!1,3089:!1,3088:new Int32Array([0,0,1024,1024]),2960:!1,2961:0,2968:4294967295,36005:4294967295,2962:519,2967:0,2963:4294967295,34816:519,36003:0,36004:4294967295,2964:7680,2965:7680,2966:7680,34817:7680,34818:7680,34819:7680,2978:[0,0,1024,1024],3333:4,3317:4,37440:!1,37441:!1,37443:37444,35723:4352,36010:null,35977:!1,3330:0,3332:0,3331:0,3314:0,32878:0,3316:0,3315:0,32877:0},x=(e,t,n)=>t?e.enable(n):e.disable(n),S=(e,t,n)=>e.hint(n,t),T=(e,t,n)=>e.pixelStorei(n,t);function I(e){return Array.isArray(e)||ArrayBuffer.isView(e)}const O={3042:x,32773:(e,t)=>e.blendColor(...t),32777:"blendEquation",34877:"blendEquation",32969:"blendFunc",32968:"blendFunc",32971:"blendFunc",32970:"blendFunc",3106:(e,t)=>e.clearColor(...t),3107:(e,t)=>e.colorMask(...t),2884:x,2885:(e,t)=>e.cullFace(t),2929:x,2931:(e,t)=>e.clearDepth(t),2932:(e,t)=>e.depthFunc(t),2928:(e,t)=>e.depthRange(...t),2930:(e,t)=>e.depthMask(t),3024:x,35723:S,36006:(e,t)=>{const n=l(e)?36009:36160;return e.bindFramebuffer(n,t)},2886:(e,t)=>e.frontFace(t),33170:S,2849:(e,t)=>e.lineWidth(t),32823:x,32824:"polygonOffset",10752:"polygonOffset",35977:x,32938:"sampleCoverage",32939:"sampleCoverage",3089:x,3088:(e,t)=>e.scissor(...t),2960:x,2961:(e,t)=>e.clearStencil(t),2968:(e,t)=>e.stencilMaskSeparate(1028,t),36005:(e,t)=>e.stencilMaskSeparate(1029,t),2962:"stencilFuncFront",2967:"stencilFuncFront",2963:"stencilFuncFront",34816:"stencilFuncBack",36003:"stencilFuncBack",36004:"stencilFuncBack",2964:"stencilOpFront",2965:"stencilOpFront",2966:"stencilOpFront",34817:"stencilOpBack",34818:"stencilOpBack",34819:"stencilOpBack",2978:(e,t)=>e.viewport(...t),3333:T,3317:T,37440:T,37441:T,37443:T,3330:T,3332:T,3331:T,36010:(e,t)=>e.bindFramebuffer(36008,t),3314:T,32878:T,3316:T,3315:T,32877:T,framebuffer:(e,t)=>{const n=t&&"handle"in t?t.handle:t;return e.bindFramebuffer(36160,n)},blend:(e,t)=>t?e.enable(3042):e.disable(3042),blendColor:(e,t)=>e.blendColor(...t),blendEquation:(e,t)=>{t=I(t)?t:[t,t],e.blendEquationSeparate(...t)},blendFunc:(e,t)=>{t=I(t)&&2===t.length?[...t,...t]:t,e.blendFuncSeparate(...t)},clearColor:(e,t)=>e.clearColor(...t),clearDepth:(e,t)=>e.clearDepth(t),clearStencil:(e,t)=>e.clearStencil(t),colorMask:(e,t)=>e.colorMask(...t),cull:(e,t)=>t?e.enable(2884):e.disable(2884),cullFace:(e,t)=>e.cullFace(t),depthTest:(e,t)=>t?e.enable(2929):e.disable(2929),depthFunc:(e,t)=>e.depthFunc(t),depthMask:(e,t)=>e.depthMask(t),depthRange:(e,t)=>e.depthRange(...t),dither:(e,t)=>t?e.enable(3024):e.disable(3024),derivativeHint:(e,t)=>{e.hint(35723,t)},frontFace:(e,t)=>e.frontFace(t),mipmapHint:(e,t)=>e.hint(33170,t),lineWidth:(e,t)=>e.lineWidth(t),polygonOffsetFill:(e,t)=>t?e.enable(32823):e.disable(32823),polygonOffset:(e,t)=>e.polygonOffset(...t),sampleCoverage:(e,t)=>e.sampleCoverage(...t),scissorTest:(e,t)=>t?e.enable(3089):e.disable(3089),scissor:(e,t)=>e.scissor(...t),stencilTest:(e,t)=>t?e.enable(2960):e.disable(2960),stencilMask:(e,t)=>{t=I(t)?t:[t,t];const[n,r]=t;e.stencilMaskSeparate(1028,n),e.stencilMaskSeparate(1029,r)},stencilFunc:(e,t)=>{t=I(t)&&3===t.length?[...t,...t]:t;const[n,r,i,s,o,a]=t;e.stencilFuncSeparate(1028,n,r,i),e.stencilFuncSeparate(1029,s,o,a)},stencilOp:(e,t)=>{t=I(t)&&3===t.length?[...t,...t]:t;const[n,r,i,s,o,a]=t;e.stencilOpSeparate(1028,n,r,i),e.stencilOpSeparate(1029,s,o,a)},viewport:(e,t)=>e.viewport(...t)};function P(e,t,n){return void 0!==t[e]?t[e]:n[e]}const M={blendEquation:(e,t,n)=>e.blendEquationSeparate(P(32777,t,n),P(34877,t,n)),blendFunc:(e,t,n)=>e.blendFuncSeparate(P(32969,t,n),P(32968,t,n),P(32971,t,n),P(32970,t,n)),polygonOffset:(e,t,n)=>e.polygonOffset(P(32824,t,n),P(10752,t,n)),sampleCoverage:(e,t,n)=>e.sampleCoverage(P(32938,t,n),P(32939,t,n)),stencilFuncFront:(e,t,n)=>e.stencilFuncSeparate(1028,P(2962,t,n),P(2967,t,n),P(2963,t,n)),stencilFuncBack:(e,t,n)=>e.stencilFuncSeparate(1029,P(34816,t,n),P(36003,t,n),P(36004,t,n)),stencilOpFront:(e,t,n)=>e.stencilOpSeparate(1028,P(2964,t,n),P(2965,t,n),P(2966,t,n)),stencilOpBack:(e,t,n)=>e.stencilOpSeparate(1029,P(34817,t,n),P(34818,t,n),P(34819,t,n))},B={enable:(e,t)=>e({[t]:!0}),disable:(e,t)=>e({[t]:!1}),pixelStorei:(e,t,n)=>e({[t]:n}),hint:(e,t,n)=>e({[t]:n}),bindFramebuffer:(e,t,n)=>{switch(t){case 36160:return e({36006:n,36010:n});case 36009:return e({36006:n});case 36008:return e({36010:n});default:return null}},blendColor:(e,t,n,r,i)=>e({32773:new Float32Array([t,n,r,i])}),blendEquation:(e,t)=>e({32777:t,34877:t}),blendEquationSeparate:(e,t,n)=>e({32777:t,34877:n}),blendFunc:(e,t,n)=>e({32969:t,32968:n,32971:t,32970:n}),blendFuncSeparate:(e,t,n,r,i)=>e({32969:t,32968:n,32971:r,32970:i}),clearColor:(e,t,n,r,i)=>e({3106:new Float32Array([t,n,r,i])}),clearDepth:(e,t)=>e({2931:t}),clearStencil:(e,t)=>e({2961:t}),colorMask:(e,t,n,r,i)=>e({3107:[t,n,r,i]}),cullFace:(e,t)=>e({2885:t}),depthFunc:(e,t)=>e({2932:t}),depthRange:(e,t,n)=>e({2928:new Float32Array([t,n])}),depthMask:(e,t)=>e({2930:t}),frontFace:(e,t)=>e({2886:t}),lineWidth:(e,t)=>e({2849:t}),polygonOffset:(e,t,n)=>e({32824:t,10752:n}),sampleCoverage:(e,t,n)=>e({32938:t,32939:n}),scissor:(e,t,n,r,i)=>e({3088:new Int32Array([t,n,r,i])}),stencilMask:(e,t)=>e({2968:t,36005:t}),stencilMaskSeparate:(e,t,n)=>e({[1028===t?2968:36005]:n}),stencilFunc:(e,t,n,r)=>e({2962:t,2967:n,2963:r,34816:t,36003:n,36004:r}),stencilFuncSeparate:(e,t,n,r,i)=>e({[1028===t?2962:34816]:n,[1028===t?2967:36003]:r,[1028===t?2963:36004]:i}),stencilOp:(e,t,n,r)=>e({2964:t,2965:n,2966:r,34817:t,34818:n,34819:r}),stencilOpSeparate:(e,t,n,r,i)=>e({[1028===t?2964:34817]:n,[1028===t?2965:34818]:r,[1028===t?2966:34819]:i}),viewport:(e,t,n,r,i)=>e({2978:[t,n,r,i]})},k=(e,t)=>e.isEnabled(t),R={3042:k,2884:k,2929:k,3024:k,32823:k,32926:k,32928:k,3089:k,2960:k,35977:k};function L(e){for(const t in e)return!1;return!0}function F(e,t){if(e===t)return!0;const n=Array.isArray(e)||ArrayBuffer.isView(e),r=Array.isArray(t)||ArrayBuffer.isView(t);if(n&&r&&e.length===t.length){for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}return!1}function D(e,t){const n=e[t].bind(e);e[t]=function(){const t=arguments.length<=0?void 0:arguments[0];return t in e.state.cache&&e.state.enable?e.state.cache[t]:n(...arguments)},Object.defineProperty(e[t],"name",{value:"".concat(t,"-from-cache"),configurable:!1})}function N(e,t,n){const r=e[t].bind(e);e[t]=function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];const{valueChanged:o,oldValue:a}=n(e.state._updateCache,...i);return o&&r(...i),a},Object.defineProperty(e[t],"name",{value:"".concat(t,"-to-cache"),configurable:!1})}class j{constructor(e){let{copyState:t=!1,log:n=(()=>{})}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=e,this.program=null,this.stateStack=[],this.enable=!0,this.cache=t?function(e,t){if("number"==typeof(t=t||C)){const n=t,r=R[n];return r?r(e,n):e.getParameter(n)}const n=Array.isArray(t)?t:Object.keys(t),r={};for(const t of n){const n=R[t];r[t]=n?n(e,Number(t)):e.getParameter(Number(t))}return r}(e):Object.assign({},C),this.log=n,this._updateCache=this._updateCache.bind(this),Object.seal(this)}push(){this.stateStack.push({})}pop(){i(this.stateStack.length>0);const e=this.stateStack[this.stateStack.length-1];z(this.gl,e),this.stateStack.pop()}_updateCache(e){let t,n=!1;const r=this.stateStack.length>0&&this.stateStack[this.stateStack.length-1];for(const s in e){i(void 0!==s);const o=e[s],a=this.cache[s];F(o,a)||(n=!0,t=a,r&&!(s in r)&&(r[s]=a),this.cache[s]=o)}return{valueChanged:n,oldValue:t}}}function U(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{enable:n=!0,copyState:r}=t;if(i(void 0!==r),!e.state){const{polyfillContext:t}=globalThis;t&&t(e),e.state=new j(e,{copyState:r}),function(e){const t=e.useProgram.bind(e);e.useProgram=function(n){e.state.program!==n&&(t(n),e.state.program=n)}}(e);for(const t in B)N(e,t,B[t]);D(e,"getParameter"),D(e,"isEnabled")}return e.state.enable=n,e}function G(e){i(e.state),e.state.pop()}function z(e,t){if(i(a(e),"setParameters requires a WebGL context"),L(t))return;const n={};for(const r in t){const i=Number(r),s=O[r];s&&("string"==typeof s?n[s]=!0:s(e,t[r],i))}const r=e.state&&e.state.cache;if(r)for(const i in n)(0,M[i])(e,t,r)}function V(e){z(e,C)}function H(e,t,n){if(L(t))return n(e);const{nocatch:r=!0}=t;let i;if(function(e){e.state||U(e,{copyState:!1}),e.state.push()}(e),z(e,t),r)i=n(e),G(e);else try{i=n(e)}finally{G(e)}return i}function Z(e){const{luma:t}=e;if(e.canvas&&t){const n=t.canvasSizeInfo,r="clientWidth"in n?n.clientWidth:e.canvas.clientWidth;return r?e.drawingBufferWidth/r:1}return 1}function W(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(e,t,n,r,i){const s=J(e[0],t,n);let o=K(e[1],t,r,i),a=J(e[0]+1,t,n);const l=a===n-1?a:a-1;let c;return a=K(e[1]+1,t,r,i),i?(a=0===a?a:a+1,c=o,o=a):c=a===r-1?a:a-1,{x:s,y:o,width:Math.max(l-s+1,1),height:Math.max(c-o+1,1)}}(t,Z(e),e.drawingBufferWidth,e.drawingBufferHeight,n)}function J(e,t,n){return Math.min(Math.round(e*t),n-1)}function K(e,t,n,r){return r?Math.max(0,n-1-Math.round(e*t)):Math.min(Math.round(e*t),n-1)}const X=(0,n(3370).Z)(),q=X&&"undefined"!=typeof document,Y={webgl2:!0,webgl1:!0,throwOnError:!0,manageState:!0,canvas:null,debug:!1,width:800,height:600};function Q(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(X,"createGLContext only available in the browser.\nCreate your own headless context or use 'createHeadlessContext' from @luma.gl/test-utils"),e=Object.assign({},Y,e);const{width:t,height:n}=e;function s(t){if(e.throwOnError)throw new Error(t);return console.error(t),null}let o;e.onError=s;const{canvas:a}=e,c=function(e){let t,{canvas:n,width:r=800,height:i=600,onError:s}=e;return"string"==typeof n?(q&&"complete"===document.readyState||s("createGLContext called on canvas '".concat(n,"' before page was loaded")),t=document.getElementById(n)):n?t=n:(t=document.createElement("canvas"),t.id="lumagl-canvas",t.style.width=Number.isFinite(r)?"".concat(r,"px"):"100%",t.style.height=Number.isFinite(i)?"".concat(i,"px"):"100%",document.body.insertBefore(t,document.body.firstChild)),t}({canvas:a,width:t,height:n,onError:s});return o=function(e,t){const{onError:n}=t;let r=null;const i=e=>r=e.statusMessage||r;e.addEventListener("webglcontextcreationerror",i,!1);const{webgl1:s=!0,webgl2:o=!0}=t;let a=null;return o&&(a=a||e.getContext("webgl2",t),a=a||e.getContext("experimental-webgl2",t)),s&&(a=a||e.getContext("webgl",t),a=a||e.getContext("experimental-webgl",t)),e.removeEventListener("webglcontextcreationerror",i,!1),a?(t.onContextLost&&e.addEventListener("webglcontextlost",t.onContextLost,!1),t.onContextRestored&&e.addEventListener("webglcontextrestored",t.onContextRestored,!1),a):n("Failed to create ".concat(o&&!s?"WebGL2":"WebGL"," context: ").concat(r||"Unknown error"))}(c,e),o?(o=$(o,e),function(e){const t=l(e)?"WebGL2":"WebGL1",n=function(e){const t=e.getParameter(7936),n=e.getParameter(7937),r=e.getExtension("WEBGL_debug_renderer_info");return{vendor:r&&e.getParameter(r.UNMASKED_VENDOR_WEBGL||7936)||t,renderer:r&&e.getParameter(r.UNMASKED_RENDERER_WEBGL||7937)||n,vendorMasked:t,rendererMasked:n,version:e.getParameter(7938),shadingLanguageVersion:e.getParameter(35724)}}(e),i=n?"(".concat(n.vendor,",").concat(n.renderer,")"):"",s=e.debug?" debug":"";r.info(1,"".concat(t).concat(s," context ").concat(i))()}(o),o):null}function $(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||e._instrumented)return e;e._version=e._version||function(e){return"undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext?2:1}(e),e.luma=e.luma||{},e.luma.canvasSizeInfo=e.luma.canvasSizeInfo||{},t=Object.assign({},Y,t);const{manageState:n,debug:i}=t;return n&&U(e,{copyState:!1,log:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.log(1,...t)()}}),X&&i&&(globalThis.makeDebugContext?(e=globalThis.makeDebugContext(e,t),r.level=Math.max(r.level,1)):r.warn('WebGL debug mode not activated. import "@luma.gl/debug" to enable.')()),e._instrumented=!0,e}function ee(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.canvas)return void function(e,t,n){let i="width"in n?n.width:e.canvas.clientWidth,s="height"in n?n.height:e.canvas.clientHeight;i&&s||(r.log(1,"Canvas clientWidth/clientHeight is 0")(),t=1,i=e.canvas.width||1,s=e.canvas.height||1),e.luma=e.luma||{},e.luma.canvasSizeInfo=e.luma.canvasSizeInfo||{};const o=e.luma.canvasSizeInfo;if(o.clientWidth!==i||o.clientHeight!==s||o.devicePixelRatio!==t){let n=t;const o=Math.floor(i*n),a=Math.floor(s*n);e.canvas.width=o,e.canvas.height=a,e.drawingBufferWidth===o&&e.drawingBufferHeight===a||(r.warn("Device pixel ratio clamped")(),n=Math.min(e.drawingBufferWidth/i,e.drawingBufferHeight/s),e.canvas.width=Math.floor(i*n),e.canvas.height=Math.floor(s*n)),Object.assign(e.luma.canvasSizeInfo,{clientWidth:i,clientHeight:s,devicePixelRatio:t})}}(e,function(e){const t="undefined"==typeof window?1:window.devicePixelRatio||1;return Number.isFinite(e)?e<=0?1:e:e?t:1}(t.useDevicePixels),t);const n=e.getExtension("STACKGL_resize_drawingbuffer");n&&"width"in t&&"height"in t&&n.resize(t.width,t.height)}},5682:(e,t,n)=>{"use strict";n.d(t,{H:()=>r,Y:()=>i});const r="vs",i="fs"},6713:(e,t,n)=>{"use strict";n.d(t,{O_:()=>o,Lm:()=>h,ZP:()=>u});var r=n(5682),i=n(9047);const s={[r.H]:"#ifdef MODULE_LOGDEPTH\n  logdepth_adjustPosition(gl_Position);\n#endif\n",[r.Y]:"#ifdef MODULE_MATERIAL\n  gl_FragColor = material_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LIGHTING\n  gl_FragColor = lighting_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_FOG\n  gl_FragColor = fog_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_PICKING\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LOGDEPTH\n  logdepth_setFragDepth();\n#endif\n"},o="__LUMA_INJECT_DECLARATIONS__",a=/void\s+main\s*\([^)]*\)\s*\{\n?/,l=/}\n?[^{}]*$/,c=[];function u(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const u=t===r.H;for(const t in n){const r=n[t];r.sort(((e,t)=>e.order-t.order)),c.length=r.length;for(let e=0,t=r.length;e<t;++e)c[e]=r[e].injection;const i="".concat(c.join("\n"),"\n");switch(t){case"vs:#decl":u&&(e=e.replace(o,i));break;case"vs:#main-start":u&&(e=e.replace(a,(e=>e+i)));break;case"vs:#main-end":u&&(e=e.replace(l,(e=>i+e)));break;case"fs:#decl":u||(e=e.replace(o,i));break;case"fs:#main-start":u||(e=e.replace(a,(e=>e+i)));break;case"fs:#main-end":u||(e=e.replace(l,(e=>i+e)));break;default:e=e.replace(t,(e=>e+i))}}return e=e.replace(o,""),i&&(e=e.replace(/\}\s*$/,(e=>e+s[t]))),e}function h(e){const t={};return(0,i.Z)(Array.isArray(e)&&e.length>1),e.forEach((e=>{for(const n in e)t[n]=t[n]?"".concat(t[n],"\n").concat(e[n]):e[n]})),t}},7024:(e,t,n)=>{"use strict";n.d(t,{H:()=>o});const r="#if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))\n\nstruct AmbientLight {\n vec3 color;\n};\n\nstruct PointLight {\n vec3 color;\n vec3 position;\n vec3 attenuation;\n};\n\nstruct DirectionalLight {\n  vec3 color;\n  vec3 direction;\n};\n\nuniform AmbientLight lighting_uAmbientLight;\nuniform PointLight lighting_uPointLight[MAX_LIGHTS];\nuniform DirectionalLight lighting_uDirectionalLight[MAX_LIGHTS];\nuniform int lighting_uPointLightCount;\nuniform int lighting_uDirectionalLightCount;\n\nuniform bool lighting_uEnabled;\n\nfloat getPointLightAttenuation(PointLight pointLight, float distance) {\n  return pointLight.attenuation.x\n       + pointLight.attenuation.y * distance\n       + pointLight.attenuation.z * distance * distance;\n}\n\n#endif\n",i={lightSources:{}};function s(){let{color:e=[0,0,0],intensity:t=1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.map((e=>e*t/255))}const o={name:"lights",vs:r,fs:r,getUniforms:function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;if("lightSources"in t){const{ambientLight:e,pointLights:n,directionalLights:r}=t.lightSources||{};return e||n&&n.length>0||r&&r.length>0?Object.assign({},function(e){let{ambientLight:t,pointLights:n=[],directionalLights:r=[]}=e;const i={};return i["lighting_uAmbientLight.color"]=t?s(t):[0,0,0],n.forEach(((e,t)=>{i["lighting_uPointLight[".concat(t,"].color")]=s(e),i["lighting_uPointLight[".concat(t,"].position")]=e.position,i["lighting_uPointLight[".concat(t,"].attenuation")]=e.attenuation||[1,0,0]})),i.lighting_uPointLightCount=n.length,r.forEach(((e,t)=>{i["lighting_uDirectionalLight[".concat(t,"].color")]=s(e),i["lighting_uDirectionalLight[".concat(t,"].direction")]=e.direction})),i.lighting_uDirectionalLightCount=r.length,i}({ambientLight:e,pointLights:n,directionalLights:r}),{lighting_uEnabled:!0}):{lighting_uEnabled:!1}}if("lights"in t){const n={pointLights:[],directionalLights:[]};for(const e of t.lights||[])switch(e.type){case"ambient":n.ambientLight=e;break;case"directional":n.directionalLights.push(e);break;case"point":n.pointLights.push(e)}return e({lightSources:n})}return{}},defines:{MAX_LIGHTS:3}}},9047:(e,t,n)=>{"use strict";function r(e,t){if(!e)throw new Error(t||"shadertools: assertion failed.")}n.d(t,{Z:()=>r})},4072:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(9335),i=n(2525),s=n(2610);const o={offset:0,stride:0,type:5126,size:1,divisor:0,normalized:!1,integer:!1},a={deprecatedProps:{instanced:"divisor",isInstanced:"divisor"}};class l{static getBytesPerElement(e){return(0,r.vN)(e.type||5126).BYTES_PER_ELEMENT}static getBytesPerVertex(e){return(0,i.h)(e.size),(0,r.vN)(e.type||5126).BYTES_PER_ELEMENT*e.size}static resolve(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new l(...[o,...t])}constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((e=>this._assign(e))),Object.freeze(this)}toString(){return JSON.stringify(this)}get BYTES_PER_ELEMENT(){return l.getBytesPerElement(this)}get BYTES_PER_VERTEX(){return l.getBytesPerVertex(this)}_assign(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=(0,s.k)("Accessor",e,a),void 0!==e.type&&(this.type=e.type,5124!==e.type&&5125!==e.type||(this.integer=!0)),void 0!==e.size&&(this.size=e.size),void 0!==e.offset&&(this.offset=e.offset),void 0!==e.stride&&(this.stride=e.stride),void 0!==e.normalized&&(this.normalized=e.normalized),void 0!==e.integer&&(this.integer=e.integer),void 0!==e.divisor&&(this.divisor=e.divisor),void 0!==e.buffer&&(this.buffer=e.buffer),void 0!==e.index&&("boolean"==typeof e.index?this.index=e.index?1:0:this.index=e.index),void 0!==e.instanced&&(this.divisor=e.instanced?1:0),void 0!==e.isInstanced&&(this.divisor=e.isInstanced?1:0),this}}},3478:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(7577),i=n(4072),s=n(9335),o=n(9450),a=n(2525),l=n(2610);const c={offset:"accessor.offset",stride:"accessor.stride",type:"accessor.type",size:"accessor.size",divisor:"accessor.divisor",normalized:"accessor.normalized",integer:"accessor.integer",instanced:"accessor.divisor",isInstanced:"accessor.divisor"},u={removedProps:{},replacedProps:{bytes:"byteLength"},deprecatedProps:c},h={removedProps:c};class d extends r.Z{get[Symbol.toStringTag](){return"Buffer"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t),this.stubRemovedMethods("Buffer","v6.0",["layout","setLayout","getIndexedParameter"]),this.target=t.target||(this.gl.webgl2?36662:34962),this.initialize(t),Object.seal(this)}getElementCount(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor;return Math.round(this.byteLength/i.Z.getBytesPerElement(e))}getVertexCount(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor;return Math.round(this.byteLength/i.Z.getBytesPerVertex(e))}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ArrayBuffer.isView(e)&&(e={data:e}),Number.isFinite(e)&&(e={byteLength:e}),e=(0,l.k)("Buffer",e,u),this.usage=e.usage||35044,this.debugData=null,this.setAccessor(Object.assign({},e,e.accessor)),e.data?this._setData(e.data,e.offset,e.byteLength):this._setByteLength(e.byteLength||0),this}setProps(e){return"accessor"in(e=(0,l.k)("Buffer",e,h))&&this.setAccessor(e.accessor),this}setAccessor(e){return delete(e=Object.assign({},e)).buffer,this.accessor=new i.Z(e),this}reallocate(e){return e>this.byteLength?(this._setByteLength(e),!0):(this.bytesUsed=e,!1)}setData(e){return this.initialize(e)}subData(e){ArrayBuffer.isView(e)&&(e={data:e});const{data:t,offset:n=0,srcOffset:r=0}=e,i=e.byteLength||e.length;(0,a.h)(t);const s=this.gl.webgl2?36663:this.target;return this.gl.bindBuffer(s,this.handle),0!==r||void 0!==i?((0,o.KQ)(this.gl),this.gl.bufferSubData(this.target,n,t,r,i)):this.gl.bufferSubData(s,n,t),this.gl.bindBuffer(s,null),this.debugData=null,this._inferType(t),this}copyData(e){let{sourceBuffer:t,readOffset:n=0,writeOffset:r=0,size:i}=e;const{gl:s}=this;return(0,o.KQ)(s),s.bindBuffer(36662,t.handle),s.bindBuffer(36663,this.handle),s.copyBufferSubData(36662,36663,n,r,i),s.bindBuffer(36662,null),s.bindBuffer(36663,null),this.debugData=null,this}getData(){let{dstData:e=null,srcByteOffset:t=0,dstOffset:n=0,length:r=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.KQ)(this.gl);const i=(0,s.vN)(this.accessor.type||5126,{clamped:!1}),l=this._getAvailableElementCount(t),c=n;let u,h;e?(h=e.length,u=h-c):(u=Math.min(l,r||l),h=c+u);const d=Math.min(l,u);return r=r||d,(0,a.h)(r<=d),e=e||new i(h),this.gl.bindBuffer(36662,this.handle),this.gl.getBufferSubData(36662,t,e,n,r),this.gl.bindBuffer(36662,null),e}bind(){let{target:e=this.target,index:t=this.accessor&&this.accessor.index,offset:n=0,size:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 35345===e||35982===e?void 0!==r?this.gl.bindBufferRange(e,t,this.handle,n,r):((0,a.h)(0===n),this.gl.bindBufferBase(e,t,this.handle)):this.gl.bindBuffer(e,this.handle),this}unbind(){let{target:e=this.target,index:t=this.accessor&&this.accessor.index}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 35345===e||35982===e?this.gl.bindBufferBase(e,t,null):this.gl.bindBuffer(e,null),this}getDebugData(){return this.debugData?{data:this.debugData,changed:!1}:(this.debugData=this.getData({length:Math.min(10,this.byteLength)}),{data:this.debugData,changed:!0})}invalidateDebugData(){this.debugData=null}_setData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.byteLength+t;(0,a.h)(ArrayBuffer.isView(e)),this._trackDeallocatedMemory();const r=this._getTarget();this.gl.bindBuffer(r,this.handle),this.gl.bufferData(r,n,this.usage),this.gl.bufferSubData(r,t,e),this.gl.bindBuffer(r,null),this.debugData=e.slice(0,10),this.bytesUsed=n,this._trackAllocatedMemory(n);const o=(0,s.O)(e);return(0,a.h)(o),this.setAccessor(new i.Z(this.accessor,{type:o})),this}_setByteLength(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.usage;(0,a.h)(e>=0),this._trackDeallocatedMemory();let n=e;0===e&&(n=new Float32Array(0));const r=this._getTarget();return this.gl.bindBuffer(r,this.handle),this.gl.bufferData(r,n,t),this.gl.bindBuffer(r,null),this.usage=t,this.debugData=null,this.bytesUsed=e,this._trackAllocatedMemory(e),this}_getTarget(){return this.gl.webgl2?36663:this.target}_getAvailableElementCount(e){const t=e/(0,s.vN)(this.accessor.type||5126,{clamped:!1}).BYTES_PER_ELEMENT;return this.getElementCount()-t}_inferType(e){this.accessor.type||this.setAccessor(new i.Z(this.accessor,{type:(0,s.O)(e)}))}_createHandle(){return this.gl.createBuffer()}_deleteHandle(){this.gl.deleteBuffer(this.handle),this._trackDeallocatedMemory()}_getParameter(e){this.gl.bindBuffer(this.target,this.handle);const t=this.gl.getBufferParameter(this.target,e);return this.gl.bindBuffer(this.target,null),t}get type(){return o.cM.deprecated("Buffer.type","Buffer.accessor.type")(),this.accessor.type}get bytes(){return o.cM.deprecated("Buffer.bytes","Buffer.byteLength")(),this.byteLength}setByteLength(e){return o.cM.deprecated("setByteLength","reallocate")(),this.reallocate(e)}updateAccessor(e){return o.cM.deprecated("updateAccessor(...)","setAccessor(new Accessor(buffer.accessor, ...)")(),this.accessor=new i.Z(this.accessor,e),this}}},6047:(e,t,n)=>{"use strict";n.d(t,{$:()=>p,Z:()=>f});var r=n(9450),i=n(2525);const s=256,o=1024,a=16384,l=6144,c=6145,u=6146,h=34041,d="clear: bad arguments";function f(e){let{framebuffer:t=null,color:n=null,depth:l=null,stencil:c=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const u={};t&&(u.framebuffer=t);let h=0;n&&(h|=a,!0!==n&&(u.clearColor=n)),l&&(h|=s,!0!==l&&(u.clearDepth=l)),c&&(h|=o,!0!==l&&(u.clearStencil=l)),(0,i.h)(0!==h,d),(0,r.s8)(e,u,(()=>{e.clear(h)}))}function p(e){let{framebuffer:t=null,buffer:n=l,drawBuffer:s=0,value:o=[0,0,0,0]}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.KQ)(e),(0,r.s8)(e,{framebuffer:t},(()=>{switch(n){case l:switch(o.constructor){case Int32Array:e.clearBufferiv(n,s,o);break;case Uint32Array:e.clearBufferuiv(n,s,o);break;case Float32Array:default:e.clearBufferfv(n,s,o)}break;case c:e.clearBufferfv(c,0,[o]);break;case u:e.clearBufferiv(u,0,[o]);break;case h:const[t,r]=o;e.clearBufferfi(h,0,t,r);break;default:(0,i.h)(!1,d)}}))}},1953:(e,t,n)=>{"use strict";n.d(t,{Km:()=>u,Lv:()=>h,z6:()=>c});var r=n(3849),i=n(5008),s=n(9450),o=n(9335),a=n(2525),l=n(5432);function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{sourceX:n=0,sourceY:r=0,sourceFormat:i=6408}=t;let{sourceAttachment:s=36064,target:l=null,sourceWidth:c,sourceHeight:u,sourceType:h}=t;const{framebuffer:f,deleteFramebuffer:p}=d(e);(0,a.h)(f);const{gl:g,handle:m,attachments:v}=f;c=c||f.width,u=u||f.height,36064===s&&null===m&&(s=1028),(0,a.h)(v[s]),h=h||v[s].type,l=function(e,t,n,r,i){if(e)return e;t=t||5121;const s=(0,o.vN)(t,{clamped:!1}),l=function(e){switch(e){case 6406:case 33326:case 6403:return 1;case 33328:case 33319:return 2;case 6407:case 34837:return 3;case 6408:case 34836:return 4;default:return(0,a.h)(!1),0}}(n);return new s(r*i*l)}(l,h,i,c,u),h=h||(0,o.O)(l);const y=g.bindFramebuffer(36160,m);return g.readPixels(n,r,c,u,i,h,l),g.bindFramebuffer(36160,y||null),p&&f.delete(),l}function u(e){let{sourceAttachment:t=36064,targetMaxHeight:n=Number.MAX_SAFE_INTEGER}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=c(e,{sourceAttachment:t}),{width:i,height:s}=e;for(;s>n;)({data:r,width:i,height:s}=(0,o.KS)({data:r,width:i,height:s}));(0,o.c$)({data:r,width:i,height:s});const a=document.createElement("canvas");a.width=i,a.height=s;const l=a.getContext("2d"),u=l.createImageData(i,s);return u.data.set(r),l.putImageData(u,0,0),a.toDataURL()}function h(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{sourceX:r=0,sourceY:o=0,targetMipmaplevel:l=0,targetInternalFormat:c=6408}=n;let{targetX:u,targetY:h,targetZ:f,width:p,height:g}=n;const{framebuffer:m,deleteFramebuffer:v}=d(e);(0,a.h)(m);const{gl:y,handle:b}=m,w=void 0!==u||void 0!==h||void 0!==f;u=u||0,h=h||0,f=f||0;const _=y.bindFramebuffer(36160,b);(0,a.h)(t);let A=null;if(t instanceof i.Z&&(A=t,p=Number.isFinite(p)?p:A.width,g=Number.isFinite(g)?g:A.height,A.bind(0),t=A.target),w)switch(t){case 3553:case 34067:y.copyTexSubImage2D(t,l,u,h,r,o,p,g);break;case 35866:case 32879:(0,s.KQ)(y).copyTexSubImage3D(t,l,u,h,f,r,o,p,g)}else y.copyTexImage2D(t,l,c,r,o,p,g,0);return A&&A.unbind(),y.bindFramebuffer(36160,_||null),v&&m.delete(),A}function d(e){return e instanceof r.Z?{framebuffer:e,deleteFramebuffer:!1}:{framebuffer:(0,l.Y)(e),deleteFramebuffer:!0}}},3849:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(9450),i=n(7577),s=n(4912),o=n(9830),a=n(6047),l=n(1953),c=n(4211),u=n(9579),h=n(2525);const d="Multiple render targets not supported";class f extends i.Z{get[Symbol.toStringTag](){return"Framebuffer"}static isSupported(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{colorBufferFloat:n,colorBufferHalfFloat:r}=t;let i=!0;return n&&(i=Boolean(e.getExtension("EXT_color_buffer_float")||e.getExtension("WEBGL_color_buffer_float")||e.getExtension("OES_texture_float"))),r&&(i=i&&Boolean(e.getExtension("EXT_color_buffer_float")||e.getExtension("EXT_color_buffer_half_float"))),i}static getDefaultFramebuffer(e){return e.luma=e.luma||{},e.luma.defaultFramebuffer=e.luma.defaultFramebuffer||new f(e,{id:"default-framebuffer",handle:null,attachments:{}}),e.luma.defaultFramebuffer}get MAX_COLOR_ATTACHMENTS(){const e=(0,r.KQ)(this.gl);return e.getParameter(e.MAX_COLOR_ATTACHMENTS)}get MAX_DRAW_BUFFERS(){const e=(0,r.KQ)(this.gl);return e.getParameter(e.MAX_DRAW_BUFFERS)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t),this.width=null,this.height=null,this.attachments={},this.readBuffer=36064,this.drawBuffers=[36064],this.ownResources=[],this.initialize(t),Object.seal(this)}get color(){return this.attachments[36064]||null}get texture(){return this.attachments[36064]||null}get depth(){return this.attachments[36096]||this.attachments[33306]||null}get stencil(){return this.attachments[36128]||this.attachments[33306]||null}initialize(e){let{width:t=1,height:n=1,attachments:r=null,color:i=!0,depth:s=!0,stencil:o=!1,check:a=!0,readBuffer:l,drawBuffers:c}=e;if((0,h.h)(t>=0&&n>=0,"Width and height need to be integers"),this.width=t,this.height=n,r)for(const e in r){const i=r[e];(Array.isArray(i)?i[0]:i).resize({width:t,height:n})}else r=this._createDefaultAttachments(i,s,o,t,n);this.update({clearAttachments:!0,attachments:r,readBuffer:l,drawBuffers:c}),r&&a&&this.checkStatus()}delete(){for(const e of this.ownResources)e.delete();return super.delete(),this}update(e){let{attachments:t={},readBuffer:n,drawBuffers:r,clearAttachments:i=!1,resizeAttachments:s=!0}=e;this.attach(t,{clearAttachments:i,resizeAttachments:s});const{gl:o}=this,a=o.bindFramebuffer(36160,this.handle);return n&&this._setReadBuffer(n),r&&this._setDrawBuffers(r),o.bindFramebuffer(36160,a||null),this}resize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{width:t,height:n}=e;if(null===this.handle)return(0,h.h)(void 0===t&&void 0===n),this.width=this.gl.drawingBufferWidth,this.height=this.gl.drawingBufferHeight,this;void 0===t&&(t=this.gl.drawingBufferWidth),void 0===n&&(n=this.gl.drawingBufferHeight),t!==this.width&&n!==this.height&&r.cM.log(2,"Resizing framebuffer ".concat(this.id," to ").concat(t,"x").concat(n))();for(const e in this.attachments)this.attachments[e].resize({width:t,height:n});return this.width=t,this.height=n,this}attach(e){let{clearAttachments:t=!1,resizeAttachments:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r={};t&&Object.keys(this.attachments).forEach((e=>{r[e]=null})),Object.assign(r,e);const i=this.gl.bindFramebuffer(36160,this.handle);for(const e in r){(0,h.h)(void 0!==e,"Misspelled framebuffer binding point?");const t=Number(e),i=r[t];let s=i;if(s)if(s instanceof o.Z)this._attachRenderbuffer({attachment:t,renderbuffer:s});else if(Array.isArray(i)){const[e,n=0,r=0]=i;s=e,this._attachTexture({attachment:t,texture:e,layer:n,level:r})}else this._attachTexture({attachment:t,texture:s,layer:0,level:0});else this._unattach(t);n&&s&&s.resize({width:this.width,height:this.height})}this.gl.bindFramebuffer(36160,i||null),Object.assign(this.attachments,e),Object.keys(this.attachments).filter((e=>!this.attachments[e])).forEach((e=>{delete this.attachments[e]}))}checkStatus(){const{gl:e}=this,t=this.getStatus();if(36053!==t)throw new Error(function(e){return(f.STATUS||{})[e]||"Framebuffer error ".concat(e)}(t));return this}getStatus(){const{gl:e}=this,t=e.bindFramebuffer(36160,this.handle),n=e.checkFramebufferStatus(36160);return e.bindFramebuffer(36160,t||null),n}clear(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{color:t,depth:n,stencil:r,drawBuffers:i=[]}=e,s=this.gl.bindFramebuffer(36160,this.handle);return(t||n||r)&&(0,a.Z)(this.gl,{color:t,depth:n,stencil:r}),i.forEach(((e,t)=>{(0,a.$)(this.gl,{drawBuffer:t,value:e})})),this.gl.bindFramebuffer(36160,s||null),this}readPixels(){return r.cM.error("Framebuffer.readPixels() is no logner supported, use readPixelsToArray(framebuffer)")(),null}readPixelsToBuffer(){return r.cM.error("Framebuffer.readPixelsToBuffer()is no logner supported, use readPixelsToBuffer(framebuffer)")(),null}copyToDataUrl(){return r.cM.error("Framebuffer.copyToDataUrl() is no logner supported, use copyToDataUrl(framebuffer)")(),null}copyToImage(){return r.cM.error("Framebuffer.copyToImage() is no logner supported, use copyToImage(framebuffer)")(),null}copyToTexture(){return r.cM.error("Framebuffer.copyToTexture({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}blit(){return r.cM.error("Framebuffer.blit({...}) is no logner supported, use blit(source, target, opts)")(),null}invalidate(e){let{attachments:t=[],x:n=0,y:i=0,width:s,height:o}=e;const a=(0,r.KQ)(this.gl),l=a.bindFramebuffer(36008,this.handle);return 0===n&&0===i&&void 0===s&&void 0===o?a.invalidateFramebuffer(36008,t):a.invalidateFramebuffer(36008,t,n,i,s,o),a.bindFramebuffer(36008,l),this}getAttachmentParameter(e,t,n){let r=this._getAttachmentParameterFallback(t);return null===r&&(this.gl.bindFramebuffer(36160,this.handle),r=this.gl.getFramebufferAttachmentParameter(36160,e,t),this.gl.bindFramebuffer(36160,null)),n&&r>1e3&&(r=(0,u.km)(this.gl,r)),r}getAttachmentParameters(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:36064,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.constructor.ATTACHMENT_PARAMETERS||[];const r={};for(const i of n)r[t?(0,u.km)(this.gl,i):i]=this.getAttachmentParameter(e,i,t);return r}getParameters(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=Object.keys(this.attachments),n={};for(const r of t){const t=Number(r);n[e?(0,u.km)(this.gl,t):t]=this.getAttachmentParameters(t,e)}return n}show(){return"undefined"!=typeof window&&window.open((0,l.Km)(this),"luma-debug-texture"),this}log(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e>r.cM.level||"undefined"==typeof window)return this;t=t||"Framebuffer ".concat(this.id);const n=(0,l.Km)(this,{targetMaxHeight:100});return r.cM.image({logLevel:e,message:t,image:n},t)(),this}bind(){let{target:e=36160}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.gl.bindFramebuffer(e,this.handle),this}unbind(){let{target:e=36160}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.gl.bindFramebuffer(e,null),this}_createDefaultAttachments(e,t,n,r,i){let a=null;return e&&(a=a||{},a[36064]=new s.Z(this.gl,{id:"".concat(this.id,"-color0"),pixels:null,format:6408,type:5121,width:r,height:i,mipmaps:!1,parameters:{10241:9729,10240:9729,10242:33071,10243:33071}}),this.ownResources.push(a[36064])),t&&n?(a=a||{},a[33306]=new o.Z(this.gl,{id:"".concat(this.id,"-depth-stencil"),format:35056,width:r,height:111}),this.ownResources.push(a[33306])):t?(a=a||{},a[36096]=new o.Z(this.gl,{id:"".concat(this.id,"-depth"),format:33189,width:r,height:i}),this.ownResources.push(a[36096])):n&&(0,h.h)(!1),a}_unattach(e){const t=this.attachments[e];t&&(t instanceof o.Z?this.gl.framebufferRenderbuffer(36160,e,36161,null):this.gl.framebufferTexture2D(36160,e,3553,null,0),delete this.attachments[e])}_attachRenderbuffer(e){let{attachment:t=36064,renderbuffer:n}=e;const{gl:r}=this;r.framebufferRenderbuffer(36160,t,36161,n.handle),this.attachments[t]=n}_attachTexture(e){let{attachment:t=36064,texture:n,layer:i,level:s}=e;const{gl:o}=this;switch(o.bindTexture(n.target,n.handle),n.target){case 35866:case 32879:(0,r.KQ)(o).framebufferTextureLayer(36160,t,n.target,s,i);break;case 34067:const e=function(e){return e<34069?e+34069:e}(i);o.framebufferTexture2D(36160,t,e,n.handle,s);break;case 3553:o.framebufferTexture2D(36160,t,3553,n.handle,s);break;default:(0,h.h)(!1,"Illegal texture type")}o.bindTexture(n.target,null),this.attachments[t]=n}_setReadBuffer(e){const t=(0,r.vd)(this.gl);t?t.readBuffer(e):(0,h.h)(36064===e||1029===e,d),this.readBuffer=e}_setDrawBuffers(e){const{gl:t}=this,n=(0,r.KQ)(t);if(n)n.drawBuffers(e);else{const n=t.getExtension("WEBGL_draw_buffers");n?n.drawBuffersWEBGL(e):(0,h.h)(1===e.length&&(36064===e[0]||1029===e[0]),d)}this.drawBuffers=e}_getAttachmentParameterFallback(e){const t=(0,c.N$)(this.gl);switch(e){case 36052:return t.WEBGL2?null:0;case 33298:case 33299:case 33300:case 33301:case 33302:case 33303:return t.WEBGL2?null:8;case 33297:return t.WEBGL2?null:5125;case 33296:return t.WEBGL2||t.EXT_sRGB?null:9729;default:return null}}_createHandle(){return this.gl.createFramebuffer()}_deleteHandle(){this.gl.deleteFramebuffer(this.handle)}_bindHandle(e){return this.gl.bindFramebuffer(36160,e)}}f.ATTACHMENT_PARAMETERS=[36049,36048,33296,33298,33299,33300,33301,33302,33303]},7944:(e,t,n)=>{"use strict";n.d(t,{Z:()=>j});var r=n(7577),i=n(5008),s=n(3849),o=n(9450),a=n(9830),l=n(2525);const c={5126:E.bind(null,"uniform1fv",g,1,C),35664:E.bind(null,"uniform2fv",g,2,C),35665:E.bind(null,"uniform3fv",g,3,C),35666:E.bind(null,"uniform4fv",g,4,C),5124:E.bind(null,"uniform1iv",m,1,C),35667:E.bind(null,"uniform2iv",m,2,C),35668:E.bind(null,"uniform3iv",m,3,C),35669:E.bind(null,"uniform4iv",m,4,C),35670:E.bind(null,"uniform1iv",m,1,C),35671:E.bind(null,"uniform2iv",m,2,C),35672:E.bind(null,"uniform3iv",m,3,C),35673:E.bind(null,"uniform4iv",m,4,C),35674:E.bind(null,"uniformMatrix2fv",g,4,x),35675:E.bind(null,"uniformMatrix3fv",g,9,x),35676:E.bind(null,"uniformMatrix4fv",g,16,x),35678:A,35680:A,5125:E.bind(null,"uniform1uiv",v,1,C),36294:E.bind(null,"uniform2uiv",v,2,C),36295:E.bind(null,"uniform3uiv",v,3,C),36296:E.bind(null,"uniform4uiv",v,4,C),35685:E.bind(null,"uniformMatrix2x3fv",g,6,x),35686:E.bind(null,"uniformMatrix2x4fv",g,8,x),35687:E.bind(null,"uniformMatrix3x2fv",g,6,x),35688:E.bind(null,"uniformMatrix3x4fv",g,12,x),35689:E.bind(null,"uniformMatrix4x2fv",g,8,x),35690:E.bind(null,"uniformMatrix4x3fv",g,12,x),35678:A,35680:A,35679:A,35682:A,36289:A,36292:A,36293:A,36298:A,36299:A,36300:A,36303:A,36306:A,36307:A,36308:A,36311:A},u={},h={},d={},f=[0];function p(e,t,n,r){1===t&&"boolean"==typeof e&&(e=e?1:0),Number.isFinite(e)&&(f[0]=e,e=f);const i=e.length;if(i%t&&o.cM.warn("Uniform size should be multiples of ".concat(t),e)(),e instanceof n)return e;let s=r[i];s||(s=new n(i),r[i]=s);for(let t=0;t<i;t++)s[t]=e[t];return s}function g(e,t){return p(e,t,Float32Array,u)}function m(e,t){return p(e,t,Int32Array,h)}function v(e,t){return p(e,t,Uint32Array,d)}function y(e,t,n){const r=c[n.type];if(!r)throw new Error("Unknown GLSL uniform type ".concat(n.type));return r().bind(null,e,t)}function b(e){if("]"!==e[e.length-1])return{name:e,length:1,isArray:!1};const t=e.match(/([^[]*)(\[[0-9]+\])?/);if(!t||t.length<2)throw new Error("Failed to parse GLSL uniform name ".concat(e));return{name:t[1],length:t[2]||1,isArray:Boolean(t[2])}}function w(e){return Array.isArray(e)||ArrayBuffer.isView(e)?function(e){if(0===e.length)return!1;const t=Math.min(e.length,16);for(let n=0;n<t;++n)if(!Number.isFinite(e[n]))return!1;return!0}(e):!!isFinite(e)||!0===e||!1===e||e instanceof i.Z||e instanceof a.Z||e instanceof s.Z&&Boolean(e.texture)}function _(e,t,n){if(Array.isArray(n)||ArrayBuffer.isView(n))if(e[t]){const r=e[t];for(let e=0,t=n.length;e<t;++e)r[e]=n[e]}else e[t]=n.slice();else e[t]=n}function A(){let e=null;return(t,n,r)=>{const i=e!==r;return i&&(t.uniform1i(n,r),e=r),i}}function E(e,t,n,r){let i=null,s=null;return(o,a,c)=>{const u=t(c,n),h=u.length;let d=!1;if(null===i)i=new Float32Array(h),s=h,d=!0;else{(0,l.h)(s===h,"Uniform length cannot change.");for(let e=0;e<h;++e)if(u[e]!==i[e]){d=!0;break}}return d&&(r(o,e,a,u),i.set(u)),d}}function C(e,t,n,r){e[t](n,r)}function x(e,t,n,r){e[t](n,!1,r)}function S(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unnamed";const n=e.match(/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/);return n?n[1]:t}function T(e,t){let n="";for(let r=0;r<t.length;r++){const i=t[r];if((e[r+3]||e[r+2]||e[r+1])&&(n+="".concat(i,"\n"),e[r+1])){const t=e[r+1],i=t.split(":",3),s=i[0],o=parseInt(i[1],10)||0,a=t.substring(i.join(":").length+1).trim();n+=I("^^^ ".concat(s,": ").concat(a,"\n\n"),o)}}return n}function I(e,t){let n="";for(let e=0;e<t;++e)n+=" ";return"".concat(n).concat(e)}var O=n(4538);class P extends r.Z{get[Symbol.toStringTag](){return"Shader"}static getTypeName(e){switch(e){case 35633:return"vertex-shader";case 35632:return"fragment-shader";default:return(0,l.h)(!1),"unknown"}}constructor(e,t){(0,o.JD)(e),(0,l.h)("string"==typeof t.source,"Shader: GLSL source code must be a JavaScript string"),super(e,{id:S(t.source,null)||t.id||(0,O.hQ)("unnamed ".concat(P.getTypeName(t.shaderType)))}),this.shaderType=t.shaderType,this.source=t.source,this.initialize(t)}initialize(e){let{source:t}=e;const n=S(t,null);n&&(this.id=(0,O.hQ)(n)),this._compile(t)}getParameter(e){return this.gl.getShaderParameter(this.handle,e)}toString(){return"".concat(P.getTypeName(this.shaderType),":").concat(this.id)}getName(){return S(this.source)||"unnamed-shader"}getSource(){return this.gl.getShaderSource(this.handle)}getTranslatedSource(){const e=this.gl.getExtension("WEBGL_debug_shaders");return e?e.getTranslatedShaderSource(this.handle):"No translated source available. WEBGL_debug_shaders not implemented"}_compile(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.source;if(e.startsWith("#version ")||(e="#version 100\n".concat(e)),this.source=e,this.gl.shaderSource(this.handle,this.source),this.gl.compileShader(this.handle),!this.getParameter(35713)){const e=this.gl.getShaderInfoLog(this.handle),{shaderName:t,errors:n,warnings:r}=function(e,t,n,r){const i=e.split(/\r?\n/),s={},o={},a=r||S(t)||"(unnamed)",l="".concat(function(e){switch(e){case 35632:return"fragment";case 35633:return"vertex";default:return"unknown type"}}(n)," shader ").concat(a);for(let t=0;t<i.length;t++){const n=i[t];if(n.length<=1)continue;const r=n.split(":"),a=r[0],c=parseInt(r[2],10);if(isNaN(c))throw new Error("GLSL compilation error in ".concat(l,": ").concat(e));"WARNING"!==a?s[c]=n:o[c]=n}const c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:": ";const r=e.split(/\r?\n/),i=String(r.length+t-1).length;return r.map(((e,r)=>{const s=String(r+t),o=s.length;return I(s,i-o)+n+e}))}(t);return{shaderName:l,errors:T(s,c),warnings:T(o,c)}}(e,this.source,this.shaderType,this.id);throw o.cM.error("GLSL compilation errors in ".concat(t,"\n").concat(n))(),o.cM.warn("GLSL compilation warnings in ".concat(t,"\n").concat(r))(),new Error("GLSL compilation errors in ".concat(t))}}_deleteHandle(){this.gl.deleteShader(this.handle)}_getOptsFromHandle(){return{type:this.getParameter(35663),source:this.getSource()}}}class M extends P{get[Symbol.toStringTag](){return"VertexShader"}constructor(e,t){"string"==typeof t&&(t={source:t}),super(e,Object.assign({},t,{shaderType:35633}))}_createHandle(){return this.gl.createShader(35633)}}class B extends P{get[Symbol.toStringTag](){return"FragmentShader"}constructor(e,t){"string"==typeof t&&(t={source:t}),super(e,Object.assign({},t,{shaderType:35632}))}_createHandle(){return this.gl.createShader(35632)}}var k=n(4072),R=n(8522);class L{constructor(e){this.id=e.id,this.attributeInfos=[],this.attributeInfosByName={},this.attributeInfosByLocation=[],this.varyingInfos=[],this.varyingInfosByName={},Object.seal(this),this._readAttributesFromProgram(e),this._readVaryingsFromProgram(e)}getAttributeInfo(e){const t=Number(e);return Number.isFinite(t)?this.attributeInfosByLocation[t]:this.attributeInfosByName[e]||null}getAttributeLocation(e){const t=this.getAttributeInfo(e);return t?t.location:-1}getAttributeAccessor(e){const t=this.getAttributeInfo(e);return t?t.accessor:null}getVaryingInfo(e){const t=Number(e);return Number.isFinite(t)?this.varyingInfos[t]:this.varyingInfosByName[e]||null}getVaryingIndex(e){const t=this.getVaryingInfo();return t?t.location:-1}getVaryingAccessor(e){const t=this.getVaryingInfo();return t?t.accessor:null}_readAttributesFromProgram(e){const{gl:t}=e,n=t.getProgramParameter(e.handle,35721);for(let r=0;r<n;r++){const{name:n,type:i,size:s}=t.getActiveAttrib(e.handle,r),o=t.getAttribLocation(e.handle,n);o>=0&&this._addAttribute(o,n,i,s)}this.attributeInfos.sort(((e,t)=>e.location-t.location))}_readVaryingsFromProgram(e){const{gl:t}=e;if(!(0,o.D0)(t))return;const n=t.getProgramParameter(e.handle,35971);for(let r=0;r<n;r++){const{name:n,type:i,size:s}=t.getTransformFeedbackVarying(e.handle,r);this._addVarying(r,n,i,s)}this.varyingInfos.sort(((e,t)=>e.location-t.location))}_addAttribute(e,t,n,r){const{type:i,components:s}=(0,R.hJ)(n),o={type:i,size:r*s};this._inferProperties(e,t,o);const a={location:e,name:t,accessor:new k.Z(o)};this.attributeInfos.push(a),this.attributeInfosByLocation[e]=a,this.attributeInfosByName[a.name]=a}_inferProperties(e,t,n){/instance/i.test(t)&&(n.divisor=1)}_addVarying(e,t,n,r){const{type:i,components:s}=(0,R.hJ)(n),o={location:e,name:t,accessor:new k.Z({type:i,size:r*s})};this.varyingInfos.push(o),this.varyingInfosByName[o.name]=o}}var F=n(9579);const D=35981,N=["setVertexArray","setAttributes","setBuffers","unsetBuffers","use","getUniformCount","getUniformInfo","getUniformLocation","getUniformValue","getVarying","getFragDataLocation","getAttachedShaders","getAttributeCount","getAttributeLocation","getAttributeInfo"];class j extends r.Z{get[Symbol.toStringTag](){return"Program"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t),this.stubRemovedMethods("Program","v6.0",N),this._isCached=!1,this.initialize(t),Object.seal(this),this._setId(t.id)}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{hash:t,vs:n,fs:r,varyings:i,bufferMode:s=D}=e;return this.hash=t||"",this.vs="string"==typeof n?new M(this.gl,{id:"".concat(e.id,"-vs"),source:n}):n,this.fs="string"==typeof r?new B(this.gl,{id:"".concat(e.id,"-fs"),source:r}):r,(0,l.h)(this.vs instanceof M),(0,l.h)(this.fs instanceof B),this.uniforms={},this._textureUniforms={},i&&i.length>0&&((0,o.KQ)(this.gl),this.varyings=i,this.gl2.transformFeedbackVaryings(this.handle,i,s)),this._compileAndLink(),this._readUniformLocationsFromLinkedProgram(),this.configuration=new L(this),this.setProps(e)}delete(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isCached?this:super.delete(e)}setProps(e){return"uniforms"in e&&this.setUniforms(e.uniforms),this}draw(e){let{logPriority:t,drawMode:n=4,vertexCount:r,offset:i=0,start:s,end:a,isIndexed:c=!1,indexType:u=5123,instanceCount:h=0,isInstanced:d=h>0,vertexArray:f=null,transformFeedback:p,framebuffer:g,parameters:m={},uniforms:v,samplers:y}=e;if((v||y)&&(o.cM.deprecated("Program.draw({uniforms})","Program.setUniforms(uniforms)")(),this.setUniforms(v||{})),o.cM.priority>=t){const e=g?g.id:"default",i="mode=".concat((0,F.km)(this.gl,n)," verts=").concat(r," ")+"instances=".concat(h," indexType=").concat((0,F.km)(this.gl,u)," ")+"isInstanced=".concat(d," isIndexed=").concat(c," ")+"Framebuffer=".concat(e);o.cM.log(t,i)()}return(0,l.h)(f),this.gl.useProgram(this.handle),!(!this._areTexturesRenderable()||0===r||d&&0===h||(f.bindForDraw(r,h,(()=>{if(void 0!==g&&(m=Object.assign({},m,{framebuffer:g})),p){const e=(0,R.$Z)(n);p.begin(e)}this._bindTextures(),(0,o.s8)(this.gl,m,(()=>{c&&d?this.gl2.drawElementsInstanced(n,r,u,i,h):c&&(0,o.D0)(this.gl)&&!isNaN(s)&&!isNaN(a)?this.gl2.drawRangeElements(n,s,a,r,u,i):c?this.gl.drawElements(n,r,u,i):d?this.gl2.drawArraysInstanced(n,i,r,h):this.gl.drawArrays(n,i,r)})),p&&p.end()})),0))}setUniforms(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o.cM.priority>=2&&function(e,t,n){for(const r in e){const i=e[r];if((!n||Boolean(n[r]))&&!w(i))throw t=t?"".concat(t," "):"",console.error("".concat(t," Bad uniform ").concat(r),i),new Error("".concat(t," Bad uniform ").concat(r))}}(e,this.id,this._uniformSetters),this.gl.useProgram(this.handle);for(const t in e){const n=e[t],r=this._uniformSetters[t];if(r){let e=n,o=!1;if(e instanceof s.Z&&(e=e.texture),e instanceof i.Z)if(o=this.uniforms[t]!==n,o){void 0===r.textureIndex&&(r.textureIndex=this._textureIndexCounter++);const n=e,{textureIndex:i}=r;n.bind(i),e=i,this._textureUniforms[t]=n}else e=r.textureIndex;else this._textureUniforms[t]&&delete this._textureUniforms[t];(r(e)||o)&&_(this.uniforms,t,n)}}return this}_areTexturesRenderable(){let e=!0;for(const t in this._textureUniforms){const n=this._textureUniforms[t];n.update(),e=e&&n.loaded}return e}_bindTextures(){for(const e in this._textureUniforms){const t=this._uniformSetters[e].textureIndex;this._textureUniforms[e].bind(t)}}_createHandle(){return this.gl.createProgram()}_deleteHandle(){this.gl.deleteProgram(this.handle)}_getOptionsFromHandle(e){const t=this.gl.getAttachedShaders(e),n={};for(const e of t)switch(this.gl.getShaderParameter(this.handle,35663)){case 35633:n.vs=new M({handle:e});break;case 35632:n.fs=new B({handle:e})}return n}_getParameter(e){return this.gl.getProgramParameter(this.handle,e)}_setId(e){if(!e){const e=this._getName();this.id=(0,O.hQ)(e)}}_getName(){let e=this.vs.getName()||this.fs.getName();return e=e.replace(/shader/i,""),e=e?"".concat(e,"-program"):"program",e}_compileAndLink(){const{gl:e}=this;if(e.attachShader(this.handle,this.vs.handle),e.attachShader(this.handle,this.fs.handle),o.cM.time(4,"linkProgram for ".concat(this._getName()))(),e.linkProgram(this.handle),o.cM.timeEnd(4,"linkProgram for ".concat(this._getName()))(),e.debug||o.cM.level>0){if(!e.getProgramParameter(this.handle,35714))throw new Error("Error linking: ".concat(e.getProgramInfoLog(this.handle)));if(e.validateProgram(this.handle),!e.getProgramParameter(this.handle,35715))throw new Error("Error validating: ".concat(e.getProgramInfoLog(this.handle)))}}_readUniformLocationsFromLinkedProgram(){const{gl:e}=this;this._uniformSetters={},this._uniformCount=this._getParameter(35718);for(let t=0;t<this._uniformCount;t++){const n=this.gl.getActiveUniform(this.handle,t),{name:r}=b(n.name);let i=e.getUniformLocation(this.handle,r);if(this._uniformSetters[r]=y(e,i,n),n.size>1)for(let t=0;t<n.size;t++)i=e.getUniformLocation(this.handle,"".concat(r,"[").concat(t,"]")),this._uniformSetters["".concat(r,"[").concat(t,"]")]=y(e,i,n)}this._textureIndexCounter=0}getActiveUniforms(e,t){return this.gl2.getActiveUniforms(this.handle,e,t)}getUniformBlockIndex(e){return this.gl2.getUniformBlockIndex(this.handle,e)}getActiveUniformBlockParameter(e,t){return this.gl2.getActiveUniformBlockParameter(this.handle,e,t)}uniformBlockBinding(e,t){this.gl2.uniformBlockBinding(this.handle,e,t)}}},9830:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(7577);const i="EXT_color_buffer_float",s={33189:{bpp:2},33190:{gl2:!0,bpp:3},36012:{gl2:!0,bpp:4},36168:{bpp:1},34041:{bpp:4},35056:{gl2:!0,bpp:4},36013:{gl2:!0,bpp:5},32854:{bpp:2},36194:{bpp:2},32855:{bpp:2},33321:{gl2:!0,bpp:1},33330:{gl2:!0,bpp:1},33329:{gl2:!0,bpp:1},33332:{gl2:!0,bpp:2},33331:{gl2:!0,bpp:2},33334:{gl2:!0,bpp:4},33333:{gl2:!0,bpp:4},33323:{gl2:!0,bpp:2},33336:{gl2:!0,bpp:2},33335:{gl2:!0,bpp:2},33338:{gl2:!0,bpp:4},33337:{gl2:!0,bpp:4},33340:{gl2:!0,bpp:8},33339:{gl2:!0,bpp:8},32849:{gl2:!0,bpp:3},32856:{gl2:!0,bpp:4},32857:{gl2:!0,bpp:4},36220:{gl2:!0,bpp:4},36238:{gl2:!0,bpp:4},36975:{gl2:!0,bpp:4},36214:{gl2:!0,bpp:8},36232:{gl2:!0,bpp:8},36226:{gl2:!0,bpp:16},36208:{gl2:!0,bpp:16},33325:{gl2:i,bpp:2},33327:{gl2:i,bpp:4},34842:{gl2:i,bpp:8},33326:{gl2:i,bpp:4},33328:{gl2:i,bpp:8},34836:{gl2:i,bpp:16},35898:{gl2:i,bpp:4}};var o=n(9450),a=n(2525);class l extends r.Z{get[Symbol.toStringTag](){return"Renderbuffer"}static isSupported(e){let{format:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{format:null};return!t||function(e,t,n){const r=n[t];if(!r)return!1;const i=(0,o.D0)(e)&&r.gl2||r.gl1;return"string"==typeof i?e.getExtension(i):i}(e,t,s)}static getSamplesForFormat(e,t){let{format:n}=t;return e.getInternalformatParameter(36161,n,32937)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t),this.initialize(t),Object.seal(this)}initialize(e){let{format:t,width:n=1,height:r=1,samples:i=0}=e;return(0,a.h)(t,"Needs format"),this._trackDeallocatedMemory(),this.gl.bindRenderbuffer(36161,this.handle),0!==i&&(0,o.D0)(this.gl)?this.gl.renderbufferStorageMultisample(36161,i,t,n,r):this.gl.renderbufferStorage(36161,t,n,r),this.format=t,this.width=n,this.height=r,this.samples=i,this._trackAllocatedMemory(this.width*this.height*(this.samples||1)*s[this.format].bpp),this}resize(e){let{width:t,height:n}=e;return t!==this.width||n!==this.height?this.initialize({width:t,height:n,format:this.format,samples:this.samples}):this}_createHandle(){return this.gl.createRenderbuffer()}_deleteHandle(){this.gl.deleteRenderbuffer(this.handle),this._trackDeallocatedMemory()}_bindHandle(e){this.gl.bindRenderbuffer(36161,e)}_syncHandle(e){this.format=this.getParameter(36164),this.width=this.getParameter(36162),this.height=this.getParameter(36163),this.samples=this.getParameter(36011)}_getParameter(e){return this.gl.bindRenderbuffer(36161,this.handle),this.gl.getRenderbufferParameter(36161,e)}}},7577:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(9450),i=n(9835),s=n(9579),o=n(2525),a=n(4538),l=n(7469);const c="Resource subclass must define virtual methods";class u{get[Symbol.toStringTag](){return"Resource"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.JD)(e);const{id:n,userData:i={}}=t;this.gl=e,this.gl2=e,this.id=n||(0,a.hQ)(this[Symbol.toStringTag]),this.userData=i,this._bound=!1,this._handle=t.handle,void 0===this._handle&&(this._handle=this._createHandle()),this.byteLength=0,this._addStats()}toString(){return"".concat(this[Symbol.toStringTag]||this.constructor.name,"(").concat(this.id,")")}get handle(){return this._handle}delete(){let{deleteChildren:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this._handle&&this._deleteHandle(this._handle);return this._handle&&this._removeStats(),this._handle=null,t&&e&&t.filter(Boolean).forEach((e=>e.delete())),this}bind(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.handle;return"function"!=typeof t?(this._bindHandle(t),this):(this._bound?e=t():(this._bindHandle(this.handle),this._bound=!0,e=t(),this._bound=!1,this._bindHandle(null)),e)}unbind(){this.bind(null)}getParameter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=(0,s.sF)(this.gl,e),(0,o.h)(e);const n=(this.constructor.PARAMETERS||{})[e];if(n){const e=(0,r.D0)(this.gl);if("webgl2"in n&&!e||"extension"in n&&!this.gl.getExtension(n.extension)){const t=n.webgl1,r="webgl2"in n?n.webgl2:n.webgl1;return e?r:t}}return this._getParameter(e,t)}getParameters(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{parameters:t,keys:n}=e,i=this.constructor.PARAMETERS||{},o=(0,r.D0)(this.gl),a={},l=t||Object.keys(i);for(const t of l){const r=i[t];if(r&&(!("webgl2"in r)||o)&&(!("extension"in r)||this.gl.getExtension(r.extension))){const i=n?(0,s.km)(this.gl,t):t;a[i]=this.getParameter(t,e),n&&"GLenum"===r.type&&(a[i]=(0,s.km)(this.gl,a[i]))}}return a}setParameter(e,t){e=(0,s.sF)(this.gl,e),(0,o.h)(e);const n=(this.constructor.PARAMETERS||{})[e];if(n){const e=(0,r.D0)(this.gl);if("webgl2"in n&&!e||"extension"in n&&!this.gl.getExtension(n.extension))throw new Error("Parameter not available on this platform");"GLenum"===n.type&&(t=(0,s.sF)(t))}return this._setParameter(e,t),this}setParameters(e){for(const t in e)this.setParameter(t,e[t]);return this}stubRemovedMethods(e,t,n){return(0,l.F)(this,e,t,n)}initialize(e){}_createHandle(){throw new Error(c)}_deleteHandle(){throw new Error(c)}_bindHandle(e){throw new Error(c)}_getOptsFromHandle(){throw new Error(c)}_getParameter(e,t){throw new Error(c)}_setParameter(e,t){throw new Error(c)}_context(){return this.gl.luma=this.gl.luma||{},this.gl.luma}_addStats(){const e=this[Symbol.toStringTag],t=i.lR.get("Resource Counts");t.get("Resources Created").incrementCount(),t.get("".concat(e,"s Created")).incrementCount(),t.get("".concat(e,"s Active")).incrementCount()}_removeStats(){const e=this[Symbol.toStringTag];i.lR.get("Resource Counts").get("".concat(e,"s Active")).decrementCount()}_trackAllocatedMemory(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[Symbol.toStringTag];this._trackAllocatedMemoryForContext(e,t),this._trackAllocatedMemoryForContext(e,t,this.gl.canvas&&this.gl.canvas.id),this.byteLength=e}_trackAllocatedMemoryForContext(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[Symbol.toStringTag],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const r=i.lR.get("Memory Usage".concat(n));r.get("GPU Memory").addCount(e),r.get("".concat(t," Memory")).addCount(e)}_trackDeallocatedMemory(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this[Symbol.toStringTag];this._trackDeallocatedMemoryForContext(e),this._trackDeallocatedMemoryForContext(e,this.gl.canvas&&this.gl.canvas.id),this.byteLength=0}_trackDeallocatedMemoryForContext(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this[Symbol.toStringTag],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=i.lR.get("Memory Usage".concat(t));n.get("GPU Memory").subtractCount(this.byteLength),n.get("".concat(e," Memory")).subtractCount(this.byteLength)}}},4912:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(9450),i=n(5008),s=n(2525);class o extends i.Z{get[Symbol.toStringTag](){return"Texture2D"}static isSupported(e,t){return i.Z.isSupported(e,t)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;(0,r.JD)(e),(t instanceof Promise||"string"==typeof t)&&(t={data:t}),"string"==typeof t.data&&(t=Object.assign({},t,{data:(n=t.data,(0,s.h)("string"==typeof n),n=""+n,new Promise(((e,t)=>{try{const r=new Image;r.onload=()=>e(r),r.onerror=()=>t(new Error("Could not load image ".concat(n,"."))),r.crossOrigin="anonymous",r.src=n}catch(e){t(e)}})))})),super(e,Object.assign({},t,{target:3553})),this.initialize(t),Object.seal(this)}}},3889:(e,t,n)=>{"use strict";n.d(t,{C:()=>s,KR:()=>l,ae:()=>i,br:()=>a,pH:()=>o});var r=n(9450);const i={6407:{dataFormat:6407,types:[5121,33635]},6408:{dataFormat:6408,types:[5121,32819,32820]},6406:{dataFormat:6406,types:[5121]},6409:{dataFormat:6409,types:[5121]},6410:{dataFormat:6410,types:[5121]},33326:{dataFormat:6403,types:[5126],gl2:!0},33328:{dataFormat:33319,types:[5126],gl2:!0},34837:{dataFormat:6407,types:[5126],gl2:!0},34836:{dataFormat:6408,types:[5126],gl2:!0}},s={6403:1,36244:1,33319:2,33320:2,6407:3,36248:3,6408:4,36249:4,6402:1,34041:1,6406:1,6409:1,6410:2},o={5126:4,5125:4,5124:4,5123:2,5122:2,5131:2,5120:1,5121:1};function a(e,t){const n=i[t];if(!n)return!1;if(void 0===n.gl1&&void 0===n.gl2)return!0;const s=(0,r.D0)(e)&&n.gl2||n.gl1;return"string"==typeof s?e.getExtension(s):s}function l(e,t){const n=i[t];switch(n&&n.types[0]){case 5126:return e.getExtension("OES_texture_float_linear");case 5131:return e.getExtension("OES_texture_half_float_linear");default:return!0}}},5008:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(9450),i=n(7577),s=n(3478),o=n(3889),a=n(2525),l=n(4538);const c=[9729,9728],u=globalThis.WebGLBuffer||function(){};class h extends i.Z{get[Symbol.toStringTag](){return"Texture"}static isSupported(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{format:n,linearFiltering:r}=t;let i=!0;return n&&(i=i&&(0,o.br)(e,n),i=i&&(!r||(0,o.KR)(e,n))),i}constructor(e,t){const{id:n=(0,l.hQ)("texture"),handle:r,target:i}=t;super(e,{id:n,handle:r}),this.target=i,this.textureUnit=void 0,this.loaded=!1,this.width=void 0,this.height=void 0,this.depth=void 0,this.format=void 0,this.type=void 0,this.dataFormat=void 0,this.border=void 0,this.textureUnit=void 0,this.mipmaps=void 0}toString(){return"Texture(".concat(this.id,",").concat(this.width,"x").concat(this.height,")")}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data;if(t instanceof Promise)return t.then((t=>this.initialize(Object.assign({},e,{pixels:t,data:t})))),this;const n="undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement;if(n&&t.readyState<HTMLVideoElement.HAVE_METADATA)return this._video=null,t.addEventListener("loadeddata",(()=>this.initialize(e))),this;const{pixels:i=null,format:s=6408,border:o=0,recreate:a=!1,parameters:l={},pixelStore:c={},textureUnit:u}=e;t||(t=i);let{width:h,height:d,dataFormat:f,type:p,compressed:g=!1,mipmaps:m=!0}=e;const{depth:v=0}=e;return({width:h,height:d,compressed:g,dataFormat:f,type:p}=this._deduceParameters({format:s,type:p,dataFormat:f,compressed:g,data:t,width:h,height:d})),this.width=h,this.height=d,this.depth=v,this.format=s,this.type=p,this.dataFormat=f,this.border=o,this.textureUnit=u,Number.isFinite(this.textureUnit)&&(this.gl.activeTexture(33984+this.textureUnit),this.gl.bindTexture(this.target,this.handle)),m&&this._isNPOT()&&(r.cM.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),m=!1,this._updateForNPOT(l)),this.mipmaps=m,this.setImageData({data:t,width:h,height:d,depth:v,format:s,type:p,dataFormat:f,border:o,mipmaps:m,parameters:c,compressed:g}),m&&this.generateMipmap(),this.setParameters(l),a&&(this.data=t),n&&(this._video={video:t,parameters:l,lastTime:t.readyState>=HTMLVideoElement.HAVE_CURRENT_DATA?t.currentTime:-1}),this}update(){if(this._video){const{video:e,parameters:t,lastTime:n}=this._video;if(n===e.currentTime||e.readyState<HTMLVideoElement.HAVE_CURRENT_DATA)return;this.setSubImageData({data:e,parameters:t}),this.mipmaps&&this.generateMipmap(),this._video.lastTime=e.currentTime}}resize(e){let{height:t,width:n,mipmaps:r=!1}=e;return n!==this.width||t!==this.height?this.initialize({width:n,height:t,format:this.format,type:this.type,dataFormat:this.dataFormat,border:this.border,mipmaps:r}):this}generateMipmap(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isNPOT()?(r.cM.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),this):(this.mipmaps=!0,this.gl.bindTexture(this.target,this.handle),(0,r.s8)(this.gl,e,(()=>{this.gl.generateMipmap(this.target)})),this.gl.bindTexture(this.target,null),this)}setImageData(e){this._trackDeallocatedMemory("Texture");const{target:t=this.target,pixels:n=null,level:i=0,format:s=this.format,border:l=this.border,offset:c=0,parameters:u={}}=e;let{data:h=null,type:d=this.type,width:f=this.width,height:p=this.height,dataFormat:g=this.dataFormat,compressed:m=!1}=e;h||(h=n),({type:d,dataFormat:g,compressed:m,width:f,height:p}=this._deduceParameters({format:s,type:d,dataFormat:g,compressed:m,data:h,width:f,height:p}));const{gl:v}=this;v.bindTexture(this.target,this.handle);let y,b=null;({data:h,dataType:b}=this._getDataType({data:h,compressed:m}));let w=0;if((0,r.s8)(this.gl,u,(()=>{switch(b){case"null":v.texImage2D(t,i,s,f,p,l,g,d,h);break;case"typed-array":v.texImage2D(t,i,s,f,p,l,g,d,h,c);break;case"buffer":y=(0,r.KQ)(v),y.bindBuffer(35052,h.handle||h),y.texImage2D(t,i,s,f,p,l,g,d,c),y.bindBuffer(35052,null);break;case"browser-object":(0,r.D0)(v)?v.texImage2D(t,i,s,f,p,l,g,d,h):v.texImage2D(t,i,s,g,d,h);break;case"compressed":for(const[e,n]of h.entries())v.compressedTexImage2D(t,e,n.format,n.width,n.height,l,n.data),w+=n.levelSize;break;default:(0,a.h)(!1,"Unknown image data type")}})),"compressed"===b)this._trackAllocatedMemory(w,"Texture");else if(h&&h.byteLength)this._trackAllocatedMemory(h.byteLength,"Texture");else{const e=o.C[this.dataFormat]||4,t=o.pH[this.type]||1;this._trackAllocatedMemory(this.width*this.height*e*t,"Texture")}return this.loaded=!0,this}setSubImageData(e){let{target:t=this.target,pixels:n=null,data:i=null,x:o=0,y:l=0,width:c=this.width,height:h=this.height,level:d=0,format:f=this.format,type:p=this.type,dataFormat:g=this.dataFormat,compressed:m=!1,offset:v=0,border:y=this.border,parameters:b={}}=e;if(({type:p,dataFormat:g,compressed:m,width:c,height:h}=this._deduceParameters({format:f,type:p,dataFormat:g,compressed:m,data:i,width:c,height:h})),(0,a.h)(0===this.depth,"texSubImage not supported for 3D textures"),i||(i=n),i&&i.data){const e=i;i=e.data,c=e.shape[0],h=e.shape[1]}i instanceof s.Z&&(i=i.handle),this.gl.bindTexture(this.target,this.handle),(0,r.s8)(this.gl,b,(()=>{if(m)this.gl.compressedTexSubImage2D(t,d,o,l,c,h,f,i);else if(null===i)this.gl.texSubImage2D(t,d,o,l,c,h,g,p,null);else if(ArrayBuffer.isView(i))this.gl.texSubImage2D(t,d,o,l,c,h,g,p,i,v);else if(i instanceof u){const e=(0,r.KQ)(this.gl);e.bindBuffer(35052,i),e.texSubImage2D(t,d,o,l,c,h,g,p,v),e.bindBuffer(35052,null)}else(0,r.D0)(this.gl)?(0,r.KQ)(this.gl).texSubImage2D(t,d,o,l,c,h,g,p,i):this.gl.texSubImage2D(t,d,o,l,g,p,i)})),this.gl.bindTexture(this.target,null)}copyFramebuffer(){return r.cM.error("Texture.copyFramebuffer({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}getActiveUnit(){return this.gl.getParameter(34016)-33984}bind(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit;const{gl:t}=this;return void 0!==e&&(this.textureUnit=e,t.activeTexture(33984+e)),t.bindTexture(this.target,this.handle),e}unbind(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit;const{gl:t}=this;return void 0!==e&&(this.textureUnit=e,t.activeTexture(33984+e)),t.bindTexture(this.target,null),e}_getDataType(e){let{data:t,compressed:n=!1}=e;return n?{data:t,dataType:"compressed"}:null===t?{data:t,dataType:"null"}:ArrayBuffer.isView(t)?{data:t,dataType:"typed-array"}:t instanceof s.Z?{data:t.handle,dataType:"buffer"}:t instanceof u?{data:t,dataType:"buffer"}:{data:t,dataType:"browser-object"}}_deduceParameters(e){const{format:t,data:n}=e;let{width:r,height:i,dataFormat:s,type:a,compressed:l}=e;const c=o.ae[t];return s=s||c&&c.dataFormat,a=a||c&&c.types[0],l=l||c&&c.compressed,({width:r,height:i}=this._deduceImageSize(n,r,i)),{dataFormat:s,type:a,compressed:l,width:r,height:i,format:t,data:n}}_deduceImageSize(e,t,n){let r;return r="undefined"!=typeof ImageData&&e instanceof ImageData?{width:e.width,height:e.height}:"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement?{width:e.naturalWidth,height:e.naturalHeight}:"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?{width:e.width,height:e.height}:"undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement?{width:e.videoWidth,height:e.videoHeight}:e?{width:t,height:n}:{width:t>=0?t:1,height:n>=0?n:1},(0,a.h)(r,"Could not deduced texture size"),(0,a.h)(void 0===t||r.width===t,"Deduced texture width does not match supplied width"),(0,a.h)(void 0===n||r.height===n,"Deduced texture height does not match supplied height"),r}_createHandle(){return this.gl.createTexture()}_deleteHandle(){this.gl.deleteTexture(this.handle),this._trackDeallocatedMemory("Texture")}_getParameter(e){switch(e){case 4096:return this.width;case 4097:return this.height;default:this.gl.bindTexture(this.target,this.handle);const t=this.gl.getTexParameter(this.target,e);return this.gl.bindTexture(this.target,null),t}}_setParameter(e,t){switch(this.gl.bindTexture(this.target,this.handle),t=this._getNPOTParam(e,t),e){case 33082:case 33083:this.gl.texParameterf(this.handle,e,t);break;case 4096:case 4097:(0,a.h)(!1);break;default:this.gl.texParameteri(this.target,e,t)}return this.gl.bindTexture(this.target,null),this}_isNPOT(){return!((0,r.D0)(this.gl)||!this.width||!this.height||(0,l.wt)(this.width)&&(0,l.wt)(this.height))}_updateForNPOT(e){void 0===e[this.gl.TEXTURE_MIN_FILTER]&&(e[this.gl.TEXTURE_MIN_FILTER]=this.gl.LINEAR),void 0===e[this.gl.TEXTURE_WRAP_S]&&(e[this.gl.TEXTURE_WRAP_S]=this.gl.CLAMP_TO_EDGE),void 0===e[this.gl.TEXTURE_WRAP_T]&&(e[this.gl.TEXTURE_WRAP_T]=this.gl.CLAMP_TO_EDGE)}_getNPOTParam(e,t){if(this._isNPOT())switch(e){case 10241:-1===c.indexOf(t)&&(t=9729);break;case 10242:case 10243:33071!==t&&(t=33071)}return t}}},1053:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(9450),i=n(7577),s=n(3478),o=n(4538);class a extends i.Z{get[Symbol.toStringTag](){return"TransformFeedback"}static isSupported(e){return(0,r.D0)(e)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.KQ)(e),super(e,t),this.initialize(t),this.stubRemovedMethods("TransformFeedback","v6.0",["pause","resume"]),Object.seal(this)}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.buffers={},this.unused={},this.configuration=null,this.bindOnUse=!0,(0,o.nK)(this.buffers)||this.bind((()=>this._unbindBuffers())),this.setProps(e),this}setProps(e){"program"in e&&(this.configuration=e.program&&e.program.configuration),"configuration"in e&&(this.configuration=e.configuration),"bindOnUse"in e&&(e=e.bindOnUse),"buffers"in e&&this.setBuffers(e.buffers)}setBuffers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.bind((()=>{for(const t in e)this.setBuffer(t,e[t])})),this}setBuffer(e,t){const n=this._getVaryingIndex(e),{buffer:i,byteSize:s,byteOffset:o}=this._getBufferParams(t);return n<0?(this.unused[e]=i,r.cM.warn("".concat(this.id," unused varying buffer ").concat(e))(),this):(this.buffers[n]=t,this.bindOnUse||this._bindBuffer(n,i,o,s),this)}begin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.gl.bindTransformFeedback(36386,this.handle),this._bindBuffers(),this.gl.beginTransformFeedback(e),this}end(){return this.gl.endTransformFeedback(),this._unbindBuffers(),this.gl.bindTransformFeedback(36386,null),this}_getBufferParams(e){let t,n,r;return e instanceof s.Z==0?(r=e.buffer,n=e.byteSize,t=e.byteOffset):r=e,void 0===t&&void 0===n||(t=t||0,n=n||r.byteLength-t),{buffer:r,byteOffset:t,byteSize:n}}_getVaryingInfo(e){return this.configuration&&this.configuration.getVaryingInfo(e)}_getVaryingIndex(e){if(this.configuration)return this.configuration.getVaryingInfo(e).location;const t=Number(e);return Number.isFinite(t)?t:-1}_bindBuffers(){if(this.bindOnUse)for(const e in this.buffers){const{buffer:t,byteSize:n,byteOffset:r}=this._getBufferParams(this.buffers[e]);this._bindBuffer(e,t,r,n)}}_unbindBuffers(){if(this.bindOnUse)for(const e in this.buffers)this._bindBuffer(e,null)}_bindBuffer(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0;const i=t&&t.handle;return i&&void 0!==r?this.gl.bindBufferRange(35982,e,i,n,r):this.gl.bindBufferBase(35982,e,i),this}_createHandle(){return this.gl.createTransformFeedback()}_deleteHandle(){this.gl.deleteTransformFeedback(this.handle)}_bindHandle(e){this.gl.bindTransformFeedback(36386,this.handle)}}},4211:(e,t,n)=>{"use strict";n.d(t,{N$:()=>c,U6:()=>a,ag:()=>l});var r=n(6948),i=n(9450),s=n(2525);const o=2;function a(e,t){return l(e,t)}function l(e,t){return(t=Array.isArray(t)?t:[t]).every((t=>u(e,t)))}function c(e){e.luma=e.luma||{},e.luma.caps=e.luma.caps||{};for(const t in r.Z)void 0===e.luma.caps[t]&&(e.luma.caps[t]=u(e,t));return e.luma.caps}function u(e,t){return e.luma=e.luma||{},e.luma.caps=e.luma.caps||{},void 0===e.luma.caps[t]&&(e.luma.caps[t]=function(e,t){const n=r.Z[t];let o;(0,s.h)(n,t);const a=(0,i.D0)(e)&&n[1]||n[0];if("function"==typeof a)o=a(e);else if(Array.isArray(a)){o=!0;for(const t of a)o=o&&Boolean(e.getExtension(t))}else"string"==typeof a?o=Boolean(e.getExtension(a)):"boolean"==typeof a?o=a:(0,s.h)(!1);return o}(e,t)),e.luma.caps[t]||i.cM.log(o,"Feature: ".concat(t," not supported"))(),e.luma.caps[t]}},6948:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o,h:()=>s});var r=n(3849),i=n(4912);const s={WEBGL2:"WEBGL2",VERTEX_ARRAY_OBJECT:"VERTEX_ARRAY_OBJECT",TIMER_QUERY:"TIMER_QUERY",INSTANCED_RENDERING:"INSTANCED_RENDERING",MULTIPLE_RENDER_TARGETS:"MULTIPLE_RENDER_TARGETS",ELEMENT_INDEX_UINT32:"ELEMENT_INDEX_UINT32",BLEND_EQUATION_MINMAX:"BLEND_EQUATION_MINMAX",FLOAT_BLEND:"FLOAT_BLEND",COLOR_ENCODING_SRGB:"COLOR_ENCODING_SRGB",TEXTURE_DEPTH:"TEXTURE_DEPTH",TEXTURE_FLOAT:"TEXTURE_FLOAT",TEXTURE_HALF_FLOAT:"TEXTURE_HALF_FLOAT",TEXTURE_FILTER_LINEAR_FLOAT:"TEXTURE_FILTER_LINEAR_FLOAT",TEXTURE_FILTER_LINEAR_HALF_FLOAT:"TEXTURE_FILTER_LINEAR_HALF_FLOAT",TEXTURE_FILTER_ANISOTROPIC:"TEXTURE_FILTER_ANISOTROPIC",COLOR_ATTACHMENT_RGBA32F:"COLOR_ATTACHMENT_RGBA32F",COLOR_ATTACHMENT_FLOAT:"COLOR_ATTACHMENT_FLOAT",COLOR_ATTACHMENT_HALF_FLOAT:"COLOR_ATTACHMENT_HALF_FLOAT",GLSL_FRAG_DATA:"GLSL_FRAG_DATA",GLSL_FRAG_DEPTH:"GLSL_FRAG_DEPTH",GLSL_DERIVATIVES:"GLSL_DERIVATIVES",GLSL_TEXTURE_LOD:"GLSL_TEXTURE_LOD"},o={[s.WEBGL2]:[!1,!0],[s.VERTEX_ARRAY_OBJECT]:["OES_vertex_array_object",!0],[s.TIMER_QUERY]:["EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2"],[s.INSTANCED_RENDERING]:["ANGLE_instanced_arrays",!0],[s.MULTIPLE_RENDER_TARGETS]:["WEBGL_draw_buffers",!0],[s.ELEMENT_INDEX_UINT32]:["OES_element_index_uint",!0],[s.BLEND_EQUATION_MINMAX]:["EXT_blend_minmax",!0],[s.FLOAT_BLEND]:["EXT_float_blend"],[s.COLOR_ENCODING_SRGB]:["EXT_sRGB",!0],[s.TEXTURE_DEPTH]:["WEBGL_depth_texture",!0],[s.TEXTURE_FLOAT]:["OES_texture_float",!0],[s.TEXTURE_HALF_FLOAT]:["OES_texture_half_float",!0],[s.TEXTURE_FILTER_LINEAR_FLOAT]:["OES_texture_float_linear"],[s.TEXTURE_FILTER_LINEAR_HALF_FLOAT]:["OES_texture_half_float_linear"],[s.TEXTURE_FILTER_ANISOTROPIC]:["EXT_texture_filter_anisotropic"],[s.COLOR_ATTACHMENT_RGBA32F]:[function(e){const t=new i.Z(e,{format:6408,type:5126,dataFormat:6408}),n=new r.Z(e,{id:"test-framebuffer",check:!1,attachments:{36064:t}}),s=n.getStatus();return t.delete(),n.delete(),36053===s},"EXT_color_buffer_float"],[s.COLOR_ATTACHMENT_FLOAT]:[!1,"EXT_color_buffer_float"],[s.COLOR_ATTACHMENT_HALF_FLOAT]:["EXT_color_buffer_half_float"],[s.GLSL_FRAG_DATA]:["WEBGL_draw_buffers",!0],[s.GLSL_FRAG_DEPTH]:["EXT_frag_depth",!0],[s.GLSL_DERIVATIVES]:["OES_standard_derivatives",!0],[s.GLSL_TEXTURE_LOD]:["EXT_shader_texture_lod",!0]}},9835:(e,t,n)=>{"use strict";n.d(t,{lR:()=>a});var r=n(9450),i=n(8295),s=n(3370);const o="8.5.21",a=new class{constructor(){this.stats=new Map}get(e){return this.stats.has(e)||this.stats.set(e,new i.Z({id:e})),this.stats.get(e)}};if(globalThis.luma&&globalThis.luma.VERSION!==o)throw new Error("luma.gl - multiple VERSIONs detected: ".concat(globalThis.luma.VERSION," vs ").concat(o));globalThis.luma||((0,s.Z)()&&r.cM.log(1,"luma.gl ".concat(o," - ").concat("set luma.log.level=1 (or higher) to trace rendering"))(),globalThis.luma=globalThis.luma||{VERSION:o,version:o,log:r.cM,stats:a,globals:{modules:{},nodeIO:{}}}),globalThis.luma},2525:(e,t,n)=>{"use strict";function r(e,t){if(!e)throw new Error(t||"luma.gl: assertion failed.")}n.d(t,{h:()=>r})},2610:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});var r=n(9450);function i(e,t,n){const{removedProps:i={},deprecatedProps:s={},replacedProps:o={}}=n;for(const n in i)if(n in t){const t=i[n]?"".concat(e,".").concat(i[n]):"N/A";r.cM.removed("".concat(e,".").concat(n),t)()}for(const n in s)if(n in t){const t=s[n];r.cM.deprecated("".concat(e,".").concat(n),"".concat(e,".").concat(t))()}let a=null;for(const n in o)if(n in t){const i=o[n];r.cM.deprecated("".concat(e,".").concat(n),"".concat(e,".").concat(i))(),a=a||Object.assign({},t),a[i]=t[n],delete a[n]}return a||t}},7469:(e,t,n)=>{"use strict";n.d(t,{F:()=>i});var r=n(9450);function i(e,t,n,i){const s="See luma.gl ".concat(n," Upgrade Guide at https://luma.gl/docs/upgrade-guide"),o=Object.getPrototypeOf(e);i.forEach((e=>{o.methodName||(o[e]=()=>{throw r.cM.removed("Calling removed method ".concat(t,".").concat(e,": "),s)(),new Error(e)})}))}},4538:(e,t,n)=>{"use strict";n.d(t,{hQ:()=>s,nK:()=>a,wt:()=>o});var r=n(2525);const i={};function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";i[e]=i[e]||1;const t=i[e]++;return"".concat(e,"-").concat(t)}function o(e){return(0,r.h)("number"==typeof e,"Input must be a number"),e&&0==(e&e-1)}function a(e){let t=!0;for(const n in e){t=!1;break}return t}},8522:(e,t,n)=>{"use strict";n.d(t,{$Z:()=>b,hJ:()=>w,jG:()=>_});var r=n(2525);const i=5120,s=5121,o=5122,a=5123,l=0,c=1,u=2,h=3,d=4,f=5,p=6,g=5126,m=5124,v=5125,y={[g]:[g,1,"float"],35664:[g,2,"vec2"],35665:[g,3,"vec3"],35666:[g,4,"vec4"],[m]:[m,1,"int"],35667:[m,2,"ivec2"],35668:[m,3,"ivec3"],35669:[m,4,"ivec4"],[v]:[v,1,"uint"],36294:[v,2,"uvec2"],36295:[v,3,"uvec3"],36296:[v,4,"uvec4"],35670:[g,1,"bool"],35671:[g,2,"bvec2"],35672:[g,3,"bvec3"],35673:[g,4,"bvec4"],35674:[g,8,"mat2"],35685:[g,8,"mat2x3"],35686:[g,8,"mat2x4"],35675:[g,12,"mat3"],35687:[g,12,"mat3x2"],35688:[g,12,"mat3x4"],35676:[g,16,"mat4"],35689:[g,16,"mat4x2"],35690:[g,16,"mat4x3"]};function b(e){switch(e){case l:return l;case c:case h:case u:return c;case d:case f:case p:return d;default:return(0,r.h)(!1),0}}function w(e){const t=y[e];if(!t)return null;const[n,r]=t;return{type:n,components:r}}function _(e,t){switch(e){case i:case s:case o:case a:e=g}for(const n in y){const[r,i,s]=y[n];if(r===e&&i===t)return{glType:n,name:s}}return null}},9579:(e,t,n)=>{"use strict";n.d(t,{km:()=>s,sF:()=>i});var r=n(2525);function i(e,t){if("string"!=typeof t)return t;const n=Number(t);if(!isNaN(n))return n;const i=e[t=t.replace(/^.*\./,"")];return(0,r.h)(void 0!==i,"Accessing undefined constant GL.".concat(t)),i}function s(e,t){t=Number(t);for(const n in e)if(e[n]===t)return"GL.".concat(n);return String(t)}},5432:(e,t,n)=>{"use strict";n.d(t,{h:()=>f,Y:()=>p});var r=n(4912),i=n(9450),s=n(5008);const o=[34069,34070,34071,34072,34073,34074];class a extends s.Z{get[Symbol.toStringTag](){return"TextureCube"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.JD)(e),super(e,Object.assign({},t,{target:34067})),this.initialize(t),Object.seal(this)}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mipmaps:t=!0,parameters:n={}}=e;return this.opts=e,this.setCubeMapImageData(e).then((()=>{this.loaded=!0,t&&this.generateMipmap(e),this.setParameters(n)})),this}subImage(e){let{face:t,data:n,x:r=0,y:i=0,mipmapLevel:s=0}=e;return this._subImage({target:t,data:n,x:r,y:i,mipmapLevel:s})}async setCubeMapImageData(e){let{width:t,height:n,pixels:r,data:s,border:a=0,format:l=6408,type:c=5121}=e;const{gl:u}=this,h=r||s,d=await Promise.all(o.map((e=>{const t=h[e];return Promise.all(Array.isArray(t)?t:[t])})));this.bind(),o.forEach(((e,r)=>{d[r].length>1&&!1!==this.opts.mipmaps&&i.cM.warn("".concat(this.id," has mipmap and multiple LODs."))(),d[r].forEach(((r,i)=>{t&&n?u.texImage2D(e,i,l,t,n,a,l,c,r):u.texImage2D(e,i,l,l,c,r)}))})),this.unbind()}setImageDataForFace(e){const{face:t,width:n,height:r,pixels:i,data:s,border:o=0,format:a=6408,type:l=5121}=e,{gl:c}=this,u=i||s;return this.bind(),u instanceof Promise?u.then((n=>this.setImageDataForFace(Object.assign({},e,{face:t,data:n,pixels:n})))):this.width||this.height?c.texImage2D(t,0,a,n,r,o,a,l,u):c.texImage2D(t,0,a,a,l,u),this}}a.FACES=o;var l=n(3889),c=n(3478);class u extends s.Z{get[Symbol.toStringTag](){return"Texture3D"}static isSupported(e){return(0,i.D0)(e)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.KQ)(e),t=Object.assign({depth:1},t,{target:32879,unpackFlipY:!1}),super(e,t),this.initialize(t),Object.seal(this)}setImageData(e){let{level:t=0,dataFormat:n=6408,width:r,height:s,depth:o=1,border:a=0,format:u,type:h=5121,offset:d=0,data:f,parameters:p={}}=e;if(this._trackDeallocatedMemory("Texture"),this.gl.bindTexture(this.target,this.handle),(0,i.s8)(this.gl,p,(()=>{ArrayBuffer.isView(f)&&this.gl.texImage3D(this.target,t,n,r,s,o,a,u,h,f),f instanceof c.Z&&(this.gl.bindBuffer(35052,f.handle),this.gl.texImage3D(this.target,t,n,r,s,o,a,u,h,d))})),f&&f.byteLength)this._trackAllocatedMemory(f.byteLength,"Texture");else{const e=l.C[this.dataFormat]||4,t=l.pH[this.type]||1;this._trackAllocatedMemory(this.width*this.height*this.depth*e*t,"Texture")}return this.loaded=!0,this}}var h=n(3849),d=n(2525);function f(e,t){(0,d.h)(e instanceof r.Z||e instanceof a||e instanceof u);const n=e.constructor,{gl:i,width:s,height:o,format:l,type:c,dataFormat:h,border:f,mipmaps:p}=e;return new n(i,Object.assign({width:s,height:o,format:l,type:c,dataFormat:h,border:f,mipmaps:p},t))}function p(e,t){const{gl:n,width:r,height:i,id:s}=e;return new h.Z(n,Object.assign({},t,{id:"framebuffer-for-".concat(s),width:r,height:i,attachments:{36064:e}}))}},9335:(e,t,n)=>{"use strict";n.d(t,{KS:()=>a,O:()=>i,c$:()=>o,vN:()=>s});const r="Failed to deduce GL constant from typed array";function i(e){switch(ArrayBuffer.isView(e)?e.constructor:e){case Float32Array:return 5126;case Uint16Array:return 5123;case Uint32Array:return 5125;case Uint8Array:case Uint8ClampedArray:return 5121;case Int8Array:return 5120;case Int16Array:return 5122;case Int32Array:return 5124;default:throw new Error(r)}}function s(e){let{clamped:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e){case 5126:return Float32Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return t?Uint8ClampedArray:Uint8Array;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Failed to deduce typed array type from GL constant")}}function o(e){let{data:t,width:n,height:r,bytesPerPixel:i=4,temp:s}=e;const o=n*i;s=s||new Uint8Array(o);for(let e=0;e<r/2;++e){const n=e*o,i=(r-e-1)*o;s.set(t.subarray(n,n+o)),t.copyWithin(n,i,i+o),t.set(s,i)}}function a(e){let{data:t,width:n,height:r}=e;const i=Math.round(n/2),s=Math.round(r/2),o=new Uint8Array(i*s*4);for(let e=0;e<s;e++)for(let r=0;r<i;r++)for(let s=0;s<4;s++)o[4*(e*i+r)+s]=t[4*(2*e*n+2*r)+s];return{data:o,width:i,height:s}}},6357:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(4034);class i extends(function(e){function t(){var t=Reflect.construct(e,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}(Array)){clone(){return(new this.constructor).copy(this)}fromArray(e,t=0){for(let n=0;n<this.ELEMENTS;++n)this[n]=e[n+t];return this.check()}toArray(e=[],t=0){for(let n=0;n<this.ELEMENTS;++n)e[t+n]=this[n];return e}from(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}to(e){return e===this?this:(0,r.kJ)(e)?this.toArray(e):this.toObject(e)}toTarget(e){return e?this.to(e):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(r.vc)}formatString(e){let t="";for(let n=0;n<this.ELEMENTS;++n)t+=(n>0?", ":"")+(0,r.Bw)(this[n],e);return"".concat(e.printTypes?this.constructor.name:"","[").concat(t,"]")}equals(e){if(!e||this.length!==e.length)return!1;for(let t=0;t<this.ELEMENTS;++t)if(!(0,r.fS)(this[t],e[t]))return!1;return!0}exactEquals(e){if(!e||this.length!==e.length)return!1;for(let t=0;t<this.ELEMENTS;++t)if(this[t]!==e[t])return!1;return!0}negate(){for(let e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}lerp(e,t,n){if(void 0===n)return this.lerp(this,e,t);for(let r=0;r<this.ELEMENTS;++r){const i=e[r];this[r]=i+n*(t[r]-i)}return this.check()}min(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=Math.min(e[t],this[t]);return this.check()}max(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=Math.max(e[t],this[t]);return this.check()}clamp(e,t){for(let n=0;n<this.ELEMENTS;++n)this[n]=Math.min(Math.max(this[n],e[n]),t[n]);return this.check()}add(...e){for(const t of e)for(let e=0;e<this.ELEMENTS;++e)this[e]+=t[e];return this.check()}subtract(...e){for(const t of e)for(let e=0;e<this.ELEMENTS;++e)this[e]-=t[e];return this.check()}scale(e){if("number"==typeof e)for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;else for(let t=0;t<this.ELEMENTS&&t<e.length;++t)this[t]*=e[t];return this.check()}multiplyByScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}check(){if(r.vc.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}validate(){let e=this.length===this.ELEMENTS;for(let t=0;t<this.ELEMENTS;++t)e=e&&Number.isFinite(this[t]);return e}sub(e){return this.subtract(e)}setScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=e;return this.check()}addScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]+=e;return this.check()}subScalar(e){return this.addScalar(-e)}multiplyScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}divideScalar(e){return this.multiplyByScalar(1/e)}clampScalar(e,t){for(let n=0;n<this.ELEMENTS;++n)this[n]=Math.min(Math.max(this[n],e),t);return this.check()}get elements(){return this}}},1e3:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(6357),i=n(6281),s=n(4034);class o extends r.Z{toString(){let e="[";if(s.vc.printRowMajor){e+="row-major:";for(let t=0;t<this.RANK;++t)for(let n=0;n<this.RANK;++n)e+=" ".concat(this[n*this.RANK+t])}else{e+="column-major:";for(let t=0;t<this.ELEMENTS;++t)e+=" ".concat(this[t])}return e+="]",e}getElementIndex(e,t){return t*this.RANK+e}getElement(e,t){return this[t*this.RANK+e]}setElement(e,t,n){return this[t*this.RANK+e]=(0,i.u5)(n),this}getColumn(e,t=new Array(this.RANK).fill(-0)){const n=e*this.RANK;for(let e=0;e<this.RANK;++e)t[e]=this[n+e];return t}setColumn(e,t){const n=e*this.RANK;for(let e=0;e<this.RANK;++e)this[n+e]=t[e];return this}}},9017:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(6357),i=n(6281);function s(e,t){if(!e)throw new Error("math.gl assertion ".concat(t))}class o extends r.Z{get x(){return this[0]}set x(e){this[0]=(0,i.u5)(e)}get y(){return this[1]}set y(e){this[1]=(0,i.u5)(e)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let e=0;for(let t=0;t<this.ELEMENTS;++t)e+=this[t]*this[t];return e}magnitudeSquared(){return this.lengthSquared()}distance(e){return Math.sqrt(this.distanceSquared(e))}distanceSquared(e){let t=0;for(let n=0;n<this.ELEMENTS;++n){const r=this[n]-e[n];t+=r*r}return(0,i.u5)(t)}dot(e){let t=0;for(let n=0;n<this.ELEMENTS;++n)t+=this[n]*e[n];return(0,i.u5)(t)}normalize(){const e=this.magnitude();if(0!==e)for(let t=0;t<this.ELEMENTS;++t)this[t]/=e;return this.check()}multiply(...e){for(const t of e)for(let e=0;e<this.ELEMENTS;++e)this[e]*=t[e];return this.check()}divide(...e){for(const t of e)for(let e=0;e<this.ELEMENTS;++e)this[e]/=t[e];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(e){return this.distance(e)}distanceToSquared(e){return this.distanceSquared(e)}getComponent(e){return s(e>=0&&e<this.ELEMENTS,"index is out of range"),(0,i.u5)(this[e])}setComponent(e,t){return s(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=t,this.check()}addVectors(e,t){return this.copy(e).add(t)}subVectors(e,t){return this.copy(e).subtract(t)}multiplyVectors(e,t){return this.copy(e).multiply(t)}addScaledVector(e,t){return this.add(new this.constructor(e).multiplyScalar(t))}}},5451:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r,i=n(1e3),s=n(6281),o=n(1031),a=n(5975),l=n(1437),c=n(7160),u=n(8333);!function(e){e[e.COL0ROW0=0]="COL0ROW0",e[e.COL0ROW1=1]="COL0ROW1",e[e.COL0ROW2=2]="COL0ROW2",e[e.COL0ROW3=3]="COL0ROW3",e[e.COL1ROW0=4]="COL1ROW0",e[e.COL1ROW1=5]="COL1ROW1",e[e.COL1ROW2=6]="COL1ROW2",e[e.COL1ROW3=7]="COL1ROW3",e[e.COL2ROW0=8]="COL2ROW0",e[e.COL2ROW1=9]="COL2ROW1",e[e.COL2ROW2=10]="COL2ROW2",e[e.COL2ROW3=11]="COL2ROW3",e[e.COL3ROW0=12]="COL3ROW0",e[e.COL3ROW1=13]="COL3ROW1",e[e.COL3ROW2=14]="COL3ROW2",e[e.COL3ROW3=15]="COL3ROW3"}(r||(r={}));const h=45*Math.PI/180,d=1,f=.1,p=500,g=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);class m extends i.Z{static get IDENTITY(){return y||(y=new m,Object.freeze(y)),y}static get ZERO(){return v||(v=new m([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(v)),v}get ELEMENTS(){return 16}get RANK(){return 4}get INDICES(){return r}constructor(e){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(e)?this.copy(e):this.identity()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this[9]=e[9],this[10]=e[10],this[11]=e[11],this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this.check()}set(e,t,n,r,i,s,o,a,l,c,u,h,d,f,p,g){return this[0]=e,this[1]=t,this[2]=n,this[3]=r,this[4]=i,this[5]=s,this[6]=o,this[7]=a,this[8]=l,this[9]=c,this[10]=u,this[11]=h,this[12]=d,this[13]=f,this[14]=p,this[15]=g,this.check()}setRowMajor(e,t,n,r,i,s,o,a,l,c,u,h,d,f,p,g){return this[0]=e,this[1]=i,this[2]=l,this[3]=d,this[4]=t,this[5]=s,this[6]=c,this[7]=f,this[8]=n,this[9]=o,this[10]=u,this[11]=p,this[12]=r,this[13]=a,this[14]=h,this[15]=g,this.check()}toRowMajor(e){return e[0]=this[0],e[1]=this[4],e[2]=this[8],e[3]=this[12],e[4]=this[1],e[5]=this[5],e[6]=this[9],e[7]=this[13],e[8]=this[2],e[9]=this[6],e[10]=this[10],e[11]=this[14],e[12]=this[3],e[13]=this[7],e[14]=this[11],e[15]=this[15],e}identity(){return this.copy(g)}fromObject(e){return this.check()}fromQuaternion(e){return a.en(this,e),this.check()}frustum(e){const{left:t,right:n,bottom:r,top:i,near:s=f,far:o=p}=e;return o===1/0?function(e,t,n,r,i,s){const o=2*s/(n-t),a=2*s/(i-r),l=(n+t)/(n-t),c=(i+r)/(i-r),u=-2*s;e[0]=o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=l,e[9]=c,e[10]=-1,e[11]=-1,e[12]=0,e[13]=0,e[14]=u,e[15]=0}(this,t,n,r,i,s):a.oy(this,t,n,r,i,s,o),this.check()}lookAt(e){const{eye:t,center:n=[0,0,0],up:r=[0,1,0]}=e;return a.zB(this,t,n,r),this.check()}ortho(e){const{left:t,right:n,bottom:r,top:i,near:s=f,far:o=p}=e;return a.M5(this,t,n,r,i,s,o),this.check()}orthographic(e){const{fovy:t=h,aspect:n=d,focalDistance:r=1,near:i=f,far:s=p}=e;b(t);const o=t/2,a=r*Math.tan(o),l=a*n;return this.ortho({left:-l,right:l,bottom:-a,top:a,near:i,far:s})}perspective(e){const{fovy:t=45*Math.PI/180,aspect:n=1,near:r=.1,far:i=500}=e;return b(t),a.G3(this,t,n,r,i),this.check()}determinant(){return a.GH(this)}getScale(e=[-0,-0,-0]){return e[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),e[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),e[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),e}getTranslation(e=[-0,-0,-0]){return e[0]=this[12],e[1]=this[13],e[2]=this[14],e}getRotation(e,t){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],t=t||[-0,-0,-0];const n=this.getScale(t),r=1/n[0],i=1/n[1],s=1/n[2];return e[0]=this[0]*r,e[1]=this[1]*i,e[2]=this[2]*s,e[3]=0,e[4]=this[4]*r,e[5]=this[5]*i,e[6]=this[6]*s,e[7]=0,e[8]=this[8]*r,e[9]=this[9]*i,e[10]=this[10]*s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}getRotationMatrix3(e,t){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0],t=t||[-0,-0,-0];const n=this.getScale(t),r=1/n[0],i=1/n[1],s=1/n[2];return e[0]=this[0]*r,e[1]=this[1]*i,e[2]=this[2]*s,e[3]=this[4]*r,e[4]=this[5]*i,e[5]=this[6]*s,e[6]=this[8]*r,e[7]=this[9]*i,e[8]=this[10]*s,e}transpose(){return a.p4(this,this),this.check()}invert(){return a.U_(this,this),this.check()}multiplyLeft(e){return a.Jp(this,e,this),this.check()}multiplyRight(e){return a.Jp(this,this,e),this.check()}rotateX(e){return a.lM(this,this,e),this.check()}rotateY(e){return a.uD(this,this,e),this.check()}rotateZ(e){return a.jI(this,this,e),this.check()}rotateXYZ(e){return this.rotateX(e[0]).rotateY(e[1]).rotateZ(e[2])}rotateAxis(e,t){return a.U1(this,this,e,t),this.check()}scale(e){return a.bA(this,this,Array.isArray(e)?e:[e,e,e]),this.check()}translate(e){return a.Iu(this,this,e),this.check()}transform(e,t){return 4===e.length?(t=u.fF(t||[-0,-0,-0,-0],e,this),(0,s.IL)(t,4),t):this.transformAsPoint(e,t)}transformAsPoint(e,t){const{length:n}=e;let r;switch(n){case 2:r=l.fF(t||[-0,-0],e,this);break;case 3:r=c.fF(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return(0,s.IL)(r,e.length),r}transformAsVector(e,t){let n;switch(e.length){case 2:n=(0,o.pb)(t||[-0,-0],e,this);break;case 3:n=(0,o.pL)(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return(0,s.IL)(n,e.length),n}transformPoint(e,t){return this.transformAsPoint(e,t)}transformVector(e,t){return this.transformAsPoint(e,t)}transformDirection(e,t){return this.transformAsVector(e,t)}makeRotationX(e){return this.identity().rotateX(e)}makeTranslation(e,t,n){return this.identity().translate([e,t,n])}}let v,y;function b(e){if(e>2*Math.PI)throw Error("expected radians")}},3855:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(9017),i=n(4034),s=n(6281),o=n(7160),a=n(1031);const l=[0,0,0];let c;class u extends r.Z{static get ZERO(){return c||(c=new u(0,0,0),Object.freeze(c)),c}constructor(e=0,t=0,n=0){super(-0,-0,-0),1===arguments.length&&(0,i.kJ)(e)?this.copy(e):(i.vc.debug&&((0,s.u5)(e),(0,s.u5)(t),(0,s.u5)(n)),this[0]=e,this[1]=t,this[2]=n)}set(e,t,n){return this[0]=e,this[1]=t,this[2]=n,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.check()}fromObject(e){return i.vc.debug&&((0,s.u5)(e.x),(0,s.u5)(e.y),(0,s.u5)(e.z)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this.check()}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e}get ELEMENTS(){return 3}get z(){return this[2]}set z(e){this[2]=(0,s.u5)(e)}angle(e){return o.EU(this,e)}cross(e){return o.kC(this,this,e),this.check()}rotateX({radians:e,origin:t=l}){return o.lM(this,this,t,e),this.check()}rotateY({radians:e,origin:t=l}){return o.uD(this,this,t,e),this.check()}rotateZ({radians:e,origin:t=l}){return o.jI(this,this,t,e),this.check()}transform(e){return this.transformAsPoint(e)}transformAsPoint(e){return o.fF(this,this,e),this.check()}transformAsVector(e){return(0,a.pL)(this,this,e),this.check()}transformByMatrix3(e){return o.kK(this,this,e),this.check()}transformByMatrix2(e){return(0,a.eQ)(this,this,e),this.check()}transformByQuaternion(e){return o.VC(this,this,e),this.check()}}},4034:(e,t,n)=>{"use strict";n.d(t,{Bw:()=>i,fS:()=>l,kJ:()=>s,t7:()=>a,uZ:()=>o,vc:()=>r}),Math.PI,Math.PI;const r={EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0};function i(e,{precision:t=r.precision}={}){return e=function(e){return Math.round(e/r.EPSILON)*r.EPSILON}(e),"".concat(parseFloat(e.toPrecision(t)))}function s(e){return Array.isArray(e)||ArrayBuffer.isView(e)&&!(e instanceof DataView)}function o(e,t,n){return function(e,t,n){if(s(e)){const r=e;n=n||function(e){return e.clone?e.clone():new Array(e.length)}(r);for(let i=0;i<n.length&&i<r.length;++i)n[i]=t(e[i],i,n);return n}return t(e)}(e,(e=>Math.max(t,Math.min(n,e))))}function a(e,t,n){return s(e)?e.map(((e,r)=>a(e,t[r],n))):n*t+(1-n)*e}function l(e,t,n){const i=r.EPSILON;n&&(r.EPSILON=n);try{if(e===t)return!0;if(s(e)&&s(t)){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!l(e[n],t[n]))return!1;return!0}return e&&e.equals?e.equals(t):t&&t.equals?t.equals(e):"number"==typeof e&&"number"==typeof t&&Math.abs(e-t)<=r.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))}finally{r.EPSILON=i}}},1031:(e,t,n)=>{"use strict";function r(e,t,n){const r=t[0],i=t[1],s=n[3]*r+n[7]*i||1;return e[0]=(n[0]*r+n[4]*i)/s,e[1]=(n[1]*r+n[5]*i)/s,e}function i(e,t,n){const r=t[0],i=t[1],s=t[2],o=n[3]*r+n[7]*i+n[11]*s||1;return e[0]=(n[0]*r+n[4]*i+n[8]*s)/o,e[1]=(n[1]*r+n[5]*i+n[9]*s)/o,e[2]=(n[2]*r+n[6]*i+n[10]*s)/o,e}function s(e,t,n){const r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e[2]=t[2],e}function o(e,t,n){const r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e[2]=t[2],e[3]=t[3],e}function a(e,t,n){const r=t[0],i=t[1],s=t[2];return e[0]=n[0]*r+n[3]*i+n[6]*s,e[1]=n[1]*r+n[4]*i+n[7]*s,e[2]=n[2]*r+n[5]*i+n[8]*s,e[3]=t[3],e}n.d(t,{G7:()=>o,_x:()=>a,eQ:()=>s,pL:()=>i,pb:()=>r})},6281:(e,t,n)=>{"use strict";n.d(t,{IL:()=>s,u5:()=>i});var r=n(4034);function i(e){if(!Number.isFinite(e))throw new Error("Invalid number ".concat(e));return e}function s(e,t,n=""){if(r.vc.debug&&!function(e,t){if(e.length!==t)return!1;for(let t=0;t<e.length;++t)if(!Number.isFinite(e[t]))return!1;return!0}(e,t))throw new Error("math.gl: ".concat(n," some fields set to invalid numbers'"));return e}},7013:(e,t,n)=>{"use strict";n.d(t,{eG:()=>T,Lu:()=>P,Xg:()=>R,if:()=>V,sj:()=>M,zX:()=>F,ro:()=>S,up:()=>H,Bf:()=>C,wl:()=>O,lf:()=>I,w5:()=>A,QA:()=>j,CT:()=>k,NC:()=>x,es:()=>E,aW:()=>B});var r=n(8333);function i(e,t){const n=(0,r.fF)([],t,e);return(0,r.bA)(n,n,1/n[3]),n}function s(e,t){const n=e%t;return n<0?t+n:n}function o(e,t,n){return e<t?t:e>n?n:e}const a=Math.log2||function(e){return Math.log(e)*Math.LOG2E};var l=n(5975),c=n(1437),u=n(7160);function h(e,t){if(!e)throw new Error(t||"@math.gl/web-mercator: assertion failed.")}const d=Math.PI,f=d/4,p=d/180,g=180/d,m=512,v=4003e4,y=85.051129,b=1.5;function w(e){return Math.pow(2,e)}function _(e){return a(e)}function A(e){const[t,n]=e;h(Number.isFinite(t)),h(Number.isFinite(n)&&n>=-90&&n<=90,"invalid latitude");const r=n*p;return[m*(t*p+d)/(2*d),m*(d+Math.log(Math.tan(f+.5*r)))/(2*d)]}function E(e){const[t,n]=e,r=t/m*(2*d)-d,i=2*(Math.atan(Math.exp(n/m*(2*d)-d))-f);return[r*g,i*g]}function C(e){const{latitude:t}=e;h(Number.isFinite(t));const n=Math.cos(t*p);return _(v*n)-9}function x(e){const t=Math.cos(e*p);return m/v/t}function S(e){const{latitude:t,longitude:n,highPrecision:r=!1}=e;h(Number.isFinite(t)&&Number.isFinite(n));const i=m,s=Math.cos(t*p),o=i/360,a=o/s,l=i/v/s,c={unitsPerMeter:[l,l,l],metersPerUnit:[1/l,1/l,1/l],unitsPerDegree:[o,a,l],degreesPerUnit:[1/o,1/a,1/l]};if(r){const e=p*Math.tan(t*p)/s,n=o*e/2,r=i/v*e,u=r/a*l;c.unitsPerDegree2=[0,n,r],c.unitsPerMeter2=[u,0,u]}return c}function T(e,t){const[n,r,i]=e,[s,o,a]=t,{unitsPerMeter:l,unitsPerMeter2:c}=S({longitude:n,latitude:r,highPrecision:!0}),u=A(e);u[0]+=s*(l[0]+c[0]*o),u[1]+=o*(l[1]+c[1]*o);const h=E(u),d=(i||0)+(a||0);return Number.isFinite(i)||Number.isFinite(a)?[h[0],h[1],d]:h}function I(e){const{height:t,pitch:n,bearing:r,altitude:i,scale:s,center:o}=e,a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];l.Iu(a,a,[0,0,-i]),l.lM(a,a,-n*p),l.jI(a,a,r*p);const c=s/t;return l.bA(a,a,[c,c,c]),o&&l.Iu(a,a,u.tk([],o)),a}function O(e){const{width:t,height:n,altitude:r,pitch:i=0,offset:s,center:a,scale:l,nearZMultiplier:c=1,farZMultiplier:u=1}=e;let{fovy:h=P(b)}=e;void 0!==r&&(h=P(r));const d=h*p,f=i*p,g=M(h);let m=g;a&&(m+=a[2]*l/Math.cos(f)/n);const v=d*(.5+(s?s[1]:0)/n),y=Math.sin(v)*m/Math.sin(o(Math.PI/2-f-v,.01,Math.PI-.01)),w=Math.sin(f)*y+m,_=10*m;return{fov:d,aspect:t/n,focalDistance:g,near:c,far:Math.min(w*u,_)}}function P(e){return 2*Math.atan(.5/e)*g}function M(e){return.5/Math.tan(.5*e*p)}function B(e,t){const[n,r,s=0]=e;return h(Number.isFinite(n)&&Number.isFinite(r)&&Number.isFinite(s)),i(t,[n,r,s,1])}function k(e,t,n=0){const[r,s,o]=e;if(h(Number.isFinite(r)&&Number.isFinite(s),"invalid pixel coordinate"),Number.isFinite(o))return i(t,[r,s,o,1]);const a=i(t,[r,s,0,1]),l=i(t,[r,s,1,1]),u=a[2],d=l[2],f=u===d?0:((n||0)-u)/(d-u);return c.t7([],a,l,f)}function R(e){const{width:t,height:n,bounds:r,minExtent:i=0,maxZoom:s=24,offset:l=[0,0]}=e,[[c,u],[d,f]]=r,p=function(e=0){return"number"==typeof e?{top:e,bottom:e,left:e,right:e}:(h(Number.isFinite(e.top)&&Number.isFinite(e.bottom)&&Number.isFinite(e.left)&&Number.isFinite(e.right)),e)}(e.padding),g=A([c,o(f,-y,y)]),m=A([d,o(u,-y,y)]),v=[Math.max(Math.abs(m[0]-g[0]),i),Math.max(Math.abs(m[1]-g[1]),i)],b=[t-p.left-p.right-2*Math.abs(l[0]),n-p.top-p.bottom-2*Math.abs(l[1])];h(b[0]>0&&b[1]>0);const w=b[0]/v[0],_=b[1]/v[1],C=(p.right-p.left)/2/w,x=(p.top-p.bottom)/2/_,S=E([(m[0]+g[0])/2+C,(m[1]+g[1])/2+x]),T=Math.min(s,a(Math.abs(Math.min(w,_))));return h(Number.isFinite(T)),{longitude:S[0],latitude:S[1],zoom:T}}const L=Math.PI/180;function F(e,t=0){const{width:n,height:r,unproject:i}=e,s={targetZ:t},o=i([0,r],s),a=i([n,r],s);let l,c;return(e.fovy?.5*e.fovy*L:Math.atan(.5/e.altitude))>(90-e.pitch)*L-.01?(l=D(e,0,t),c=D(e,n,t)):(l=i([0,0],s),c=i([n,0],s)),[o,a,c,l]}function D(e,t,n){const{pixelUnprojectionMatrix:r}=e,s=i(r,[t,0,1,1]),o=i(r,[t,e.height,1,1]),a=(n*e.distanceScales.unitsPerMeter[2]-s[2])/(o[2]-s[2]),l=E(c.t7([],s,o,a));return l.push(n),l}const N=512;function j(e){const{width:t,height:n,pitch:r=0}=e;let{longitude:i,latitude:o,zoom:l,bearing:c=0}=e;(i<-180||i>180)&&(i=s(i+180,360)-180),(c<-180||c>180)&&(c=s(c+180,360)-180);const u=a(n/N);if(l<=u)l=u,o=0;else{const e=n/2/Math.pow(2,l),t=E([0,e])[1];if(o<t)o=t;else{const t=E([0,N-e])[1];o>t&&(o=t)}}return{width:t,height:n,longitude:i,latitude:o,zoom:l,pitch:r,bearing:c}}const U=.01,G=["longitude","latitude","zoom"],z={curve:1.414,speed:1.2};function V(e,t,n,r){const{startZoom:i,startCenterXY:s,uDelta:o,w0:a,u1:l,S:u,rho:h,rho2:d,r0:f}=Z(e,t,r);if(l<U){const r={};for(const i of G){const s=e[i],o=t[i];r[i]=(p=n)*o+(1-p)*s}return r}var p;const g=n*u,m=Math.cosh(f)/Math.cosh(f+h*g),v=a*((Math.cosh(f)*Math.tanh(f+h*g)-Math.sinh(f))/d)/l,y=i+_(1/m),b=c.bA([],o,v);c.IH(b,b,s);const w=E(b);return{longitude:w[0],latitude:w[1],zoom:y}}function H(e,t,n){const r={...z,...n},{screenSpeed:i,speed:s,maxDuration:o}=r,{S:a,rho:l}=Z(e,t,r),c=1e3*a;let u;return u=Number.isFinite(i)?c/(i/l):c/s,Number.isFinite(o)&&u>o?0:u}function Z(e,t,n){const r=(n=Object.assign({},z,n)).curve,i=e.zoom,s=[e.longitude,e.latitude],o=w(i),a=t.zoom,l=[t.longitude,t.latitude],u=w(a-i),h=A(s),d=A(l),f=c.lu([],d,h),p=Math.max(e.width,e.height),g=p/u,m=c.kE(f)*o,v=Math.max(m,U),y=r*r,b=(g*g-p*p+y*y*v*v)/(2*p*y*v),_=(g*g-p*p-y*y*v*v)/(2*g*y*v),E=Math.log(Math.sqrt(b*b+1)-b),C=Math.log(Math.sqrt(_*_+1)-_);return{startZoom:i,startCenterXY:h,uDelta:f,w0:p,u1:m,S:(C-E)/r,rho:r,rho2:y,r0:E,r1:C}}},3485:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(3370),i=n(2363);const s=globalThis;function o(e){if(!e&&!(0,r.Z)())return"Node";if((0,i.Z)(e))return"Electron";const t="undefined"!=typeof navigator?navigator:{},n=e||t.userAgent||"";if(n.indexOf("Edge")>-1)return"Edge";const o=-1!==n.indexOf("MSIE "),a=-1!==n.indexOf("Trident/");return o||a?"IE":s.chrome?"Chrome":s.safari?"Safari":s.mozInnerScreenX?"Firefox":"Unknown"}},3370:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(2363);function i(){return!("object"==typeof process&&"[object process]"===String(process)&&!process.browser)||(0,r.Z)()}},2363:(e,t,n)=>{"use strict";function r(e){if("undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof process&&"object"==typeof process.versions&&Boolean(process.versions.electron))return!0;const t="object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent,n=e||t;return!!(n&&n.indexOf("Electron")>=0)}n.d(t,{Z:()=>r})},9109:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var r=n(4572),i=n(3370);const s="undefined"!=typeof __VERSION__?__VERSION__:"untranspiled source";(0,i.Z)();class o{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sessionStorage";(0,r.Z)(this,"storage",void 0),(0,r.Z)(this,"id",void 0),(0,r.Z)(this,"config",void 0),this.storage=function(e){try{const t=window[e],n="__storage_test__";return t.setItem(n,n),t.removeItem(n),t}catch(e){return null}}(n),this.id=e,this.config=t,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(e){if(Object.assign(this.config,e),this.storage){const e=JSON.stringify(this.config);this.storage.setItem(this.id,e)}}_loadConfiguration(){let e={};if(this.storage){const t=this.storage.getItem(this.id);e=t?JSON.parse(t):{}}return Object.assign(this.config,e),this}}function a(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:600;const i=e.src.replace(/\(/g,"%28").replace(/\)/g,"%29");e.width>r&&(n=Math.min(n,r/e.width));const s=e.width*n,o=e.height*n,a=["font-size:1px;","padding:".concat(Math.floor(o/2),"px ").concat(Math.floor(s/2),"px;"),"line-height:".concat(o,"px;"),"background:url(".concat(i,");"),"background-size:".concat(s,"px ").concat(o,"px;"),"color:transparent;"].join("");return["".concat(t," %c+"),a]}let l;function c(e){return"string"==typeof e?l[e.toUpperCase()]||l.WHITE:e}function u(e,t){if(!e)throw new Error(t||"Assertion failed")}!function(e){e[e.BLACK=30]="BLACK",e[e.RED=31]="RED",e[e.GREEN=32]="GREEN",e[e.YELLOW=33]="YELLOW",e[e.BLUE=34]="BLUE",e[e.MAGENTA=35]="MAGENTA",e[e.CYAN=36]="CYAN",e[e.WHITE=37]="WHITE",e[e.BRIGHT_BLACK=90]="BRIGHT_BLACK",e[e.BRIGHT_RED=91]="BRIGHT_RED",e[e.BRIGHT_GREEN=92]="BRIGHT_GREEN",e[e.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",e[e.BRIGHT_BLUE=94]="BRIGHT_BLUE",e[e.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",e[e.BRIGHT_CYAN=96]="BRIGHT_CYAN",e[e.BRIGHT_WHITE=97]="BRIGHT_WHITE"}(l||(l={}));const h={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==n.g&&n.g,document:"undefined"!=typeof document&&document,process:"object"==typeof process&&process},d=h.window||h.self||h.global,f=h.process||{};function p(){let e;var t,n;if(i.Z&&"performance"in d)e=null==d||null===(t=d.performance)||void 0===t||null===(n=t.now)||void 0===n?void 0:n.call(t);else if("hrtime"in f){var r;const t=null==f||null===(r=f.hrtime)||void 0===r?void 0:r.call(f);e=1e3*t[0]+t[1]/1e6}else e=Date.now();return e}const g={debug:i.Z&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},m={enabled:!0,level:0};function v(){}const y={},b={once:!0};class w{constructor(){let{id:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:""};(0,r.Z)(this,"id",void 0),(0,r.Z)(this,"VERSION",s),(0,r.Z)(this,"_startTs",p()),(0,r.Z)(this,"_deltaTs",p()),(0,r.Z)(this,"_storage",void 0),(0,r.Z)(this,"userData",{}),(0,r.Z)(this,"LOG_THROTTLE_TIMEOUT",0),this.id=e,this.userData={},this._storage=new o("__probe-".concat(this.id,"__"),m),this.timeStamp("".concat(this.id," started")),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["constructor"];const n=Object.getPrototypeOf(e),r=Object.getOwnPropertyNames(n);for(const n of r)"function"==typeof e[n]&&(t.find((e=>n===e))||(e[n]=e[n].bind(e)))}(this),Object.seal(this)}set level(e){this.setLevel(e)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((p()-this._startTs).toPrecision(10))}getDelta(){return Number((p()-this._deltaTs).toPrecision(10))}set priority(e){this.level=e}get priority(){return this.level}getPriority(){return this.level}enable(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._storage.setConfiguration({enabled:e}),this}setLevel(e){return this._storage.setConfiguration({level:e}),this}get(e){return this._storage.config[e]}set(e,t){this._storage.setConfiguration({[e]:t})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(e,t){u(e,t)}warn(e){return this._getLogFunction(0,e,g.warn,arguments,b)}error(e){return this._getLogFunction(0,e,g.error,arguments)}deprecated(e,t){return this.warn("`".concat(e,"` is deprecated and will be removed in a later version. Use `").concat(t,"` instead"))}removed(e,t){return this.error("`".concat(e,"` has been removed. Use `").concat(t,"` instead"))}probe(e,t){return this._getLogFunction(e,t,g.log,arguments,{time:!0,once:!0})}log(e,t){return this._getLogFunction(e,t,g.debug,arguments)}info(e,t){return this._getLogFunction(e,t,console.info,arguments)}once(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return this._getLogFunction(e,t,g.debug||g.info,arguments,b)}table(e,t,n){return t?this._getLogFunction(e,t,console.table||v,n&&[n],{tag:E(t)}):v}image(e){let{logLevel:t,priority:n,image:r,message:s="",scale:o=1}=e;return this._shouldLog(t||n)?i.Z?function(e){let{image:t,message:n="",scale:r=1}=e;if("string"==typeof t){const e=new Image;return e.onload=()=>{const t=a(e,n,r);console.log(...t)},e.src=t,v}const i=t.nodeName||"";if("img"===i.toLowerCase())return console.log(...a(t,n,r)),v;if("canvas"===i.toLowerCase()){const e=new Image;return e.onload=()=>console.log(...a(e,n,r)),e.src=t.toDataURL(),v}return v}({image:r,message:s,scale:o}):function(e){let{image:t,message:n="",scale:r=1}=e;return console.warn("removed"),v}({image:r,message:s,scale:o}):v}time(e,t){return this._getLogFunction(e,t,console.time?console.time:console.info)}timeEnd(e,t){return this._getLogFunction(e,t,console.timeEnd?console.timeEnd:console.info)}timeStamp(e,t){return this._getLogFunction(e,t,console.timeStamp||v)}group(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{collapsed:!1};const r=A({logLevel:e,message:t,opts:n}),{collapsed:i}=n;return r.method=(i?console.groupCollapsed:console.group)||console.info,this._getLogFunction(r)}groupCollapsed(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.group(e,t,Object.assign({},n,{collapsed:!0}))}groupEnd(e){return this._getLogFunction(e,"",console.groupEnd||v)}withGroup(e,t,n){this.group(e,t)();try{n()}finally{this.groupEnd(e)()}}trace(){console.trace&&console.trace()}_shouldLog(e){return this.isEnabled()&&this.getLevel()>=_(e)}_getLogFunction(e,t,n,r,s){if(this._shouldLog(e)){s=A({logLevel:e,message:t,args:r,opts:s}),u(n=n||s.method),s.total=this.getTotal(),s.delta=this.getDelta(),this._deltaTs=p();const o=s.tag||s.message;if(s.once){if(y[o])return v;y[o]=p()}return t=function(e,t,n){if("string"==typeof t){const a=n.time?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;const n=Math.max(t-e.length,0);return"".concat(" ".repeat(n)).concat(e)}(function(e){let t;return t=e<10?"".concat(e.toFixed(2),"ms"):e<100?"".concat(e.toFixed(1),"ms"):e<1e3?"".concat(e.toFixed(0),"ms"):"".concat((e/1e3).toFixed(2),"s"),t}(n.total)):"";r=t=n.time?"".concat(e,": ").concat(a,"  ").concat(t):"".concat(e,": ").concat(t),s=n.color,o=n.background,i.Z||"string"!=typeof r||(s&&(s=c(s),r="[".concat(s,"m").concat(r,"[39m")),o&&(s=c(o),r="[".concat(o+10,"m").concat(r,"[49m"))),t=r}var r,s,o;return t}(this.id,s.message,s),n.bind(console,t,...s.args)}return v}}function _(e){if(!e)return 0;let t;switch(typeof e){case"number":t=e;break;case"object":t=e.logLevel||e.priority||0;break;default:return 0}return u(Number.isFinite(t)&&t>=0),t}function A(e){const{logLevel:t,message:n}=e;e.logLevel=_(t);const r=e.args?Array.from(e.args):[];for(;r.length&&r.shift()!==n;);switch(typeof t){case"string":case"function":void 0!==n&&r.unshift(n),e.message=t;break;case"object":Object.assign(e,t)}"function"==typeof e.message&&(e.message=e.message());const i=typeof e.message;return u("string"===i||"object"===i),Object.assign(e,{args:r},e.opts)}function E(e){for(const t in e)for(const n in e[t])return n||"untitled";return"empty"}(0,r.Z)(w,"VERSION",s)},8295:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(4572);function i(){let e;if("undefined"!=typeof window&&window.performance)e=window.performance.now();else if("undefined"!=typeof process&&process.hrtime){const t=process.hrtime();e=1e3*t[0]+t[1]/1e6}else e=Date.now();return e}class s{constructor(e,t){(0,r.Z)(this,"name",void 0),(0,r.Z)(this,"type",void 0),(0,r.Z)(this,"sampleSize",1),(0,r.Z)(this,"time",void 0),(0,r.Z)(this,"count",void 0),(0,r.Z)(this,"samples",void 0),(0,r.Z)(this,"lastTiming",void 0),(0,r.Z)(this,"lastSampleTime",void 0),(0,r.Z)(this,"lastSampleCount",void 0),(0,r.Z)(this,"_count",0),(0,r.Z)(this,"_time",0),(0,r.Z)(this,"_samples",0),(0,r.Z)(this,"_startTime",0),(0,r.Z)(this,"_timerPending",!1),this.name=e,this.type=t,this.reset()}setSampleSize(e){return this.sampleSize=e,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount(e){return this._count+=e,this._samples++,this._checkSampling(),this}subtractCount(e){return this._count-=e,this._samples++,this._checkSampling(),this}addTime(e){return this._time+=e,this.lastTiming=e,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=i(),this._timerPending=!0,this}timeEnd(){return this._timerPending?(this.addTime(i()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1e3):0}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}_checkSampling(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}class o{constructor(e){(0,r.Z)(this,"id",void 0),(0,r.Z)(this,"stats",{}),this.id=e.id,this.stats={},this._initializeStats(e.stats),Object.seal(this)}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"count";return this._getOrCreate({name:e,type:t})}get size(){return Object.keys(this.stats).length}reset(){for(const e in this.stats)this.stats[e].reset();return this}forEach(e){for(const t in this.stats)e(this.stats[t])}getTable(){const e={};return this.forEach((t=>{e[t.name]={time:t.time||0,count:t.count||0,average:t.getAverageTime()||0,hz:t.getHz()||0}})),e}_initializeStats(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((e=>this._getOrCreate(e)))}_getOrCreate(e){if(!e||!e.name)return null;const{name:t,type:n}=e;return this.stats[t]||(this.stats[t]=e instanceof s?e:new s(t,n)),this.stats[t]}}},4537:e=>{"use strict";e.exports=function(e,t){for(var n=new Array(arguments.length-1),r=0,i=2,s=!0;i<arguments.length;)n[r++]=arguments[i++];return new Promise((function(i,o){n[r]=function(e){if(s)if(s=!1,e)o(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];i.apply(null,t)}};try{e.apply(t||null,n)}catch(e){s&&(s=!1,o(e))}}))}},7419:(e,t)=>{"use strict";var n=t;n.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var r=new Array(64),i=new Array(123),s=0;s<64;)i[r[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;n.encode=function(e,t,n){for(var i,s=null,o=[],a=0,l=0;t<n;){var c=e[t++];switch(l){case 0:o[a++]=r[c>>2],i=(3&c)<<4,l=1;break;case 1:o[a++]=r[i|c>>4],i=(15&c)<<2,l=2;break;case 2:o[a++]=r[i|c>>6],o[a++]=r[63&c],l=0}a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),a=0)}return l&&(o[a++]=r[i],o[a++]=61,1===l&&(o[a++]=61)),s?(a&&s.push(String.fromCharCode.apply(String,o.slice(0,a))),s.join("")):String.fromCharCode.apply(String,o.slice(0,a))};var o="invalid encoding";n.decode=function(e,t,n){for(var r,s=n,a=0,l=0;l<e.length;){var c=e.charCodeAt(l++);if(61===c&&a>1)break;if(void 0===(c=i[c]))throw Error(o);switch(a){case 0:r=c,a=1;break;case 1:t[n++]=r<<2|(48&c)>>4,r=c,a=2;break;case 2:t[n++]=(15&r)<<4|(60&c)>>2,r=c,a=3;break;case 3:t[n++]=(3&r)<<6|c,a=0}}if(1===a)throw Error(o);return n-s},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},9211:e=>{"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},945:e=>{"use strict";function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3]}function s(e,r,i){t[0]=e,r[i]=n[3],r[i+1]=n[2],r[i+2]=n[1],r[i+3]=n[0]}function o(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function a(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?i:s,e.writeFloatBE=r?s:i,e.readFloatLE=r?o:a,e.readFloatBE=r?a:o}():function(){function t(e,t,n,r){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var s=Math.floor(Math.log(t)/Math.LN2);e((i<<31|s+127<<23|8388607&Math.round(t*Math.pow(2,-s)*8388608))>>>0,n,r)}}function o(e,t,n){var r=e(t,n),i=2*(r>>31)+1,s=r>>>23&255,o=8388607&r;return 255===s?o?NaN:i*(1/0):0===s?1401298464324817e-60*i*o:i*Math.pow(2,s-150)*(o+8388608)}e.writeFloatLE=t.bind(null,n),e.writeFloatBE=t.bind(null,r),e.readFloatLE=o.bind(null,i),e.readFloatBE=o.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3],r[i+4]=n[4],r[i+5]=n[5],r[i+6]=n[6],r[i+7]=n[7]}function s(e,r,i){t[0]=e,r[i]=n[7],r[i+1]=n[6],r[i+2]=n[5],r[i+3]=n[4],r[i+4]=n[3],r[i+5]=n[2],r[i+6]=n[1],r[i+7]=n[0]}function o(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function a(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?i:s,e.writeDoubleBE=r?s:i,e.readDoubleLE=r?o:a,e.readDoubleBE=r?a:o}():function(){function t(e,t,n,r,i,s){var o=r<0?1:0;if(o&&(r=-r),0===r)e(0,i,s+t),e(1/r>0?0:2147483648,i,s+n);else if(isNaN(r))e(0,i,s+t),e(2146959360,i,s+n);else if(r>17976931348623157e292)e(0,i,s+t),e((o<<31|2146435072)>>>0,i,s+n);else{var a;if(r<22250738585072014e-324)e((a=r/5e-324)>>>0,i,s+t),e((o<<31|a/4294967296)>>>0,i,s+n);else{var l=Math.floor(Math.log(r)/Math.LN2);1024===l&&(l=1023),e(4503599627370496*(a=r*Math.pow(2,-l))>>>0,i,s+t),e((o<<31|l+1023<<20|1048576*a&1048575)>>>0,i,s+n)}}}function o(e,t,n,r,i){var s=e(r,i+t),o=e(r,i+n),a=2*(o>>31)+1,l=o>>>20&2047,c=4294967296*(1048575&o)+s;return 2047===l?c?NaN:a*(1/0):0===l?5e-324*a*c:a*Math.pow(2,l-1075)*(c+4503599627370496)}e.writeDoubleLE=t.bind(null,n,0,4),e.writeDoubleBE=t.bind(null,r,4,0),e.readDoubleLE=o.bind(null,i,0,4),e.readDoubleBE=o.bind(null,s,4,0)}(),e}function n(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function r(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},7199:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},6662:e=>{"use strict";e.exports=function(e,t,n){var r=n||8192,i=r>>>1,s=null,o=r;return function(n){if(n<1||n>i)return e(n);o+n>r&&(s=e(r),o=0);var a=t.call(s,o,o+=n);return 7&o&&(o=1+(7|o)),a}}},5111:(e,t)=>{"use strict";var n=t;n.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},n.read=function(e,t,n){if(n-t<1)return"";for(var r,i=null,s=[],o=0;t<n;)(r=e[t++])<128?s[o++]=r:r>191&&r<224?s[o++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,s[o++]=55296+(r>>10),s[o++]=56320+(1023&r)):s[o++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),o=0);return i?(o&&i.push(String.fromCharCode.apply(String,s.slice(0,o))),i.join("")):String.fromCharCode.apply(String,s.slice(0,o))},n.write=function(e,t,n){for(var r,i,s=n,o=0;o<e.length;++o)(r=e.charCodeAt(o))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(i=e.charCodeAt(o+1)))?(r=65536+((1023&r)<<10)+(1023&i),++o,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-s}},3418:(e,t,n)=>{"use strict";function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function i(e){return!!e&&!!e[H]}function s(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Z}(e)||Array.isArray(e)||!!e[V]||!!(null===(t=e.constructor)||void 0===t?void 0:t[V])||h(e)||d(e))}function o(e,t,n){void 0===n&&(n=!1),0===a(e)?(n?Object.keys:W)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function a(e){var t=e[H];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:h(e)?2:d(e)?3:0}function l(e,t){return 2===a(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function c(e,t,n){var r=a(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function u(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function h(e){return j&&e instanceof Map}function d(e){return U&&e instanceof Set}function f(e){return e.o||e.t}function p(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=J(e);delete t[H];for(var n=W(t),r=0;r<n.length;r++){var i=n[r],s=t[i];!1===s.writable&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function g(e,t){return void 0===t&&(t=!1),v(e)||i(e)||!s(e)||(a(e)>1&&(e.set=e.add=e.clear=e.delete=m),Object.freeze(e),t&&o(e,(function(e,t){return g(t,!0)}),!0)),e}function m(){r(2)}function v(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function y(e){var t=K[e];return t||r(18,e),t}function b(){return D}function w(e,t){t&&(y("Patches"),e.u=[],e.s=[],e.v=t)}function _(e){A(e),e.p.forEach(C),e.p=null}function A(e){e===D&&(D=e.l)}function E(e){return D={p:[],l:D,h:e,m:!0,_:0}}function C(e){var t=e[H];0===t.i||1===t.i?t.j():t.g=!0}function x(e,t){t._=t.p.length;var n=t.p[0],i=void 0!==e&&e!==n;return t.h.O||y("ES5").S(t,e,i),i?(n[H].P&&(_(t),r(4)),s(e)&&(e=S(t,e),t.l||I(t,e)),t.u&&y("Patches").M(n[H].t,e,t.u,t.s)):e=S(t,n,[]),_(t),t.u&&t.v(t.u,t.s),e!==z?e:void 0}function S(e,t,n){if(v(t))return t;var r=t[H];if(!r)return o(t,(function(i,s){return T(e,r,t,i,s,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return I(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=p(r.k):r.o,s=i,a=!1;3===r.i&&(s=new Set(i),i.clear(),a=!0),o(s,(function(t,s){return T(e,r,i,t,s,n,a)})),I(e,i,!1),n&&e.u&&y("Patches").N(r,n,e.u,e.s)}return r.o}function T(e,t,n,r,o,a,u){if(i(o)){var h=S(e,o,a&&t&&3!==t.i&&!l(t.R,r)?a.concat(r):void 0);if(c(n,r,h),!i(h))return;e.m=!1}else u&&n.add(o);if(s(o)&&!v(o)){if(!e.h.D&&e._<1)return;S(e,o),t&&t.A.l||I(e,o)}}function I(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&g(t,n)}function O(e,t){var n=e[H];return(n?f(n):e)[t]}function P(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function M(e){e.P||(e.P=!0,e.l&&M(e.l))}function B(e){e.o||(e.o=p(e.t))}function k(e,t,n){var r=h(t)?y("MapSet").F(t,n):d(t)?y("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:b(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,s=X;n&&(i=[r],s=q);var o=Proxy.revocable(i,s),a=o.revoke,l=o.proxy;return r.k=l,r.j=a,l}(t,n):y("ES5").J(t,n);return(n?n.A:b()).p.push(r),r}function R(e){return i(e)||r(22,e),function e(t){if(!s(t))return t;var n,r=t[H],i=a(t);if(r){if(!r.P&&(r.i<4||!y("ES5").K(r)))return r.t;r.I=!0,n=L(t,i),r.I=!1}else n=L(t,i);return o(n,(function(t,i){r&&function(e,t){return 2===a(e)?e.get(t):e[t]}(r.t,t)===i||c(n,t,e(i))})),3===i?new Set(n):n}(e)}function L(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return p(e)}n.d(t,{xC:()=>Me,PH:()=>xe,hg:()=>Ze,HF:()=>Ue,Lq:()=>ke,oM:()=>Re});var F,D,N="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),j="undefined"!=typeof Map,U="undefined"!=typeof Set,G="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,z=N?Symbol.for("immer-nothing"):((F={})["immer-nothing"]=!0,F),V=N?Symbol.for("immer-draftable"):"__$immer_draftable",H=N?Symbol.for("immer-state"):"__$immer_state",Z=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),W="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,J=Object.getOwnPropertyDescriptors||function(e){var t={};return W(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},K={},X={get:function(e,t){if(t===H)return e;var n=f(e);if(!l(n,t))return function(e,t,n){var r,i=P(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!s(r)?r:r===O(e.t,t)?(B(e),e.o[t]=k(e.A.h,r,e)):r},has:function(e,t){return t in f(e)},ownKeys:function(e){return Reflect.ownKeys(f(e))},set:function(e,t,n){var r=P(f(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=O(f(e),t),s=null==i?void 0:i[H];if(s&&s.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(u(n,i)&&(void 0!==n||l(e.t,t)))return!0;B(e),M(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==O(e.t,t)||t in e.t?(e.R[t]=!1,B(e),M(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=f(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){r(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){r(12)}},q={};o(X,(function(e,t){q[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),q.deleteProperty=function(e,t){return q.set.call(this,e,t,void 0)},q.set=function(e,t,n){return X.set.call(this,e[0],t,n,e[0])};var Y=function(){function e(e){var t=this;this.O=G,this.D=!0,this.produce=function(e,n,i){if("function"==typeof e&&"function"!=typeof n){var o=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=o);for(var r=arguments.length,i=Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(i))}))}}var l;if("function"!=typeof n&&r(6),void 0!==i&&"function"!=typeof i&&r(7),s(e)){var c=E(t),u=k(t,e,void 0),h=!0;try{l=n(u),h=!1}finally{h?_(c):A(c)}return"undefined"!=typeof Promise&&l instanceof Promise?l.then((function(e){return w(c,i),x(e,c)}),(function(e){throw _(c),e})):(w(c,i),x(l,c))}if(!e||"object"!=typeof e){if(void 0===(l=n(e))&&(l=e),l===z&&(l=void 0),t.D&&g(l,!0),i){var d=[],f=[];y("Patches").M(e,l,d,f),i(d,f)}return l}r(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,s=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(e){return[e,r,i]})):[s,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){s(e)||r(8),i(e)&&(e=R(e));var t=E(this),n=k(this,e,void 0);return n[H].C=!0,A(t),n},t.finishDraft=function(e,t){var n=(e&&e[H]).A;return w(n,t),x(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!G&&r(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var s=y("Patches").$;return i(e)?s(e,t):this.produce(e,(function(e){return s(e,t)}))},e}(),Q=new Y,$=Q.produce;Q.produceWithPatches.bind(Q),Q.setAutoFreeze.bind(Q),Q.setUseProxies.bind(Q),Q.applyPatches.bind(Q),Q.createDraft.bind(Q),Q.finishDraft.bind(Q);const ee=$;var te="NOT_FOUND",ne=function(e,t){return e===t};function re(e,t){var n,r,i="object"==typeof t?t:{equalityCheck:t},s=i.equalityCheck,o=void 0===s?ne:s,a=i.maxSize,l=void 0===a?1:a,c=i.resultEqualityCheck,u=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}}(o),h=1===l?(n=u,{get:function(e){return r&&n(r.key,e)?r.value:te},put:function(e,t){r={key:e,value:t}},getEntries:function(){return r?[r]:[]},clear:function(){r=void 0}}):function(e,t){var n=[];function r(e){var r=n.findIndex((function(n){return t(e,n.key)}));if(r>-1){var i=n[r];return r>0&&(n.splice(r,1),n.unshift(i)),i.value}return te}return{get:r,put:function(t,i){r(t)===te&&(n.unshift({key:t,value:i}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(l,u);function d(){var t=h.get(arguments);if(t===te){if(t=e.apply(null,arguments),c){var n=h.getEntries().find((function(e){return c(e.value,t)}));n&&(t=n.value)}h.put(arguments,t)}return t}return d.clearCache=function(){return h.clear()},d}function ie(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var s,o=0,a={memoizeOptions:void 0},l=r.pop();if("object"==typeof l&&(a=l,l=r.pop()),"function"!=typeof l)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof l+"]");var c=a.memoizeOptions,u=void 0===c?n:c,h=Array.isArray(u)?u:[u],d=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}(r),f=e.apply(void 0,[function(){return o++,l.apply(null,arguments)}].concat(h)),p=e((function(){for(var e=[],t=d.length,n=0;n<t;n++)e.push(d[n].apply(null,arguments));return s=f.apply(null,e)}));return Object.assign(p,{resultFunc:l,memoizedResultFunc:f,dependencies:d,lastResult:function(){return s},recomputations:function(){return o},resetRecomputations:function(){return o=0}}),p}}var se=ie(re),oe=n(7779);function ae(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}var le=ae();le.withExtraArgument=ae;const ce=le;var ue,he=(ue=function(e,t){return ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},ue(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ue(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),de=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},fe=Object.defineProperty,pe=Object.defineProperties,ge=Object.getOwnPropertyDescriptors,me=Object.getOwnPropertySymbols,ve=Object.prototype.hasOwnProperty,ye=Object.prototype.propertyIsEnumerable,be=function(e,t,n){return t in e?fe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},we=function(e,t){for(var n in t||(t={}))ve.call(t,n)&&be(e,n,t[n]);if(me)for(var r=0,i=me(t);r<i.length;r++)n=i[r],ye.call(t,n)&&be(e,n,t[n]);return e},_e=function(e,t){return pe(e,ge(t))},Ae=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=se.apply(void 0,e);return function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return n.apply(void 0,de([i(e)?R(e):e],t))}},Ee="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?oe.qC:oe.qC.apply(null,arguments)};function Ce(e){if("object"!=typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}function xe(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return we(we({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function Se(e){return["type","payload","error","meta"].indexOf(e)>-1}"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var Te=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return he(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,de([void 0],e[0].concat(this)))):new(t.bind.apply(t,de([void 0],e.concat(this))))},t}(Array),Ie=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return he(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,de([void 0],e[0].concat(this)))):new(t.bind.apply(t,de([void 0],e.concat(this))))},t}(Array);function Oe(e){return s(e)?ee(e,(function(){})):e}var Pe=!0;function Me(e){var t,n=function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,e.actionCreatorCheck,new Te);return n&&(function(e){return"boolean"==typeof e}(n)?r.push(ce):r.push(ce.withExtraArgument(n.extraArgument))),r}(e)},r=e||{},i=r.reducer,s=void 0===i?void 0:i,o=r.middleware,a=void 0===o?n():o,l=r.devTools,c=void 0===l||l,u=r.preloadedState,h=void 0===u?void 0:u,d=r.enhancers,f=void 0===d?void 0:d;if("function"==typeof s)t=s;else{if(!Ce(s))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=(0,oe.UY)(s)}var p=a;if("function"==typeof p&&(p=p(n),!Pe&&!Array.isArray(p)))throw new Error("when using a middleware builder function, an array of middleware must be returned");if(!Pe&&p.some((function(e){return"function"!=typeof e})))throw new Error("each middleware provided to configureStore must be a function");var g=oe.md.apply(void 0,p),m=oe.qC;c&&(m=Ee(we({trace:!Pe},"object"==typeof c&&c)));var v=new Ie(g),y=v;Array.isArray(f)?y=de([g],f):"function"==typeof f&&(y=f(v));var b=m.apply(void 0,y);return(0,oe.MT)(t,h,b)}function Be(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"==typeof e?e:e.type;if(!r)throw new Error("`builder.addCase` cannot be called with an empty action type");if(r in n)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function ke(e,t,n,r){void 0===n&&(n=[]);var o,a="function"==typeof t?Be(t):[t,n,r],l=a[0],c=a[1],u=a[2];if(function(e){return"function"==typeof e}(e))o=function(){return Oe(e())};else{var h=Oe(e);o=function(){return h}}function d(e,t){void 0===e&&(e=o());var n=de([l[t.type]],c.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[u]),n.reduce((function(e,n){if(n){var r;if(i(e))return void 0===(r=n(e,t))?e:r;if(s(e))return ee(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return d.getInitialState=o,d}function Re(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:Oe(e.initialState),i=e.reducers||{},s=Object.keys(i),o={},a={},l={};function c(){var t="function"==typeof e.extraReducers?Be(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,s=t[1],o=void 0===s?[]:s,l=t[2],c=void 0===l?void 0:l,u=we(we({},i),a);return ke(r,(function(e){for(var t in u)e.addCase(t,u[t]);for(var n=0,r=o;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}c&&e.addDefaultCase(c)}))}return s.forEach((function(e){var n,r,s=i[e],c=t+"/"+e;"reducer"in s?(n=s.reducer,r=s.prepare):n=s,o[e]=n,a[c]=n,l[e]=r?xe(c,r):xe(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:l,caseReducers:o,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}function Le(e){return function(t,n){function r(e){return function(e){return Ce(e)&&"type"in e}(t=e)&&"string"==typeof t.type&&Object.keys(t).every(Se);var t}var s=function(t){r(n)?e(n.payload,t):e(n,t)};return i(t)?(s(t),t):ee(t,s)}}function Fe(e,t){return t(e)}function De(e){return Array.isArray(e)||(e=Object.values(e)),e}function Ne(e,t,n){for(var r=[],i=[],s=0,o=e=De(e);s<o.length;s++){var a=o[s],l=Fe(a,t);l in n.entities?i.push({id:l,changes:a}):r.push(a)}return[r,i]}function je(e){function t(t,n){var r=Fe(t,e);r in n.entities||(n.ids.push(r),n.entities[r]=t)}function n(e,n){for(var r=0,i=e=De(e);r<i.length;r++)t(i[r],n)}function r(t,n){var r=Fe(t,e);r in n.entities||n.ids.push(r),n.entities[r]=t}function i(e,t){var n=!1;e.forEach((function(e){e in t.entities&&(delete t.entities[e],n=!0)})),n&&(t.ids=t.ids.filter((function(e){return e in t.entities})))}function s(t,n){var r={},i={};if(t.forEach((function(e){e.id in n.entities&&(i[e.id]={id:e.id,changes:we(we({},i[e.id]?i[e.id].changes:null),e.changes)})})),(t=Object.values(i)).length>0){var s=t.filter((function(t){return function(t,n,r){var i=r.entities[n.id],s=Object.assign({},i,n.changes),o=Fe(s,e),a=o!==n.id;return a&&(t[n.id]=o,delete r.entities[n.id]),r.entities[o]=s,a}(r,t,n)})).length>0;s&&(n.ids=Object.keys(n.entities))}}function o(t,r){var i=Ne(t,e,r),o=i[0];s(i[1],r),n(o,r)}return{removeAll:(a=function(e){Object.assign(e,{ids:[],entities:{}})},l=Le((function(e,t){return a(t)})),function(e){return l(e,void 0)}),addOne:Le(t),addMany:Le(n),setOne:Le(r),setMany:Le((function(e,t){for(var n=0,i=e=De(e);n<i.length;n++)r(i[n],t)})),setAll:Le((function(e,t){e=De(e),t.ids=[],t.entities={},n(e,t)})),updateOne:Le((function(e,t){return s([e],t)})),updateMany:Le(s),upsertOne:Le((function(e,t){return o([e],t)})),upsertMany:Le(o),removeOne:Le((function(e,t){return i([e],t)})),removeMany:Le(i)};var a,l}function Ue(e){void 0===e&&(e={});var t=we({sortComparer:!1,selectId:function(e){return e.id}},e),n=t.selectId,r=t.sortComparer,i={getInitialState:function(e){return void 0===e&&(e={}),Object.assign({ids:[],entities:{}},e)}},s={getSelectors:function(e){var t=function(e){return e.ids},n=function(e){return e.entities},r=Ae(t,n,(function(e,t){return e.map((function(e){return t[e]}))})),i=function(e,t){return t},s=function(e,t){return e[t]},o=Ae(t,(function(e){return e.length}));if(!e)return{selectIds:t,selectEntities:n,selectAll:r,selectTotal:o,selectById:Ae(n,i,s)};var a=Ae(e,n);return{selectIds:Ae(e,t),selectEntities:a,selectAll:Ae(e,r),selectTotal:Ae(e,o),selectById:Ae(a,i,s)}}},o=r?function(e,t){var n=je(e);function r(t,n){var r=(t=De(t)).filter((function(t){return!(Fe(t,e)in n.entities)}));0!==r.length&&a(r,n)}function i(e,t){0!==(e=De(e)).length&&a(e,t)}function s(t,n){for(var r=!1,i=0,s=t;i<s.length;i++){var o=s[i],a=n.entities[o.id];if(a){r=!0,Object.assign(a,o.changes);var c=e(a);o.id!==c&&(delete n.entities[o.id],n.entities[c]=a)}}r&&l(n)}function o(t,n){var i=Ne(t,e,n),o=i[0];s(i[1],n),r(o,n)}function a(t,n){t.forEach((function(t){n.entities[e(t)]=t})),l(n)}function l(n){var r=Object.values(n.entities);r.sort(t);var i=r.map(e);(function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(e[n]!==t[n])return!1;return!0})(n.ids,i)||(n.ids=i)}return{removeOne:n.removeOne,removeMany:n.removeMany,removeAll:n.removeAll,addOne:Le((function(e,t){return r([e],t)})),updateOne:Le((function(e,t){return s([e],t)})),upsertOne:Le((function(e,t){return o([e],t)})),setOne:Le((function(e,t){return i([e],t)})),setMany:Le(i),setAll:Le((function(e,t){e=De(e),t.entities={},t.ids=[],r(e,t)})),addMany:Le(r),updateMany:Le(s),upsertMany:Le(o)}}(n,r):je(n);return we(we(we({selectId:n,sortComparer:r},i),s),o)}var Ge=["name","message","stack","code"],ze=function(e,t){this.payload=e,this.meta=t},Ve=function(e,t){this.payload=e,this.meta=t},He=function(e){if("object"==typeof e&&null!==e){for(var t={},n=0,r=Ge;n<r.length;n++){var i=r[n];"string"==typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}},Ze=function(){function e(e,t,n){var r=xe(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:_e(we({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=xe(e+"/pending",(function(e,t,n){return{payload:void 0,meta:_e(we({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),s=xe(e+"/rejected",(function(e,t,r,i,s){return{payload:i,error:(n&&n.serializeError||He)(e||"Rejected"),meta:_e(we({},s||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!=typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){},e}();return Object.assign((function(e){return function(a,l,c){var u,h=(null==n?void 0:n.idGenerator)?n.idGenerator(e):function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t}(),d=new o;function f(e){u=e,d.abort()}var p=function(){return o=this,p=null,g=function(){var o,p,g,m,v,y;return function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}(this,(function(b){switch(b.label){case 0:return b.trys.push([0,4,,5]),null===(w=m=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:l,extra:c}))||"object"!=typeof w||"function"!=typeof w.then?[3,2]:[4,m];case 1:m=b.sent(),b.label=2;case 2:if(!1===m||d.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return v=new Promise((function(e,t){return d.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:u||"Aborted"})}))})),a(i(h,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:h,arg:e},{getState:l,extra:c}))),[4,Promise.race([v,Promise.resolve(t(e,{dispatch:a,getState:l,extra:c,requestId:h,signal:d.signal,abort:f,rejectWithValue:function(e,t){return new ze(e,t)},fulfillWithValue:function(e,t){return new Ve(e,t)}})).then((function(t){if(t instanceof ze)throw t;return t instanceof Ve?r(t.payload,h,e,t.meta):r(t,h,e)}))])];case 3:return g=b.sent(),[3,5];case 4:return y=b.sent(),g=y instanceof ze?s(null,h,e,y.payload,y.meta):s(y,h,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&s.match(g)&&g.meta.condition||a(g),[2,g]}var w}))},new Promise((function(e,t){var n=function(e){try{i(g.next(e))}catch(e){t(e)}},r=function(e){try{i(g.throw(e))}catch(e){t(e)}},i=function(t){return t.done?e(t.value):Promise.resolve(t.value).then(n,r)};i((g=g.apply(o,p)).next())}));var o,p,g}();return Object.assign(p,{abort:f,requestId:h,arg:e,unwrap:function(){return p.then(We)}})}}),{pending:i,rejected:s,fulfilled:r,typePrefix:e})}return e.withTypes=function(){return e},e}();function We(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var Je="listenerMiddleware";xe(Je+"/add"),xe(Je+"/removeAll"),xe(Je+"/remove"),"function"==typeof queueMicrotask&&queueMicrotask.bind("undefined"!=typeof window?window:void 0!==n.g?n.g:globalThis);"undefined"!=typeof window&&window.requestAnimationFrame&&window.requestAnimationFrame,function(){function e(e,t){var n=s[e];return n?n.enumerable=t:s[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[H];return X.get(t,e)},set:function(t){var n=this[H];X.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][H];if(!i.P)switch(i.i){case 5:r(i)&&M(i);break;case 4:n(i)&&M(i)}}}function n(e){for(var t=e.t,n=e.k,r=W(n),i=r.length-1;i>=0;i--){var s=r[i];if(s!==H){var o=t[s];if(void 0===o&&!l(t,s))return!0;var a=n[s],c=a&&a[H];if(c?c.t!==o:!u(a,o))return!0}}var h=!!t[H];return r.length!==W(t).length+(h?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var s={};!function(e,t){K[e]||(K[e]=t)}("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var s=J(n);delete s[H];for(var o=W(s),a=0;a<o.length;a++){var l=o[a];s[l]=e(l,t||!!s[l].enumerable)}return Object.create(Object.getPrototypeOf(n),s)}(r,t),s={i:r?5:4,A:n?n.A:b(),P:!1,I:!1,R:{},l:n,t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,H,{value:s,writable:!0}),i},S:function(e,n,s){s?i(n)&&n[H].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[H];if(n){var i=n.t,s=n.k,a=n.R,c=n.i;if(4===c)o(s,(function(t){t!==H&&(void 0!==i[t]||l(i,t)?a[t]||e(s[t]):(a[t]=!0,M(n)))})),o(i,(function(e){void 0!==s[e]||l(s,e)||(a[e]=!1,M(n))}));else if(5===c){if(r(n)&&(M(n),a.length=!0),s.length<i.length)for(var u=s.length;u<i.length;u++)a[u]=!1;else for(var h=i.length;h<s.length;h++)a[h]=!0;for(var d=Math.min(s.length,i.length),f=0;f<d;f++)s.hasOwnProperty(f)||(a[f]=!0),void 0===a[f]&&e(s[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}()},3367:(e,t,n)=>{var r,i;void 0===(i="function"==typeof(r=function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=i(e);if(t){var s=i(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)}(this,n)}}function l(){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}(e,t);if(r){var s=Object.getOwnPropertyDescriptor(r,t);return s.get?s.get.call(arguments.length<3?e:n):s.value}},l.apply(this,arguments)}var c=function(){function t(){e(this,t),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(t,[{key:"addEventListener",value:function(e,t,n){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push({callback:t,options:n})}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var n=this.listeners[e],r=0,i=n.length;r<i;r++)if(n[r].callback===t)return void n.splice(r,1)}},{key:"dispatchEvent",value:function(e){if(e.type in this.listeners){for(var t=this.listeners[e.type].slice(),n=0,r=t.length;n<r;n++){var i=t[n];try{i.callback.call(this,e)}catch(e){Promise.resolve().then((function(){throw e}))}i.options&&i.options.once&&this.removeEventListener(e.type,i.callback)}return!e.defaultPrevented}}}]),t}(),u=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(u,t);var n=a(u);function u(){var t;return e(this,u),(t=n.call(this)).listeners||c.call(o(t)),Object.defineProperty(o(t),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(o(t),"onabort",{value:null,writable:!0,configurable:!0}),Object.defineProperty(o(t),"reason",{value:void 0,writable:!0,configurable:!0}),t}return r(u,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(e){"abort"===e.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),l(i(u.prototype),"dispatchEvent",this).call(this,e)}}]),u}(c),h=function(){function t(){e(this,t),Object.defineProperty(this,"signal",{value:new u,writable:!0,configurable:!0})}return r(t,[{key:"abort",value:function(e){var t;try{t=new Event("abort")}catch(e){"undefined"!=typeof document?document.createEvent?(t=document.createEvent("Event")).initEvent("abort",!1,!1):(t=document.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}var n=e;if(void 0===n)if("undefined"==typeof document)(n=new Error("This operation was aborted")).name="AbortError";else try{n=new DOMException("signal is aborted without reason")}catch(e){(n=new Error("This operation was aborted")).name="AbortError"}this.signal.reason=n,this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();function d(e){return e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof e.Request&&!e.Request.prototype.hasOwnProperty("signal")||!e.AbortController}"undefined"!=typeof Symbol&&Symbol.toStringTag&&(h.prototype[Symbol.toStringTag]="AbortController",u.prototype[Symbol.toStringTag]="AbortSignal"),function(e){if(d(e))if(e.fetch){var t=function(e){"function"==typeof e&&(e={fetch:e});var t=e,n=t.fetch,r=t.Request,i=void 0===r?n.Request:r,s=t.AbortController,o=t.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,a=void 0!==o&&o;if(!d({fetch:n,Request:i,AbortController:s,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:a}))return{fetch:n,Request:l};var l=i;(l&&!l.prototype.hasOwnProperty("signal")||a)&&((l=function(e,t){var n;t&&t.signal&&(n=t.signal,delete t.signal);var r=new i(e,t);return n&&Object.defineProperty(r,"signal",{writable:!1,enumerable:!1,configurable:!0,value:n}),r}).prototype=i.prototype);var c=n;return{fetch:function(e,t){var n=l&&l.prototype.isPrototypeOf(e)?e.signal:t?t.signal:void 0;if(n){var r;try{r=new DOMException("Aborted","AbortError")}catch(e){(r=new Error("Aborted")).name="AbortError"}if(n.aborted)return Promise.reject(r);var i=new Promise((function(e,t){n.addEventListener("abort",(function(){return t(r)}),{once:!0})}));return t&&t.signal&&delete t.signal,Promise.race([i,c(e,t)])}return c(e,t)},Request:l}}(e),n=t.fetch,r=t.Request;e.fetch=n,e.Request=r,Object.defineProperty(e,"AbortController",{writable:!0,enumerable:!1,configurable:!0,value:h}),Object.defineProperty(e,"AbortSignal",{writable:!0,enumerable:!1,configurable:!0,value:u})}else console.warn("fetch() is not available, cannot install abortcontroller-polyfill")}("undefined"!=typeof self?self:n.g)})?r.call(t,n,t,e):r)||(e.exports=i)},4997:(e,t,n)=>{"use strict";n.d(t,{EA:()=>Je,bj:()=>C,iR:()=>k,vf:()=>Qe,hP:()=>Xe,gq:()=>qe,QP:()=>Ye,un:()=>Ue,jU:()=>je});const r=Symbol("Comlink.proxy"),i=Symbol("Comlink.endpoint"),s=Symbol("Comlink.releaseProxy"),o=Symbol("Comlink.thrown"),a=e=>"object"==typeof e&&null!==e||"function"==typeof e,l=new Map([["proxy",{canHandle:e=>a(e)&&e[r],serialize(e){const{port1:t,port2:n}=new MessageChannel;return c(e,t),[n,[n]]},deserialize:e=>(e.start(),h(e))}],["throw",{canHandle:e=>a(e)&&o in e,serialize({value:e}){let t;return t=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[t,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function c(e,t=self){t.addEventListener("message",(function n(r){if(!r||!r.data)return;const{id:i,type:s,path:a}=Object.assign({path:[]},r.data),l=(r.data.argumentList||[]).map(b);let h;try{const t=a.slice(0,-1).reduce(((e,t)=>e[t]),e),n=a.reduce(((e,t)=>e[t]),e);switch(s){case"GET":h=n;break;case"SET":t[a.slice(-1)[0]]=b(r.data.value),h=!0;break;case"APPLY":h=n.apply(t,l);break;case"CONSTRUCT":h=m(new n(...l));break;case"ENDPOINT":{const{port1:t,port2:n}=new MessageChannel;c(e,n),h=function(e,t){return g.set(e,t),e}(t,[t])}break;case"RELEASE":h=void 0;break;default:return}}catch(e){h={value:e,[o]:0}}Promise.resolve(h).catch((e=>({value:e,[o]:0}))).then((e=>{const[r,o]=y(e);t.postMessage(Object.assign(Object.assign({},r),{id:i}),o),"RELEASE"===s&&(t.removeEventListener("message",n),u(t))}))})),t.start&&t.start()}function u(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function h(e,t){return f(e,[],t)}function d(e){if(e)throw new Error("Proxy has been released and is not useable")}function f(e,t=[],n=function(){}){let r=!1;const o=new Proxy(n,{get(n,i){if(d(r),i===s)return()=>w(e,{type:"RELEASE",path:t.map((e=>e.toString()))}).then((()=>{u(e),r=!0}));if("then"===i){if(0===t.length)return{then:()=>o};const n=w(e,{type:"GET",path:t.map((e=>e.toString()))}).then(b);return n.then.bind(n)}return f(e,[...t,i])},set(n,i,s){d(r);const[o,a]=y(s);return w(e,{type:"SET",path:[...t,i].map((e=>e.toString())),value:o},a).then(b)},apply(n,s,o){d(r);const a=t[t.length-1];if(a===i)return w(e,{type:"ENDPOINT"}).then(b);if("bind"===a)return f(e,t.slice(0,-1));const[l,c]=p(o);return w(e,{type:"APPLY",path:t.map((e=>e.toString())),argumentList:l},c).then(b)},construct(n,i){d(r);const[s,o]=p(i);return w(e,{type:"CONSTRUCT",path:t.map((e=>e.toString())),argumentList:s},o).then(b)}});return o}function p(e){const t=e.map(y);return[t.map((e=>e[0])),(n=t.map((e=>e[1])),Array.prototype.concat.apply([],n))];var n}const g=new WeakMap;function m(e){return Object.assign(e,{[r]:!0})}function v(e,t=self,n="*"){return{postMessage:(t,r)=>e.postMessage(t,n,r),addEventListener:t.addEventListener.bind(t),removeEventListener:t.removeEventListener.bind(t)}}function y(e){for(const[t,n]of l)if(n.canHandle(e)){const[r,i]=n.serialize(e);return[{type:"HANDLER",name:t,value:r},i]}return[{type:"RAW",value:e},g.get(e)||[]]}function b(e){switch(e.type){case"HANDLER":return l.get(e.name).deserialize(e.value);case"RAW":return e.value}}function w(e,t,n){return new Promise((r=>{const i=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");e.addEventListener("message",(function t(n){n.data&&n.data.id&&n.data.id===i&&(e.removeEventListener("message",t),r(n.data))})),e.start&&e.start(),e.postMessage(Object.assign({id:i},t),n)}))}l.set("FUNCTION",{canHandle:e=>e&&"object"==typeof e&&Object.values(e).some((e=>"function"==typeof e)),serialize(e){e._functionKeys=[];const t=[];return Object.entries(e).forEach((n=>{let[r,i]=n;if("function"==typeof i){const{port1:n,port2:i}=new MessageChannel;e._functionKeys.push(r),c(e[r],n),e[r]=i,t.push(i)}})),[e,t]},deserialize:e=>(e._functionKeys.forEach((t=>{e[t].start(),e[t]=h(e[t])})),e)});var _=n(4608),A=n.n(_),E=n(7294);let C=function(e){return e[e.OK=1]="OK",e[e.CANCEL=-1]="CANCEL",e[e.NEGATIVE=0]="NEGATIVE",e}({}),x=function(e){return e[e.XS=0]="XS",e[e.SM=1]="SM",e[e.MD=2]="MD",e[e.LG=3]="LG",e[e.XL=4]="XL",e}({}),S=function(e){return e[e.OnShow=0]="OnShow",e[e.OnHide=1]="OnHide",e[e.OnRefresh=2]="OnRefresh",e[e.OnOpenCcScanner=3]="OnOpenCcScanner",e[e.OnCloseCcScanner=4]="OnCloseCcScanner",e}({}),T=function(e){return e[e.Font=0]="Font",e[e.Base64=1]="Base64",e[e.Url=2]="Url",e}({}),I=function(e){return e[e.Unknown=0]="Unknown",e[e.male=1]="male",e[e.female=2]="female",e[e.diverse=9]="diverse",e}({}),O=function(e){return e[e.Unknown=0]="Unknown",e[e.ChaynsDe=1]="ChaynsDe",e[e.ChaynsWeb=2]="ChaynsWeb",e[e.ChaynsRuntime=3]="ChaynsRuntime",e[e.IntercomPlugin=4]="IntercomPlugin",e[e.PagemakerPlugin=5]="PagemakerPlugin",e}({}),P=function(e){return e[e.Unknown=0]="Unknown",e[e.David=1]="David",e[e.Chayns=2]="Chayns",e[e.Location=3]="Location",e[e.Intercom=4]="Intercom",e[e.ChaynsLauncher=5]="ChaynsLauncher",e[e.TobitChat=6]="TobitChat",e[e.Sidekick=7]="Sidekick",e}({}),M=function(e){return e[e.Development=0]="Development",e[e.Qa=1]="Qa",e[e.Staging=2]="Staging",e[e.Production=3]="Production",e}({}),B=function(e){return e[e.Unknown=0]="Unknown",e[e.Roboto=1]="Roboto",e[e.OpenSans=2]="OpenSans",e[e.Lato=3]="Lato",e[e.SourceSansPro=4]="SourceSansPro",e[e.Ubuntu=5]="Ubuntu",e[e.Cabin=6]="Cabin",e[e.Merriweather=7]="Merriweather",e[e.NotoSerif=8]="NotoSerif",e[e.PTSerif=9]="PTSerif",e[e.DroidSerif=10]="DroidSerif",e[e.Muli=11]="Muli",e[e.Poppins=12]="Poppins",e[e.RobotoCondensed=13]="RobotoCondensed",e[e.Anton=14]="Anton",e[e.ArchitectsDaughter=15]="ArchitectsDaughter",e[e.DMSerifDisplay=16]="DMSerifDisplay",e[e.Pacifico=17]="Pacifico",e[e.PermanentMarker=18]="PermanentMarker",e[e.Questrial=19]="Questrial",e[e.RobotoSlab=20]="RobotoSlab",e[e.ShadowsIntoLightTwo=21]="ShadowsIntoLightTwo",e[e.WaitingForTheSunrise=22]="WaitingForTheSunrise",e[e.RobotoMedium=23]="RobotoMedium",e[e.TobitHeadline=24]="TobitHeadline",e[e.RobotoBold=25]="RobotoBold",e[e.RobotoRegular=26]="RobotoRegular",e[e.Inter=27]="Inter",e}({}),k=function(e){return e.ALERT="alert",e.CONFIRM="confirm",e.DATE="date",e.FILE_SELECT="fileSelect",e.IFRAME="iframe",e.MODULE="module",e.INPUT="input",e.SELECT="select",e.TOAST="toast",e}({});var R=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},L=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},F=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"},D=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},N=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,j=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],U=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function G(e){var t=function(e){return""!==e&&j.reduce((function(t,n){var r=n[0],i=n[1];if(t)return t;var s=i.exec(e);return!!s&&[r,s]}),!1)}(e);if(!t)return null;var n=t[0],r=t[1];if("searchbot"===n)return new D;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<3&&(i=R(R([],i,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(3-i.length),!0)):i=[];var s=i.join("."),o=function(e){for(var t=0,n=U.length;t<n;t++){var r=U[t],i=r[0];if(r[1].exec(e))return i}return null}(e),a=N.exec(e);return a&&a[1]?new F(n,s,o,a[1]):new L(n,s,o)}const z=e=>{let t;return t=e>1200?x.XL:e>993?x.LG:e>769?x.MD:e>556?x.SM:x.XS,t},V=(e,t)=>{var n,r,i,s;const o=G(e);let a=P.Unknown;const l=/(?:my)?chayns\/(?<version>\d+).*(?<siteId>\d{5}-\d{5})/i.exec(e);/\sintercom\/\d+/i.test(e)?a=P.TobitChat:/\ssidekick\/\d+/i.test(e)?a=P.Sidekick:"60021-08989"===(null==l||null===(n=l.groups)||void 0===n?void 0:n.siteId)?a=P.Chayns:"77892-10814"===(null==l||null===(r=l.groups)||void 0===r?void 0:r.siteId)?a=P.David:l?a=P.Location:/dface|h96pp|h96max|jabiru|chaynsterminal|wayter|odroidn2p/i.test(e)&&(a=P.ChaynsLauncher);const c={};if(c.browser={name:null==o?void 0:o.name,version:null==o?void 0:o.version,majorVersion:Number.parseInt(null!==(i=null==o||null===(s=o.version)||void 0===s?void 0:s.split(".")[0])&&void 0!==i?i:"0",10)||0,isWebPSupported:t.includes("image/webp")},c.app={name:a,version:null!=l&&l.groups?Number.parseInt(l.groups.version,10):NaN},c.imei=void 0,c.accessToken=void 0,c.os=null==o?void 0:o.os,"undefined"!=typeof window)c.screenSize=z(window.innerWidth),c.isTouch=navigator.maxTouchPoints>0&&window.matchMedia("(pointer: coarse)").matches;else{const t=/mobi/i.test(e)?x.SM:x.XL;c.screenSize=a!==P.Unknown?x.XS:t}return c};var H=n(3096),Z=n.n(H);function W(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class J{constructor(e,t,n,r,i){W(this,"isOpen",!1),W(this,"result",void 0),W(this,"listeners",[]),this._open=t,this._close=n,this._config=e,this._dispatchEvent=r,this._addDataListener=i}async open(){if(this.isOpen)throw new Error("cannot open a dialog which is already open");const e=await new Promise((async e=>{this.isOpen=!0,this.dialogId=await this._open(this._config,(t=>{this.isOpen=!1,e(t)})),this._addDataListener(this.dialogId,(e=>{this.listeners.forEach((t=>t(e)))}))}));return this.result=e}close(e,t){this.isOpen&&(this.isOpen=!1,this._close(this.dialogId,t))}dispatchEvent(e){this.isOpen&&this._dispatchEvent(this.dialogId,e)}addDataListener(e){this.listeners.push(e)}removeDataListener(e){const t=this.listeners.findIndex((t=>t===e));t>-1&&this.listeners.splice(t,1)}getResult(){return this.result}}const K=e=>{var t,n,r;if(e=JSON.stringify(e),null!==(t=window.webkit)&&void 0!==t&&null!==(t=t.messageHandlers)&&void 0!==t&&t.jsonCall)window.webkit.messageHandlers.jsonCall.postMessage(e);else if(null!==(n=window.chaynsApp)&&void 0!==n&&n.jsonCall)window.chaynsApp.jsonCall(e);else{if(null===(r=window.chaynsElectron)||void 0===r||!r.jsonCall)throw new Error("jsoncall interface not found");window.chaynsElectron.jsonCall(e)}},X=async(e,t)=>{var n;const r=null!==(n=t.personId)&&void 0!==n?n:t.userId;if(!r)throw new Error("Invalid Parameters - You have to provide at least one of these Parameters: userId, personId");const{accessToken:i}=await e.functions.getAccessToken();if(!i)throw new Error("get user info requires a user to be logged in");const s=await fetch(`https://relations.chayns.net/relations/user/findUser?searchString=${r}`,{headers:{authorization:`bearer ${i}`}});if(s.ok){const e=await s.json();return 0===e.length?null:{firstName:e[0].firstName,lastName:e[0].lastName,userId:e[0].userId,personId:e[0].personId,name:e[0].name}}throw new Error(`getUserInfo failed with status ${s.status}`)},q=async(e,t,n)=>{var r;if(!t.text)return Promise.reject(new Error("no text specified"));const i=null===(r=e.values.user)||void 0===r?void 0:r.userId;if(void 0===i)return Promise.reject(new Error("missing sender user id"));const{accessToken:s}=await e.functions.getAccessToken();return s&&s?$(`/user/${i}/message`,s,{receivers:[{tobitId:n}],message:{images:Array.isArray(t.images)?t.images.map((e=>({url:e}))):[],text:t.text,typeId:1}}):Promise.reject(new Error("send message requires a user to be logged in"))},Y=async(e,t)=>{var n;if(!t.text)return Promise.reject(new Error("no text specified"));const r=null===(n=e.values.user)||void 0===n?void 0:n.userId;if(void 0===r)return Promise.reject(new Error("missing sender user id"));const{accessToken:i}=await e.functions.getAccessToken();if(!i)return Promise.reject(new Error("send message requires a user to be logged in"));const s=Array.isArray(t.images)?t.images.map((e=>({url:e}))):[];return $(`/user/${r}/message`,i,{receivers:[{locationId:e.values.site.locationId}],message:{images:s,text:t.text,typeId:1}})},Q=async(e,t,n)=>{if(!t.text)return Promise.reject(new Error("no text specified"));const{accessToken:r}=await e.functions.getAccessToken(),{locationId:i}=e.values.site;return r?$(`/location/${i}/broadcast`,r,{receivers:[{groupId:n}],message:{images:Array.isArray(t.images)?t.images.map((e=>({url:e}))):[],text:t.text,typeId:6}}):Promise.reject(new Error("send message requires a user to be logged in"))};function $(e,t,n){return fetch(`https://sub54.tobit.com/rest/api${e}`,{method:"POST",headers:{authorization:`bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(n)})}const ee={};let te=0;const ne=(e,t)=>{const n=++te;ee[e]||(ee[e]={});const r=0===Object.keys(ee[e]).length;return ee[e][te]=t,{id:n,shouldInitialize:r}},re=(e,t)=>(ee[e]&&delete ee[e][t],0===Object.keys(ee[e]).length),ie=(e,t)=>{ee[e]&&Object.values(ee[e]).forEach((e=>e(t)))};function se(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let oe=0;class ae{mapOldApiToNew(e){var t,n,r,i;const{AppInfo:s,AppUser:o}=e;this.accessToken=o.TobitAccessToken;const a=new URLSearchParams(location.search);let l=new URLSearchParams(location.search.toLowerCase()).get("colormode");if(l)try{l=Number.parseInt(l,10)}catch{}return{device:V(navigator.userAgent,"image/webp"),environment:{buildEnvironment:M.Production,runtimeEnvironment:O.Unknown},language:{site:s.Language,translation:null,device:s.Language,active:s.Language},site:{id:s.SiteID,locationId:s.LocationID,url:null===(t=window)||void 0===t?void 0:t.location.href.split("#")[0],layoutDisposition:{contentWide:!1,barOnTop:!1,barWide:!1,coverDetached:!1,coverHidden:!1,coverWide:!1,docked:!1},title:s.Title,colorMode:null!==(n=l)&&void 0!==n?n:s.colorMode,color:s.color,domain:s.domain,font:{id:B.Roboto,headlineFont:B.Roboto,dynamicFontSize:!1},dynamicFontSize:!1,locationPersonId:s.LocationPersonId,urlHash:null===(r=window)||void 0===r?void 0:r.location.hash.replace("#","")},parameters:Object.fromEntries(a),user:{firstName:o.FirstName,lastName:o.LastName,gender:I.Unknown,userId:o.TobitUserID,personId:o.PersonID,uacGroups:[]},customData:null,isAdminModeActive:o.AdminMode,currentPage:{id:null===(i=s.TappSelected)||void 0===i?void 0:i.TappID,siteId:s.SiteID},pages:s.Tapps.map((e=>({id:e.TappID,icon:"",iconType:T.Font,customUrl:"",isExclusive:e.isExclusiveView,isHiddenFromMenu:e.isHiddenFromMenu,minAge:null,name:e.ShowName,sortId:e.SortUID})))}}constructor(){se(this,"values",null),se(this,"accessToken",""),se(this,"counter",0),se(this,"functions",{getAccessToken:async()=>({accessToken:this.accessToken}),addGeoLocationListener:async(e,t)=>{const{id:n,shouldInitialize:r}=ne("geoLocationListener",t);return r&&this.appCall(14,{permanent:!0},{callback:e=>{var t,n,r;ie("geoLocationListener",{latitude:e.latitude,longitude:e.longitude,accuracy:null!==(t=e.accuracy)&&void 0!==t?t:null,speed:e.speed,isAccurate:null!==(n=e.isAccurate)&&void 0!==n?n:null,code:null!==(r=e.code)&&void 0!==r?r:null})}}),n},addScrollListener:async(e,t)=>{let n=t;e.throttle&&(n=Z()(t,e.throttle));const{id:r,shouldInitialize:i}=ne("scrollListener",n);return i&&window.addEventListener("scroll",this.scrollListener=()=>{(async()=>{ie("scrollListener",{scrollX:window.scrollX,scrollY:window.scrollY})})()}),r},addVisibilityChangeListener:async e=>{const{id:t,shouldInitialize:n}=ne("visibilityChangeListener",e);return n&&this.appCall(60,{},{callback:e=>{ie("visibilityChangeListener",{isVisible:e.tappEvent===S.OnShow,tappEvent:e.tappEvent})}}),t},addToolbarChangeListener:async e=>{const{id:t,shouldInitialize:n}=ne("toolbarChangeListener",e);return n&&this.appCall(293,{},{callback:e=>{ie("toolbarChangeListener",{isVisible:e.isVisible,toolbarHeight:e.toolbarHeight})}}),t},addWindowMetricsListener:async e=>{const{id:t,shouldInitialize:n}=ne("windowMetricsListener",e);return n&&window.addEventListener("resize",this.resizeListener=()=>{(async()=>{ie("windowMetricsListener",await this.functions.getWindowMetrics())})()}),t},customCallbackFunction:async()=>{this.notImplemented("customCallbackFunction")},getAvailableSharingServices:async()=>{const e=await this.appCall(79);return{availableSharingApps:e.availableSharingApps,availableAndroidApps:e.availableAndroidApps}},getGeoLocation:async()=>{var e,t,n;const r=await this.appCall(14);return{latitude:r.latitude,longitude:r.longitude,speed:r.speed,accuracy:null!==(e=r.accuracy)&&void 0!==e?e:null,isAccurate:null!==(t=r.isAccurate)&&void 0!==t?t:null,code:null!==(n=r.code)&&void 0!==n?n:null}},getUserInfo:async e=>X(this,e),getScrollPosition:async()=>({scrollX:window.scrollX,scrollY:window.scrollY}),getWindowMetrics:async()=>({bottomBarHeight:0,windowHeight:window.innerHeight,offsetTop:0,pageHeight:window.innerHeight,pageSize:z(window.innerWidth),pageWidth:window.innerWidth,topBarHeight:0}),invokeCall:async(e,t)=>this.appCall(e.action,e.value,{callback:t}),invokeDialogCall:async(e,t)=>{const n="chaynsApiV5Callback_"+this.counter++;window[n]=e=>{let{retVal:r}=e;null==t||t(r),delete window[n]};const r={...e,value:{...e.value,callback:n}};K(r)},login:async(e,t,n)=>{const r=await this.appCall({},t);return{loginState:null==r?void 0:r.loginState}},logout:async()=>{this.appCall(56,void 0,{awaitResult:!1})},navigateBack:async()=>{this.appCall(20,void 0,{awaitResult:!1})},openImage:async e=>{this.appCall(4,{items:e.items.map((e=>({url:e.url,title:e.title,description:e.description,preventCache:e.preventCache}))),startIndex:e.startIndex},{awaitResult:!1})},openUrl:async e=>{window.open(e.url)},openVideo:async e=>{this.appCall(15,{url:e.url},{awaitResult:!1})},refreshAccessToken:async()=>{this.appCall(55,void 0,{awaitResult:!1})},refreshData:async e=>{this.notImplemented("refreshData")},removeGeoLocationListener:async e=>{const{shouldRemove:t}=re("geoLocationListener",e)},removeScrollListener:async e=>{const{shouldRemove:t}=re("scrollListener",e);t&&this.scrollListener&&(window.removeEventListener("scroll",this.scrollListener),this.scrollListener=null)},removeVisibilityChangeListener:async e=>{const{shouldRemove:t}=re("visibilityChangeListener",e)},removeToolbarChangeListener:async e=>{const{shouldRemove:t}=re("toolbarChangeListener",e)},removeWindowMetricsListener:async e=>{re("windowMetricsListener",e)&&(this.exposedFunctions.removeWindowMetricsListener(e),this.resizeListener&&window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},selectPage:async e=>{this.appCall(2,{id:e.id,showName:e.showName,position:e.position,params:new URLSearchParams(e.params).toString()||void 0},{awaitResult:!1})},scrollToY:async e=>{window.scrollTo({top:e})},scrollByY:(e,t)=>{window.scrollBy({top:e})},sendMessageToGroup:async(e,t)=>Q(this,t,e),sendMessageToPage:async e=>Y(this,e),sendMessageToUser:async(e,t)=>q(this,t,e),setAdminMode:async()=>{this.notImplemented("setAdminMode")},setDisplayTimeout:async e=>(this.appCall(94,{enabled:e},{awaitResult:!1}),{isEnabled:e}),setFloatingButton:async(e,t)=>{await this.appCall(72,{text:e.text,textSize:e.textSize,badge:e.badge,color:e.color,colorText:e.colorText,icon:e.icon,enabled:e.isEnabled,position:e.position},t)},setHeight:async()=>{this.notImplemented("setOverlay")},setOverlay:async()=>{this.notImplemented("setOverlay")},setRefreshScrollEnabled:async e=>(this.appCall(0,{enabled:e},{awaitResult:!1}),{isEnabled:e}),setScanQrCode:async e=>await this.appCall(34,e),setTempDesignSettings:async()=>{this.notImplemented("setTempDesignSettings")},setWaitCursor:async e=>{this.appCall(1,{enabled:e.isEnabled,text:e.text,timeout:e.timeout,progress:e.progress,progressText:e.progressText,disappearTimeout:e.disappearTimeout},{awaitResult:!1})},storageGetItem:async(e,t)=>{const n=await this.appCall(74,{key:e,accessMode:t});return null==n?void 0:n.object},storageRemoveItem:async(e,t)=>{this.appCall(73,{key:e,accessMode:t},{awaitResult:!1})},storageSetItem:async(e,t,n,r)=>{this.appCall(73,{key:e,object:t,accessMode:n,tappIDs:r},{awaitResult:!1})},vibrate:async e=>{this.appCall(19,e,{awaitResult:!1})},createDialog:e=>new J(e,this.functions.openDialog,this.functions.closeDialog),openDialog:async(e,t)=>{const n=oe++,r=new EventTarget;return this.dispatchDialogChange([...this.dialogs,{config:e,resolve:e=>{t(e),this.dispatchDialogChange(this.dialogs.filter((e=>e.dialogId!==n)))},dialogId:n,eventTarget:r}]),n},closeDialog:e=>{const t=this.dialogs.find((t=>t.dialogId===e));t&&t.resolve({buttonType:-1})}}),se(this,"dialogs",[]),se(this,"dialogEventTarget",new EventTarget)}notImplemented(e){console.warn(`call ${e} not implement in app`)}dispatchDialogChange(e){this.dialogs=e,this.dialogEventTarget.dispatchEvent(new CustomEvent("change",{detail:e}))}appCall(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{callback:n,awaitResult:r=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r)return new Promise((r=>{const i="chaynsApiV5Callback_"+this.counter++;window[i]=e=>{var t,s;n?n(null!==(s=null==e?void 0:e.retVal)&&void 0!==s?s:e):delete window[i],r(null!==(t=null==e?void 0:e.retVal)&&void 0!==t?t:e)},t.callback="window."+i,K({action:e,value:t})}));K({action:e,value:t})}getDialogEventTarget(){return this.dialogEventTarget}async init(){this.values=this.mapOldApiToNew(await this.appCall(18))}getSSRData(){return null}addDataListener(e){const t=t=>t.detail&&e(t.detail);return document.addEventListener("chayns_api_data",t),()=>{document.removeEventListener("chayns_api_data",t)}}getInitialData(){return this.values}}const le="visibilityChangeListener",ce=()=>{ie(le,{isVisible:!document.hidden})},ue=e=>{const{id:t,shouldInitialize:n}=ne(le,e);return n&&document.addEventListener("visibilitychange",ce),t},he=e=>{re(le,e)&&document.removeEventListener("addVisibilityChangeListener",ce)};function de(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class fe{constructor(){de(this,"resolve",null),de(this,"exposedFunctions",null),de(this,"resizeListener",null),de(this,"ready",new Promise((e=>{this.resolve=e}))),de(this,"values",null),de(this,"functions",{addGeoLocationListener:async(e,t)=>(this.initialized||await this.ready,this.exposedFunctions.addGeoLocationListener(e,t&&m((e=>t(e))))),addScrollListener:async(e,t)=>(this.initialized||await this.ready,this.exposedFunctions.addScrollListener(e,t&&m((e=>t(e))))),addVisibilityChangeListener:async e=>ue(e),addToolbarChangeListener:async e=>(this.initialized||await this.ready,this.exposedFunctions.addToolbarChangeListener(e&&m((t=>e(t))))),addWindowMetricsListener:async e=>{this.initialized||await this.ready;const{id:t,shouldInitialize:n}=ne("windowMetricsListener",e);return n&&(this.exposedFunctions.addWindowMetricsListener(m((e=>{ie("windowMetricsListener",e)}))),window.addEventListener("resize",this.resizeListener=()=>{(async()=>{const e=await this.exposedFunctions.getWindowMetrics();ie("windowMetricsListener",e)})()})),t},customCallbackFunction:async(e,t)=>(this.initialized||await this.ready,this.exposedFunctions.customCallbackFunction(e,t)),getAvailableSharingServices:async()=>(this.initialized||await this.ready,this.exposedFunctions.getAvailableSharingServices()),getAccessToken:async e=>(this.initialized||await this.ready,this.exposedFunctions.getAccessToken(e)),getGeoLocation:async e=>(this.initialized||await this.ready,this.exposedFunctions.getGeoLocation(e)),getUserInfo:async e=>(this.initialized||await this.ready,X(this,e)),getScrollPosition:async()=>(this.initialized||await this.ready,this.exposedFunctions.getScrollPosition()),getWindowMetrics:async()=>(this.initialized||await this.ready,this.exposedFunctions.getWindowMetrics()),invokeCall:async(e,t)=>(this.initialized||await this.ready,this.exposedFunctions.invokeCall(e,t&&m((e=>t(e))))),invokeDialogCall:async(e,t)=>(this.initialized||await this.ready,this.exposedFunctions.invokeDialogCall(e,t&&m((e=>t(e))))),login:async(e,t,n)=>(this.initialized||await this.ready,this.exposedFunctions.login(e,t&&m((e=>t(e))),n&&m((()=>n())))),logout:async()=>(this.initialized||await this.ready,this.exposedFunctions.logout()),navigateBack:async()=>(this.initialized||await this.ready,this.exposedFunctions.navigateBack()),openImage:async e=>(this.initialized||await this.ready,this.exposedFunctions.openImage(e)),openMedia:async e=>(this.initialized||await this.ready,this.exposedFunctions.openMedia(e)),openUrl:async e=>(this.initialized||await this.ready,this.exposedFunctions.openUrl(e)),openVideo:async e=>(this.initialized||await this.ready,this.exposedFunctions.openVideo(e)),refreshAccessToken:async()=>(this.initialized||await this.ready,this.exposedFunctions.refreshAccessToken()),refreshData:async e=>(this.initialized||await this.ready,this.exposedFunctions.refreshData(e)),removeGeoLocationListener:async e=>(this.initialized||await this.ready,this.exposedFunctions.removeGeoLocationListener(e)),removeScrollListener:async e=>(this.initialized||await this.ready,this.exposedFunctions.removeScrollListener(e)),removeVisibilityChangeListener:e=>(he(e),Promise.resolve()),removeWindowMetricsListener:async e=>{this.initialized||await this.ready,re("windowMetricsListener",e)&&(this.exposedFunctions.removeWindowMetricsListener(e),this.resizeListener&&window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},removeToolbarChangeListener:async e=>(this.initialized||await this.ready,this.exposedFunctions.removeToolbarChangeListener(e)),selectPage:async e=>{this.initialized||await this.ready,await this.exposedFunctions.selectPage(e)},scrollToY:async(e,t)=>{this.initialized||await this.ready,await this.exposedFunctions.scrollToY(e,t)},sendMessageToGroup:async(e,t)=>(this.initialized||await this.ready,Q(this,t,e)),sendMessageToPage:async e=>(this.initialized||await this.ready,Y(this,e)),sendMessageToUser:async(e,t)=>(this.initialized||await this.ready,q(this,t,e)),setAdminMode:async e=>(this.initialized||await this.ready,this.exposedFunctions.setAdminMode(e)),setDisplayTimeout:async e=>(this.initialized||await this.ready,this.exposedFunctions.setDisplayTimeout(e)),setFloatingButton:async(e,t)=>{var n;this.initialized||await this.ready,e.items=null!==(n=e.items)&&void 0!==n?n:[];const r=e.items.map((e=>e.onClick));e.items=e.items.map((e=>({...e,onClick:void 0})));const i=t&&m((e=>{null!=e&&e.item&&r[e.index]?r[e.index]():t()}));return this.exposedFunctions.setFloatingButton(e,i)},setHeight:async e=>(this.initialized||await this.ready,this.exposedFunctions.setHeight(e)),setOverlay:async(e,t)=>(this.initialized||await this.ready,this.exposedFunctions.setOverlay(e,t&&m((()=>t())))),setRefreshScrollEnabled:async e=>(this.initialized||await this.ready,this.exposedFunctions.setRefreshScrollEnabled(e)),setScanQrCode:async e=>(this.initialized||await this.ready,this.exposedFunctions.setScanQrCode(null!=e?e:{cancel:!1})),setTempDesignSettings:async e=>(this.initialized||await this.ready,this.exposedFunctions.setTempDesignSettings(e)),setWaitCursor:async e=>(this.initialized||await this.ready,this.exposedFunctions.setWaitCursor(e)),storageGetItem:async(e,t)=>(this.initialized||await this.ready,this.exposedFunctions.storageGetItem(e,t)),storageRemoveItem:async(e,t)=>(this.initialized||await this.ready,this.exposedFunctions.storageRemoveItem(e,t)),storageSetItem:async(e,t,n,r)=>(this.initialized||await this.ready,this.exposedFunctions.storageSetItem(e,t,n,r)),vibrate:async e=>(this.initialized||await this.ready,this.exposedFunctions.vibrate(e)),scrollByY:async(e,t)=>(this.initialized||await this.ready,this.exposedFunctions.scrollByY(e,t)),createDialog:e=>new J(e,this.functions.openDialog,this.exposedFunctions.closeDialog,this.functions.dispatchEventToDialogClient,this.functions.addDialogClientEventListener),closeDialog:async e=>(this.initialized||await this.ready,this.exposedFunctions.closeDialog(e)),openDialog:async(e,t)=>(this.initialized||await this.ready,this.exposedFunctions.openDialog(e,m(t))),setDialogResult:async(e,t)=>(this.initialized||await this.ready,this.exposedFunctions.setDialogResult(e,t)),dispatchEventToDialogClient:async(e,t)=>(this.initialized||await this.ready,this.exposedFunctions.dispatchEventToDialogClient(e,t)),addDialogClientEventListener:async(e,t)=>(this.initialized||await this.ready,this.exposedFunctions.addDialogClientEventListener(e,m(t))),dispatchEventToDialogHost:async e=>(this.initialized||await this.ready,this.exposedFunctions.dispatchEventToDialogHost(e)),addDialogHostEventListener:async e=>{this.initialized||await this.ready;const t="dialogHostEventListener",{id:n,shouldInitialize:r}=ne(t,e);return r&&this.exposedFunctions.addDialogHostEventListener(m((e=>{ie(t,e)}))),n},removeDialogHostEventListener:async e=>{this.initialized||await this.ready,re("dialogHostEventListener",e)},removeDialogClientEventListener:async()=>{}}),de(this,"initialized",!1);const e=document.querySelector("#__CHAYNS_DATA__");e&&(this.values=JSON.parse(e.innerHTML))}async init(){if(this.initialized)return;const e=h(v(window.parent))[window.name],t=()=>e.addDataListener(m((e=>{let{type:t,value:n}=e;this.initialized&&(this.values[t]=n),document.dispatchEvent(new CustomEvent("chayns_api_data",{detail:{type:t,value:n}}))})));let n=null;await Promise.race([t(),new Promise((e=>{window.addEventListener("message",n=n=>{"chayns-api-host-ready"===n.data&&t().then(e)})}))]),n&&window.removeEventListener("message",n),this.values=await e.getInitialData(),this.exposedFunctions=e.functions,this.initialized=!0,this.resolve(null),(e=>{document.documentElement.style.overflow="hidden",e(document.body.offsetHeight);let t=0;const n=()=>{const{offsetHeight:n}=document.body;t!==n&&(e(n),t=n)};if(window.ResizeObserver){const e=setInterval(n,200);let t=!0;new window.ResizeObserver(Z()((()=>{n(),t||clearInterval(e),t=!1}),16)).observe(document.body),setTimeout((()=>{clearInterval(e)}),2e3)}else setInterval(n,200)})(this.functions.setHeight)}addDataListener(e){const t=t=>t.detail&&e(t.detail);return document.addEventListener("chayns_api_data",t),()=>{document.removeEventListener("chayns_api_data",t)}}getSSRData(){return null}getInitialData(){return this.values}}class pe{constructor(e,t){this.values=e,this.functions={},this.functions.addVisibilityChangeListener=async e=>ue(e),this.functions.removeVisibilityChangeListener=async e=>he(e),this.functions.getUserInfo=async e=>X(this,e),this.functions.sendMessageToGroup=async(e,t)=>Q(this,t,e),this.functions.sendMessageToPage=async e=>Y(this,e),this.functions.sendMessageToUser=async(e,t)=>q(this,t,e),Object.entries(t).forEach((e=>{let[t,n]=e;this.functions[t]=async function(){return n(...arguments)}})),this.functions.createDialog=e=>new J(e,t.openDialog,t.closeDialog,t.dispatchEventToDialogClient,t.addDialogClientEventListener),this.functions.addWindowMetricsListener=async e=>{const{id:n,shouldInitialize:r}=ne("windowMetrics",e);return r&&t.addWindowMetricsListener((e=>ie("windowMetrics",e))),n},this.functions.removeWindowMetricsListener=async e=>{re("windowMetrics",e)&&t.removeWindowMetricsListener(e)}}async init(){}addDataListener(e){const t=t=>t.detail&&e(t.detail);return document.addEventListener("chayns_api_data",t),()=>{document.removeEventListener("chayns_api_data",t)}}getSSRData(){return null}getInitialData(){return this.values}}class ge{constructor(e,t){this.initialData=e,this.values=e,this.functions=t}async init(){}addDataListener(e){const t=t=>t.detail&&e(t.detail);return document.addEventListener("chayns_api_data",t),()=>{document.removeEventListener("chayns_api_data",t)}}getSSRData(){return this.initialData}getInitialData(){return this.values}}var me=n(3840),ve=n(3935);const ye=Symbol(),be=Symbol(),we="undefined"==typeof window||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent)?E.useEffect:E.useLayoutEffect,_e=me.unstable_runWithPriority?e=>(0,me.unstable_runWithPriority)(me.unstable_NormalPriority,e):e=>e();function Ae(e){const t=(0,E.createContext)({[ye]:{v:{current:e},n:{current:-1},l:new Set,u:e=>e()}});var n;return t[be]=t.Provider,t.Provider=(n=t.Provider,({value:e,children:t})=>{const r=(0,E.useRef)(e),i=(0,E.useRef)(0),[s,o]=(0,E.useState)(null);s&&(s(e),o(null));const a=(0,E.useRef)();if(!a.current){const e=new Set,t=(t,n)=>{(0,ve.unstable_batchedUpdates)((()=>{i.current+=1;const r={n:i.current};null!=n&&n.suspense&&(r.n*=-1,r.p=new Promise((e=>{o((()=>t=>{r.v=t,delete r.p,e(t)}))}))),e.forEach((e=>e(r))),t()}))};a.current={[ye]:{v:r,n:i,l:e,u:t}}}return we((()=>{r.current=e,i.current+=1,_e((()=>{a.current[ye].l.forEach((t=>{t({n:i.current,v:e})}))}))}),[e]),(0,E.createElement)(n,{value:a.current},t)}),delete t.Consumer,t}function Ee(e,t){const n=(0,E.useContext)(e)[ye],{v:{current:r},n:{current:i},l:s}=n,o=t(r),[a,l]=(0,E.useReducer)(((e,n)=>{if(!n)return[r,o];if("p"in n)throw n.p;if(n.n===i)return Object.is(e[1],o)?e:[r,o];try{if("v"in n){if(Object.is(e[0],n.v))return e;const r=t(n.v);return Object.is(e[1],r)?e:[n.v,r]}}catch(e){}return[...e]}),[r,o]);return Object.is(a[1],o)||l(),we((()=>(s.add(l),()=>{s.delete(l)})),[s]),a[1]}const Ce=Ae(null),xe=Ae(null),Se=(e,t,n)=>{(0,E.useEffect)((()=>{e&&e.dispatchEvent(new CustomEvent("data_update",{detail:{type:t,value:n}}))}),[e,t,n])},Te=(e,t,n)=>{if(e)return t;let r=t;return n!==M.Qa&&n!==M.Development||(r=r.replace("tapp.chayns-static.space","tapp-dev.chayns-static.space")),n===M.Staging&&(r=r.replace("tapp.chayns-static.space","tapp-staging.chayns-static.space")),r};function Ie(){return Ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ie.apply(this,arguments)}const Oe=e=>{let{iFrameProps:t,src:r,postForm:i=!1,iFrameRef:s,pages:o,isAdminModeActive:a,site:l,user:u,currentPage:h,functions:d,device:f,language:p,parameters:g,environment:m,customData:y,preventStagingReplacement:b,dialog:w}=e;const _=(0,E.useRef)(),A=(0,E.useRef)(),C=(0,E.useRef)();_.current||(_.current=n.g.document?document.createElement("div"):void 0);const x=e=>{A.current&&(A.current.style.height=`${e}px`)},S={site:l,isAdminModeActive:a,pages:o,currentPage:h,device:f,user:u,language:p,parameters:g,environment:m,customData:y,dialog:w};return C.current=S,(0,E.useEffect)((()=>{(async()=>{if(i){var e;const n=null!==(e=await d.getAccessToken())&&void 0!==e?e:{};!async function(e,t,n,r){if(await new Promise((e=>{setTimeout(e,10)})),!t||!document.querySelector(`#${r}`))return!1;const i=document.getElementById("accessTokenForm");null!=i&&i.parentElement&&i.parentElement.removeChild(i);const s=document.createElement("form");s.setAttribute("id","accessTokenForm"),s.setAttribute("method","post"),s.setAttribute("action",e),s.setAttribute("target",r);const o=document.createElement("input");o.setAttribute("type","hidden"),o.setAttribute("name","chayns"),o.setAttribute("value",t),s.appendChild(o),document.body.appendChild(s),s.submit()}(Te(b,r,m.buildEnvironment),JSON.stringify({...S,pages:void 0,...n}),0,t.name)}})()}),[]),(0,E.useEffect)((()=>{var e;if(null!==(e=A.current)&&void 0!==e&&e.contentWindow){const e={[t.name]:{functions:{...d,setHeight:x},addDataListener:e=>{_.current&&_.current.addEventListener("data_update",(t=>t.detail&&e(t.detail)))},getInitialData:()=>C.current}};return c(e,v(A.current.contentWindow)),A.current.contentWindow.postMessage("chayns-api-host-ready","*"),()=>{delete e[t.name]}}}),[]),Se(_.current,"isAdminModeActive",a),Se(_.current,"user",u),Se(_.current,"site",l),Se(_.current,"pages",o),Se(_.current,"language",p),Se(_.current,"parameters",g),Se(_.current,"environment",m),Se(_.current,"customData",y),Se(_.current,"dialog",w),E.createElement("iframe",Ie({ref:e=>{A.current=e,s&&(s.current=e)},title:" "},t,{src:i?void 0:Te(b,r,m.buildEnvironment)}))};var Pe=n(8043),Me=n.n(Pe);const Be={};var ke=n(1249),Re=n.n(ke);let Le={};const Fe=e=>{let{system:t,fallback:r,...i}=e;const{ready:s,failed:o}=(e=>{const[t,n]=E.useState(!1),[r,i]=E.useState(!1);return(0,E.useEffect)((()=>{if(!e.url)return;const t=document.createElement("script");return t.src=e.url,t.type="text/javascript",t.async=!0,n(!1),i(!1),e.scope in Be||(Be[e.scope]=new(Me())(1)),(async()=>{await Be[e.scope].acquire(),t.onload=()=>{n(!0);const t=e.scope+"_list";window[t]||(window[t]=[]),window[t].push({url:e.url,container:window[e.scope]}),window[e.scope]=null},t.onerror=()=>{n(!1),i(!0)},document.head.appendChild(t)})(),()=>{Be[e.scope].release(),document.head.contains(t)&&document.head.removeChild(t)}}),[e.url]),{ready:t,failed:r}})({url:null==t?void 0:t.url,scope:null==t?void 0:t.scope}),a=(0,E.useMemo)((()=>t&&s&&!o?E.lazy(function(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return async()=>{await n.I("default");const{container:o}=window[e+"_list"].find((e=>e.url===r));await o.init(n.S.default);const a=await o.get(t);Be[e].release();let l,c=Le[`${e}__${t}`];if(c||(c={},Le[`${e}__${t}`]=c),Object.keys(c).length>0){const e=a();l=c[`${e.default.buildEnv}__${e.default.appVersion}`],l||(l=e,c[`${e.default.buildEnv}__${e.default.appVersion}`]=e)}else l=a(),c[`${l.default.buildEnv}__${l.default.appVersion}`]=l;if(s&&(window[e+"_list"]=null),i)return l;const u=Re().minVersion(E.version),{requiredVersion:h,environment:d}=l.default;return h&&Re().satisfies(u,h)&&!Object.keys(n.S.default.react).some((t=>Re().gt(t,u)&&Re().satisfies(t,h)||e===n.S.default.react[t].from.split("-").join("_")))&&"production"===d?{default:l.default.Component}:{default:l.default.CompatComponent}}}(t.scope,t.module,t.url,void 0,t.preventSingleton)):null),[null==t?void 0:t.scope,s,null==t?void 0:t.url]);return a?E.createElement(E.Suspense,{fallback:r||""},E.createElement(a,i)):r},De=e=>{let{system:t,children:n=null,functions:r,pages:i,isAdminModeActive:s,site:o,user:a,currentPage:l,device:c,language:u,parameters:h,customData:d,dialog:f,environment:p,preventStagingReplacement:g}=e;const m={site:o,isAdminModeActive:s,pages:i,currentPage:l,device:c,language:u,parameters:h,customData:d,environment:p};return a&&(m.user=a),f&&(m.dialog=f),E.createElement(E.Fragment,null,E.createElement("div",{className:"module-css"}),E.createElement(Fe,{system:{scope:t.scope,url:Te(g,t.url,p.buildEnvironment),module:t.module,preventSingleton:t.preventSingleton},data:m,functions:r,fallback:n,isModule:!0}))},Ne=e=>{let{type:t,iFrameProps:n,functions:r,src:i,iFrameRef:s,loadingComponent:o,children:a,system:l,pages:c,language:u,isAdminModeActive:h,site:d,user:f,currentPage:p,device:g,parameters:m,customData:v,environment:y,preventStagingReplacement:b,dialog:w}=e;switch(t){case"client-iframe":return E.createElement(Oe,{iFrameRef:s,iFrameProps:n,pages:c,isAdminModeActive:h,site:d,user:f,device:g,currentPage:p,functions:r,src:i,language:u,parameters:m,environment:y,customData:v,preventStagingReplacement:b,dialog:w});case"client-module":return E.createElement(De,{system:l,pages:c,isAdminModeActive:h,site:d,user:f,device:g,currentPage:p,children:o,functions:r,language:u,parameters:m,customData:v,environment:y,preventStagingReplacement:b,dialog:w});case"server-iframe":return E.createElement(Oe,{iFrameRef:s,iFrameProps:n,pages:c,isAdminModeActive:h,site:d,user:f,device:g,currentPage:p,functions:r,src:i,postForm:!0,language:u,parameters:m,environment:y,customData:v,preventStagingReplacement:b,dialog:w});case"server-module":return E.createElement(De,{system:l,pages:c,isAdminModeActive:h,site:d,user:f,device:g,currentPage:p,functions:r,language:u,parameters:m,customData:v,environment:y,preventStagingReplacement:b,dialog:w},a);default:return null}},je=function(){let{enabled:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[t,n]=(0,E.useState)({bottomBarHeight:0,offsetTop:0,pageHeight:0,pageWidth:0,topBarHeight:0,windowHeight:0,pageSize:x.XS}),r=(()=>{const e=Ee(xe,(e=>e.addWindowMetricsListener)),t=Ee(xe,(e=>e.removeWindowMetricsListener)),n=(0,E.useRef)();return(0,E.useCallback)((r=>(n.current=e(r),()=>{var e;null===(e=n.current)||void 0===e||e.then(t)})),[])})(),i=Ee(xe,(e=>e.getWindowMetrics));return(0,E.useEffect)((()=>{if(e)return r((e=>{n(e)}))}),[e,r]),(0,E.useEffect)((()=>{i().then(n)}),[i]),t},Ue=()=>{var e;return null!==(e=Ee(Ce,(e=>null==e?void 0:e.isAdminModeActive)))&&void 0!==e&&e},Ge={current:void 0};class ze extends E.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){console.warn(e,t)}render(){return this.state.hasError?null:this.props.children}}function Ve(){return Ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ve.apply(this,arguments)}const He=e=>{let{dialogEventTarget:t}=e;const n=(()=>{const e=Ee(xe,(e=>e||{}));return e})(),r=(()=>{const e=Ee(Ce,(e=>e||{}));return e})(),[i,s]=(0,E.useState)({dialogs:[]});return(0,E.useEffect)((()=>{t.addEventListener("change",(e=>{s({dialogs:e.detail})}))}),[]),E.createElement(ze,null,E.createElement(Ne,Ve({type:"client-module",system:{module:"./AppWrapper",url:"https://tapp.chayns-static.space/api/dialog-v2/v1/remoteEntry.js",scope:"dialog_v2"}},r,{functions:n,customData:i})))},Ze="undefined"==typeof window,We=E.memo((e=>{let{data:t,renderedByServer:n}=e;return n?E.createElement("script",{id:"__CHAYNS_DATA__",type:"application/json",dangerouslySetInnerHTML:{__html:A()(t||{})}}):null}),(()=>!0)),Je=e=>{var t,n,r,i;let{children:s,data:o,functions:a,renderedByServer:l,isModule:c}=e;const u=(0,E.useRef)(null);if(!u.current){if(c)o&&a?u.current=new pe(o,a):console.warn("ModuleFederationWrapper requires data and functions");else if(Ze)o&&a?u.current=new ge(o,a):console.warn("SsrWrapper requires data and functions");else{var h,d;const e=V(navigator.userAgent,"");[P.Chayns,P.ChaynsLauncher,P.Sidekick,P.TobitChat].includes(null!==(h=null===(d=e.app)||void 0===d?void 0:d.name)&&void 0!==h?h:P.Unknown)&&window.self===window.top?u.current=new ae:u.current=new fe}Ge.current=u.current}const[f,p]=(0,E.useState)(null!==(t=null===(n=u.current)||void 0===n?void 0:n.values)&&void 0!==t?t:void 0);return(0,E.useEffect)((()=>{(async()=>{await u.current.init(),u.current.addDataListener((e=>{let{type:t,value:n}=e;p((e=>{if(e)return{...e,[t]:n}}))})),u.current.values&&!c&&p({...u.current.values})})()}),[]),(0,E.useEffect)((()=>{c&&(p(o),o&&(u.current.values=o))}),[o,c]),E.createElement(E.Fragment,null,!!f&&E.createElement(Ce.Provider,{value:f},E.createElement(xe.Provider,{value:null===(r=u.current)||void 0===r?void 0:r.functions},s,u.current instanceof ae&&E.createElement(He,{dialogEventTarget:null===(i=u.current)||void 0===i?void 0:i.getDialogEventTarget()}))),E.createElement(We,{data:f,renderedByServer:l}))};let Ke;try{Ke=n(Object(function(){var e=new Error("Cannot find module 'react-dom/client'");throw e.code="MODULE_NOT_FOUND",e}()))}catch(e){}const Xe=function(){return Ge.current.functions.getAccessToken(...arguments)},qe=function(){return Ge.current.functions.invokeCall(...arguments)},Ye=function(){return Ge.current.functions.setRefreshScrollEnabled(...arguments)},Qe=function(){return Ge.current.functions.createDialog(...arguments)};new Proxy({},{get:(e,t)=>{var n;return console.warn("Deprecated user import"),null===(n=Ge.current.values.user)||void 0===n?void 0:n[t]}}),new Proxy({},{get:(e,t)=>{var n;return console.warn("Deprecated site import"),null===(n=Ge.current.values.site)||void 0===n?void 0:n[t]}}),new Proxy({},{get:(e,t)=>{var n;return console.warn("Deprecated device import"),null===(n=Ge.current.values.device)||void 0===n?void 0:n[t]}}),new Proxy({},{get:(e,t)=>{var n;return console.warn("Deprecated language import"),null===(n=Ge.current.values.language)||void 0===n?void 0:n[t]}}),new Proxy({},{get:(e,t)=>{var n;return console.warn("Deprecated parameters import"),null===(n=Ge.current.values.parameters)||void 0===n?void 0:n[t]}}),new Proxy({},{get:(e,t)=>{var n;return console.warn("Deprecated pages import"),null===(n=Ge.current.values.pages)||void 0===n?void 0:n[t]}}),new Proxy({},{get:(e,t)=>{var n;return console.warn("Deprecated environment import"),null===(n=Ge.current.values.environment)||void 0===n?void 0:n[t]}})},9685:(e,t,n)=>{"use strict";n.d(t,{Ib:()=>r,WT:()=>i});var r=1e-6,i="undefined"!=typeof Float32Array?Float32Array:Array;Math.random,Math.PI,Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)})},5975:(e,t,n)=>{"use strict";n.d(t,{G3:()=>m,GH:()=>o,Iu:()=>l,Jp:()=>a,M5:()=>v,U1:()=>u,U_:()=>s,bA:()=>c,en:()=>p,jI:()=>f,lM:()=>h,oy:()=>g,p4:()=>i,uD:()=>d,zB:()=>y});var r=n(9685);function i(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],s=t[6],o=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=s,e[11]=t[14],e[12]=i,e[13]=o,e[14]=a}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function s(e,t){var n=t[0],r=t[1],i=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],u=t[8],h=t[9],d=t[10],f=t[11],p=t[12],g=t[13],m=t[14],v=t[15],y=n*a-r*o,b=n*l-i*o,w=n*c-s*o,_=r*l-i*a,A=r*c-s*a,E=i*c-s*l,C=u*g-h*p,x=u*m-d*p,S=u*v-f*p,T=h*m-d*g,I=h*v-f*g,O=d*v-f*m,P=y*O-b*I+w*T+_*S-A*x+E*C;return P?(P=1/P,e[0]=(a*O-l*I+c*T)*P,e[1]=(i*I-r*O-s*T)*P,e[2]=(g*E-m*A+v*_)*P,e[3]=(d*A-h*E-f*_)*P,e[4]=(l*S-o*O-c*x)*P,e[5]=(n*O-i*S+s*x)*P,e[6]=(m*w-p*E-v*b)*P,e[7]=(u*E-d*w+f*b)*P,e[8]=(o*I-a*S+c*C)*P,e[9]=(r*S-n*I-s*C)*P,e[10]=(p*A-g*w+v*y)*P,e[11]=(h*w-u*A-f*y)*P,e[12]=(a*x-o*T-l*C)*P,e[13]=(n*T-r*x+i*C)*P,e[14]=(g*b-p*_-m*y)*P,e[15]=(u*_-h*b+d*y)*P,e):null}function o(e){var t=e[0],n=e[1],r=e[2],i=e[3],s=e[4],o=e[5],a=e[6],l=e[7],c=e[8],u=e[9],h=e[10],d=e[11],f=e[12],p=e[13],g=e[14],m=e[15];return(t*o-n*s)*(h*m-d*g)-(t*a-r*s)*(u*m-d*p)+(t*l-i*s)*(u*g-h*p)+(n*a-r*o)*(c*m-d*f)-(n*l-i*o)*(c*g-h*f)+(r*l-i*a)*(c*p-u*f)}function a(e,t,n){var r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],c=t[6],u=t[7],h=t[8],d=t[9],f=t[10],p=t[11],g=t[12],m=t[13],v=t[14],y=t[15],b=n[0],w=n[1],_=n[2],A=n[3];return e[0]=b*r+w*a+_*h+A*g,e[1]=b*i+w*l+_*d+A*m,e[2]=b*s+w*c+_*f+A*v,e[3]=b*o+w*u+_*p+A*y,b=n[4],w=n[5],_=n[6],A=n[7],e[4]=b*r+w*a+_*h+A*g,e[5]=b*i+w*l+_*d+A*m,e[6]=b*s+w*c+_*f+A*v,e[7]=b*o+w*u+_*p+A*y,b=n[8],w=n[9],_=n[10],A=n[11],e[8]=b*r+w*a+_*h+A*g,e[9]=b*i+w*l+_*d+A*m,e[10]=b*s+w*c+_*f+A*v,e[11]=b*o+w*u+_*p+A*y,b=n[12],w=n[13],_=n[14],A=n[15],e[12]=b*r+w*a+_*h+A*g,e[13]=b*i+w*l+_*d+A*m,e[14]=b*s+w*c+_*f+A*v,e[15]=b*o+w*u+_*p+A*y,e}function l(e,t,n){var r,i,s,o,a,l,c,u,h,d,f,p,g=n[0],m=n[1],v=n[2];return t===e?(e[12]=t[0]*g+t[4]*m+t[8]*v+t[12],e[13]=t[1]*g+t[5]*m+t[9]*v+t[13],e[14]=t[2]*g+t[6]*m+t[10]*v+t[14],e[15]=t[3]*g+t[7]*m+t[11]*v+t[15]):(r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],c=t[6],u=t[7],h=t[8],d=t[9],f=t[10],p=t[11],e[0]=r,e[1]=i,e[2]=s,e[3]=o,e[4]=a,e[5]=l,e[6]=c,e[7]=u,e[8]=h,e[9]=d,e[10]=f,e[11]=p,e[12]=r*g+a*m+h*v+t[12],e[13]=i*g+l*m+d*v+t[13],e[14]=s*g+c*m+f*v+t[14],e[15]=o*g+u*m+p*v+t[15]),e}function c(e,t,n){var r=n[0],i=n[1],s=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*s,e[9]=t[9]*s,e[10]=t[10]*s,e[11]=t[11]*s,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function u(e,t,n,i){var s,o,a,l,c,u,h,d,f,p,g,m,v,y,b,w,_,A,E,C,x,S,T,I,O=i[0],P=i[1],M=i[2],B=Math.hypot(O,P,M);return B<r.Ib?null:(O*=B=1/B,P*=B,M*=B,s=Math.sin(n),a=1-(o=Math.cos(n)),l=t[0],c=t[1],u=t[2],h=t[3],d=t[4],f=t[5],p=t[6],g=t[7],m=t[8],v=t[9],y=t[10],b=t[11],w=O*O*a+o,_=P*O*a+M*s,A=M*O*a-P*s,E=O*P*a-M*s,C=P*P*a+o,x=M*P*a+O*s,S=O*M*a+P*s,T=P*M*a-O*s,I=M*M*a+o,e[0]=l*w+d*_+m*A,e[1]=c*w+f*_+v*A,e[2]=u*w+p*_+y*A,e[3]=h*w+g*_+b*A,e[4]=l*E+d*C+m*x,e[5]=c*E+f*C+v*x,e[6]=u*E+p*C+y*x,e[7]=h*E+g*C+b*x,e[8]=l*S+d*T+m*I,e[9]=c*S+f*T+v*I,e[10]=u*S+p*T+y*I,e[11]=h*S+g*T+b*I,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function h(e,t,n){var r=Math.sin(n),i=Math.cos(n),s=t[4],o=t[5],a=t[6],l=t[7],c=t[8],u=t[9],h=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=s*i+c*r,e[5]=o*i+u*r,e[6]=a*i+h*r,e[7]=l*i+d*r,e[8]=c*i-s*r,e[9]=u*i-o*r,e[10]=h*i-a*r,e[11]=d*i-l*r,e}function d(e,t,n){var r=Math.sin(n),i=Math.cos(n),s=t[0],o=t[1],a=t[2],l=t[3],c=t[8],u=t[9],h=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*i-c*r,e[1]=o*i-u*r,e[2]=a*i-h*r,e[3]=l*i-d*r,e[8]=s*r+c*i,e[9]=o*r+u*i,e[10]=a*r+h*i,e[11]=l*r+d*i,e}function f(e,t,n){var r=Math.sin(n),i=Math.cos(n),s=t[0],o=t[1],a=t[2],l=t[3],c=t[4],u=t[5],h=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*i+c*r,e[1]=o*i+u*r,e[2]=a*i+h*r,e[3]=l*i+d*r,e[4]=c*i-s*r,e[5]=u*i-o*r,e[6]=h*i-a*r,e[7]=d*i-l*r,e}function p(e,t){var n=t[0],r=t[1],i=t[2],s=t[3],o=n+n,a=r+r,l=i+i,c=n*o,u=r*o,h=r*a,d=i*o,f=i*a,p=i*l,g=s*o,m=s*a,v=s*l;return e[0]=1-h-p,e[1]=u+v,e[2]=d-m,e[3]=0,e[4]=u-v,e[5]=1-c-p,e[6]=f+g,e[7]=0,e[8]=d+m,e[9]=f-g,e[10]=1-c-h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function g(e,t,n,r,i,s,o){var a=1/(n-t),l=1/(i-r),c=1/(s-o);return e[0]=2*s*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*s*l,e[6]=0,e[7]=0,e[8]=(n+t)*a,e[9]=(i+r)*l,e[10]=(o+s)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*s*2*c,e[15]=0,e}var m=function(e,t,n,r,i){var s,o=1/Math.tan(t/2);return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(s=1/(r-i),e[10]=(i+r)*s,e[14]=2*i*r*s):(e[10]=-1,e[14]=-2*r),e},v=function(e,t,n,r,i,s,o){var a=1/(t-n),l=1/(r-i),c=1/(s-o);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*a,e[13]=(i+r)*l,e[14]=(o+s)*c,e[15]=1,e};function y(e,t,n,i){var s,o,a,l,c,u,h,d,f,p,g=t[0],m=t[1],v=t[2],y=i[0],b=i[1],w=i[2],_=n[0],A=n[1],E=n[2];return Math.abs(g-_)<r.Ib&&Math.abs(m-A)<r.Ib&&Math.abs(v-E)<r.Ib?function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}(e):(h=g-_,d=m-A,f=v-E,s=b*(f*=p=1/Math.hypot(h,d,f))-w*(d*=p),o=w*(h*=p)-y*f,a=y*d-b*h,(p=Math.hypot(s,o,a))?(s*=p=1/p,o*=p,a*=p):(s=0,o=0,a=0),l=d*a-f*o,c=f*s-h*a,u=h*o-d*s,(p=Math.hypot(l,c,u))?(l*=p=1/p,c*=p,u*=p):(l=0,c=0,u=0),e[0]=s,e[1]=l,e[2]=h,e[3]=0,e[4]=o,e[5]=c,e[6]=d,e[7]=0,e[8]=a,e[9]=u,e[10]=f,e[11]=0,e[12]=-(s*g+o*m+a*v),e[13]=-(l*g+c*m+u*v),e[14]=-(h*g+d*m+f*v),e[15]=1,e)}},1437:(e,t,n)=>{"use strict";n.d(t,{IH:()=>i,bA:()=>s,fF:()=>u,kE:()=>o,kK:()=>c,lu:()=>d,t7:()=>l,tk:()=>a});var r=n(9685);function i(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function s(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function o(e){var t=e[0],n=e[1];return Math.hypot(t,n)}function a(e,t){return e[0]=-t[0],e[1]=-t[1],e}function l(e,t,n,r){var i=t[0],s=t[1];return e[0]=i+r*(n[0]-i),e[1]=s+r*(n[1]-s),e}function c(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[3]*i+n[6],e[1]=n[1]*r+n[4]*i+n[7],e}function u(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e}var h,d=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e};h=new r.WT(2),r.WT!=Float32Array&&(h[0]=0,h[1]=0)},7160:(e,t,n)=>{"use strict";n.d(t,{AK:()=>l,EU:()=>m,Fv:()=>a,Ue:()=>i,VC:()=>d,Zh:()=>y,al:()=>s,fF:()=>u,jI:()=>g,kC:()=>c,kK:()=>h,lM:()=>f,lu:()=>v,tk:()=>o,uD:()=>p});var r=n(9685);function i(){var e=new r.WT(3);return r.WT!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function s(e,t,n){var i=new r.WT(3);return i[0]=e,i[1]=t,i[2]=n,i}function o(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function a(e,t){var n=t[0],r=t[1],i=t[2],s=n*n+r*r+i*i;return s>0&&(s=1/Math.sqrt(s)),e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s,e}function l(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function c(e,t,n){var r=t[0],i=t[1],s=t[2],o=n[0],a=n[1],l=n[2];return e[0]=i*l-s*a,e[1]=s*o-r*l,e[2]=r*a-i*o,e}function u(e,t,n){var r=t[0],i=t[1],s=t[2],o=n[3]*r+n[7]*i+n[11]*s+n[15];return o=o||1,e[0]=(n[0]*r+n[4]*i+n[8]*s+n[12])/o,e[1]=(n[1]*r+n[5]*i+n[9]*s+n[13])/o,e[2]=(n[2]*r+n[6]*i+n[10]*s+n[14])/o,e}function h(e,t,n){var r=t[0],i=t[1],s=t[2];return e[0]=r*n[0]+i*n[3]+s*n[6],e[1]=r*n[1]+i*n[4]+s*n[7],e[2]=r*n[2]+i*n[5]+s*n[8],e}function d(e,t,n){var r=n[0],i=n[1],s=n[2],o=n[3],a=t[0],l=t[1],c=t[2],u=i*c-s*l,h=s*a-r*c,d=r*l-i*a,f=i*d-s*h,p=s*u-r*d,g=r*h-i*u,m=2*o;return u*=m,h*=m,d*=m,f*=2,p*=2,g*=2,e[0]=a+u+f,e[1]=l+h+p,e[2]=c+d+g,e}function f(e,t,n,r){var i=[],s=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],s[0]=i[0],s[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),s[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),e[0]=s[0]+n[0],e[1]=s[1]+n[1],e[2]=s[2]+n[2],e}function p(e,t,n,r){var i=[],s=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],s[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),s[1]=i[1],s[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),e[0]=s[0]+n[0],e[1]=s[1]+n[1],e[2]=s[2]+n[2],e}function g(e,t,n,r){var i=[],s=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],s[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),s[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),s[2]=i[2],e[0]=s[0]+n[0],e[1]=s[1]+n[1],e[2]=s[2]+n[2],e}function m(e,t){var n=e[0],r=e[1],i=e[2],s=t[0],o=t[1],a=t[2],c=Math.sqrt(n*n+r*r+i*i)*Math.sqrt(s*s+o*o+a*a),u=c&&l(e,t)/c;return Math.acos(Math.min(Math.max(u,-1),1))}var v=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e},y=function(e){var t=e[0],n=e[1],r=e[2];return Math.hypot(t,n,r)};i()},8333:(e,t,n)=>{"use strict";n.d(t,{AK:()=>p,Fv:()=>f,I6:()=>y,IH:()=>c,JG:()=>a,VC:()=>v,al:()=>o,bA:()=>u,d9:()=>s,fF:()=>m,fS:()=>b,kE:()=>h,t7:()=>g,t8:()=>l,we:()=>d});var r,i=n(9685);function s(e){var t=new i.WT(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function o(e,t,n,r){var s=new i.WT(4);return s[0]=e,s[1]=t,s[2]=n,s[3]=r,s}function a(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function l(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function c(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function u(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function h(e){var t=e[0],n=e[1],r=e[2],i=e[3];return Math.hypot(t,n,r,i)}function d(e){var t=e[0],n=e[1],r=e[2],i=e[3];return t*t+n*n+r*r+i*i}function f(e,t){var n=t[0],r=t[1],i=t[2],s=t[3],o=n*n+r*r+i*i+s*s;return o>0&&(o=1/Math.sqrt(o)),e[0]=n*o,e[1]=r*o,e[2]=i*o,e[3]=s*o,e}function p(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function g(e,t,n,r){var i=t[0],s=t[1],o=t[2],a=t[3];return e[0]=i+r*(n[0]-i),e[1]=s+r*(n[1]-s),e[2]=o+r*(n[2]-o),e[3]=a+r*(n[3]-a),e}function m(e,t,n){var r=t[0],i=t[1],s=t[2],o=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*s+n[12]*o,e[1]=n[1]*r+n[5]*i+n[9]*s+n[13]*o,e[2]=n[2]*r+n[6]*i+n[10]*s+n[14]*o,e[3]=n[3]*r+n[7]*i+n[11]*s+n[15]*o,e}function v(e,t,n){var r=t[0],i=t[1],s=t[2],o=n[0],a=n[1],l=n[2],c=n[3],u=c*r+a*s-l*i,h=c*i+l*r-o*s,d=c*s+o*i-a*r,f=-o*r-a*i-l*s;return e[0]=u*c+f*-o+h*-l-d*-a,e[1]=h*c+f*-a+d*-o-u*-l,e[2]=d*c+f*-l+u*-a-h*-o,e[3]=t[3],e}function y(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function b(e,t){var n=e[0],r=e[1],s=e[2],o=e[3],a=t[0],l=t[1],c=t[2],u=t[3];return Math.abs(n-a)<=i.Ib*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-l)<=i.Ib*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(s-c)<=i.Ib*Math.max(1,Math.abs(s),Math.abs(c))&&Math.abs(o-u)<=i.Ib*Math.max(1,Math.abs(o),Math.abs(u))}r=new i.WT(4),i.WT!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0,r[3]=0)},840:(e,t,n)=>{var r;!function(i,s,o,a){"use strict";var l,c=["","webkit","Moz","MS","ms","o"],u=s.createElement("div"),h="function",d=Math.round,f=Math.abs,p=Date.now;function g(e,t,n){return setTimeout(A(e,n),t)}function m(e,t,n){return!!Array.isArray(e)&&(v(e,n[t],n),!0)}function v(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==a)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function y(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=i.console&&(i.console.warn||i.console.log);return s&&s.call(i.console,r,n),e.apply(this,arguments)}}l="function"!=typeof Object.assign?function(e){if(e===a||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==a&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}:Object.assign;var b=y((function(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;)(!n||n&&e[r[i]]===a)&&(e[r[i]]=t[r[i]]),i++;return e}),"extend","Use `assign`."),w=y((function(e,t){return b(e,t,!0)}),"merge","Use `assign`.");function _(e,t,n){var r,i=t.prototype;(r=e.prototype=Object.create(i)).constructor=e,r._super=i,n&&l(r,n)}function A(e,t){return function(){return e.apply(t,arguments)}}function E(e,t){return typeof e==h?e.apply(t&&t[0]||a,t):e}function C(e,t){return e===a?t:e}function x(e,t,n){v(O(t),(function(t){e.addEventListener(t,n,!1)}))}function S(e,t,n){v(O(t),(function(t){e.removeEventListener(t,n,!1)}))}function T(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function I(e,t){return e.indexOf(t)>-1}function O(e){return e.trim().split(/\s+/g)}function P(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function M(e){return Array.prototype.slice.call(e,0)}function B(e,t,n){for(var r=[],i=[],s=0;s<e.length;){var o=t?e[s][t]:e[s];P(i,o)<0&&r.push(e[s]),i[s]=o,s++}return n&&(r=t?r.sort((function(e,n){return e[t]>n[t]})):r.sort()),r}function k(e,t){for(var n,r,i=t[0].toUpperCase()+t.slice(1),s=0;s<c.length;){if((r=(n=c[s])?n+i:t)in e)return r;s++}return a}var R=1;function L(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||i}var F="ontouchstart"in i,D=k(i,"PointerEvent")!==a,N=F&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),j="touch",U="mouse",G=25,z=1,V=4,H=8,Z=1,W=2,J=4,K=8,X=16,q=W|J,Y=K|X,Q=q|Y,$=["x","y"],ee=["clientX","clientY"];function te(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){E(e.options.enable,[e])&&n.handler(t)},this.init()}function ne(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,s=t&z&&r-i==0,o=t&(V|H)&&r-i==0;n.isFirst=!!s,n.isFinal=!!o,s&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=re(t)),i>1&&!n.firstMultiple?n.firstMultiple=re(t):1===i&&(n.firstMultiple=!1);var s=n.firstInput,o=n.firstMultiple,l=o?o.center:s.center,c=t.center=ie(r);t.timeStamp=p(),t.deltaTime=t.timeStamp-s.timeStamp,t.angle=le(l,c),t.distance=ae(l,c),function(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},s=e.prevInput||{};t.eventType!==z&&s.eventType!==V||(i=e.prevDelta={x:s.deltaX||0,y:s.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}(n,t),t.offsetDirection=oe(t.deltaX,t.deltaY);var u,h,d=se(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=d.x,t.overallVelocityY=d.y,t.overallVelocity=f(d.x)>f(d.y)?d.x:d.y,t.scale=o?(u=o.pointers,ae((h=r)[0],h[1],ee)/ae(u[0],u[1],ee)):1,t.rotation=o?function(e,t){return le(t[1],t[0],ee)+le(e[1],e[0],ee)}(o.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,r,i,s,o=e.lastInterval||t,l=t.timeStamp-o.timeStamp;if(t.eventType!=H&&(l>G||o.velocity===a)){var c=t.deltaX-o.deltaX,u=t.deltaY-o.deltaY,h=se(l,c,u);r=h.x,i=h.y,n=f(h.x)>f(h.y)?h.x:h.y,s=oe(c,u),e.lastInterval=t}else n=o.velocity,r=o.velocityX,i=o.velocityY,s=o.direction;t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=s}(n,t);var g=e.element;T(t.srcEvent.target,g)&&(g=t.srcEvent.target),t.target=g}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function re(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:d(e.pointers[n].clientX),clientY:d(e.pointers[n].clientY)},n++;return{timeStamp:p(),pointers:t,center:ie(t),deltaX:e.deltaX,deltaY:e.deltaY}}function ie(e){var t=e.length;if(1===t)return{x:d(e[0].clientX),y:d(e[0].clientY)};for(var n=0,r=0,i=0;i<t;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:d(n/t),y:d(r/t)}}function se(e,t,n){return{x:t/e||0,y:n/e||0}}function oe(e,t){return e===t?Z:f(e)>=f(t)?e<0?W:J:t<0?K:X}function ae(e,t,n){n||(n=$);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function le(e,t,n){n||(n=$);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,r)/Math.PI}te.prototype={handler:function(){},init:function(){this.evEl&&x(this.element,this.evEl,this.domHandler),this.evTarget&&x(this.target,this.evTarget,this.domHandler),this.evWin&&x(L(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(L(this.element),this.evWin,this.domHandler)}};var ce={mousedown:z,mousemove:2,mouseup:V},ue="mousedown",he="mousemove mouseup";function de(){this.evEl=ue,this.evWin=he,this.pressed=!1,te.apply(this,arguments)}_(de,te,{handler:function(e){var t=ce[e.type];t&z&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=V),this.pressed&&(t&V&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:U,srcEvent:e}))}});var fe={pointerdown:z,pointermove:2,pointerup:V,pointercancel:H,pointerout:H},pe={2:j,3:"pen",4:U,5:"kinect"},ge="pointerdown",me="pointermove pointerup pointercancel";function ve(){this.evEl=ge,this.evWin=me,te.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(ge="MSPointerDown",me="MSPointerMove MSPointerUp MSPointerCancel"),_(ve,te,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=fe[r],s=pe[e.pointerType]||e.pointerType,o=s==j,a=P(t,e.pointerId,"pointerId");i&z&&(0===e.button||o)?a<0&&(t.push(e),a=t.length-1):i&(V|H)&&(n=!0),a<0||(t[a]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:s,srcEvent:e}),n&&t.splice(a,1))}});var ye={touchstart:z,touchmove:2,touchend:V,touchcancel:H};function be(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,te.apply(this,arguments)}function we(e,t){var n=M(e.touches),r=M(e.changedTouches);return t&(V|H)&&(n=B(n.concat(r),"identifier",!0)),[n,r]}_(be,te,{handler:function(e){var t=ye[e.type];if(t===z&&(this.started=!0),this.started){var n=we.call(this,e,t);t&(V|H)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:j,srcEvent:e})}}});var _e={touchstart:z,touchmove:2,touchend:V,touchcancel:H},Ae="touchstart touchmove touchend touchcancel";function Ee(){this.evTarget=Ae,this.targetIds={},te.apply(this,arguments)}function Ce(e,t){var n=M(e.touches),r=this.targetIds;if(t&(2|z)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,s,o=M(e.changedTouches),a=[],l=this.target;if(s=n.filter((function(e){return T(e.target,l)})),t===z)for(i=0;i<s.length;)r[s[i].identifier]=!0,i++;for(i=0;i<o.length;)r[o[i].identifier]&&a.push(o[i]),t&(V|H)&&delete r[o[i].identifier],i++;return a.length?[B(s.concat(a),"identifier",!0),a]:void 0}_(Ee,te,{handler:function(e){var t=_e[e.type],n=Ce.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:j,srcEvent:e})}});var xe=2500;function Se(){te.apply(this,arguments);var e=A(this.handler,this);this.touch=new Ee(this.manager,e),this.mouse=new de(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function Te(e,t){e&z?(this.primaryTouch=t.changedPointers[0].identifier,Ie.call(this,t)):e&(V|H)&&Ie.call(this,t)}function Ie(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)}),xe)}}function Oe(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],s=Math.abs(t-i.x),o=Math.abs(n-i.y);if(s<=25&&o<=25)return!0}return!1}_(Se,te,{handler:function(e,t,n){var r=n.pointerType==j,i=n.pointerType==U;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)Te.call(this,t,n);else if(i&&Oe.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Pe=k(u.style,"touchAction"),Me=Pe!==a,Be="compute",ke="auto",Re="manipulation",Le="none",Fe="pan-x",De="pan-y",Ne=function(){if(!Me)return!1;var e={},t=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||i.CSS.supports("touch-action",n)})),e}();function je(e,t){this.manager=e,this.set(t)}je.prototype={set:function(e){e==Be&&(e=this.compute()),Me&&this.manager.element.style&&Ne[e]&&(this.manager.element.style[Pe]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return v(this.manager.recognizers,(function(t){E(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(I(e,Le))return Le;var t=I(e,Fe),n=I(e,De);return t&&n?Le:t||n?t?Fe:De:I(e,Re)?Re:ke}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,i=I(r,Le)&&!Ne[Le],s=I(r,De)&&!Ne[De],o=I(r,Fe)&&!Ne[Fe];if(i){var a=1===e.pointers.length,l=e.distance<2,c=e.deltaTime<250;if(a&&l&&c)return}if(!o||!s)return i||s&&n&q||o&&n&Y?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var Ue=1,Ge=32;function ze(e){this.options=l({},this.defaults,e||{}),this.id=R++,this.manager=null,this.options.enable=C(this.options.enable,!0),this.state=Ue,this.simultaneous={},this.requireFail=[]}function Ve(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function He(e){return e==X?"down":e==K?"up":e==W?"left":e==J?"right":""}function Ze(e,t){var n=t.manager;return n?n.get(e):e}function We(){ze.apply(this,arguments)}function Je(){We.apply(this,arguments),this.pX=null,this.pY=null}function Ke(){We.apply(this,arguments)}function Xe(){ze.apply(this,arguments),this._timer=null,this._input=null}function qe(){We.apply(this,arguments)}function Ye(){We.apply(this,arguments)}function Qe(){ze.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function $e(e,t){return(t=t||{}).recognizers=C(t.recognizers,$e.defaults.preset),new et(e,t)}function et(e,t){this.options=l({},$e.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new(this.options.inputClass||(D?ve:N?Ee:F?Se:de))(this,ne),this.touchAction=new je(this,this.options.touchAction),tt(this,!0),v(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function tt(e,t){var n,r=e.element;r.style&&(v(e.options.cssProps,(function(i,s){n=k(r.style,s),t?(e.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}ze.prototype={defaults:{},set:function(e){return l(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(m(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Ze(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return m(e,"dropRecognizeWith",this)||(e=Ze(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(m(e,"requireFailure",this))return this;var t=this.requireFail;return-1===P(t,e=Ze(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(m(e,"dropRequireFailure",this))return this;e=Ze(e,this);var t=P(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<8&&r(t.options.event+Ve(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=8&&r(t.options.event+Ve(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=Ge},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(Ge|Ue)))return!1;e++}return!0},recognize:function(e){var t=l({},e);if(!E(this.options.enable,[this,t]))return this.reset(),void(this.state=Ge);56&this.state&&(this.state=Ue),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},_(We,ze,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=6&t,i=this.attrTest(e);return r&&(n&H||!i)?16|t:r||i?n&V?8|t:2&t?4|t:2:Ge}}),_(Je,We,{defaults:{event:"pan",threshold:10,pointers:1,direction:Q},getTouchAction:function(){var e=this.options.direction,t=[];return e&q&&t.push(De),e&Y&&t.push(Fe),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,s=e.deltaX,o=e.deltaY;return i&t.direction||(t.direction&q?(i=0===s?Z:s<0?W:J,n=s!=this.pX,r=Math.abs(e.deltaX)):(i=0===o?Z:o<0?K:X,n=o!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return We.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=He(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),_(Ke,We,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Le]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),_(Xe,ze,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[ke]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!r||!n||e.eventType&(V|H)&&!i)this.reset();else if(e.eventType&z)this.reset(),this._timer=g((function(){this.state=8,this.tryEmit()}),t.time,this);else if(e.eventType&V)return 8;return Ge},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&e.eventType&V?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}}),_(qe,We,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Le]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),_(Ye,We,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:q|Y,pointers:1},getTouchAction:function(){return Je.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(q|Y)?t=e.overallVelocity:n&q?t=e.overallVelocityX:n&Y&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&f(t)>this.options.velocity&&e.eventType&V},emit:function(e){var t=He(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),_(Qe,ze,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Re]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),e.eventType&z&&0===this.count)return this.failTimeout();if(r&&i&&n){if(e.eventType!=V)return this.failTimeout();var s=!this.pTime||e.timeStamp-this.pTime<t.interval,o=!this.pCenter||ae(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,o&&s?this.count+=1:this.count=1,this._input=e,0==this.count%t.taps)return this.hasRequireFailures()?(this._timer=g((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return Ge},failTimeout:function(){return this._timer=g((function(){this.state=Ge}),this.options.interval,this),Ge},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),$e.VERSION="2.0.7",$e.defaults={domEvents:!1,touchAction:Be,enable:!0,inputTarget:null,inputClass:null,preset:[[qe,{enable:!1}],[Ke,{enable:!1},["rotate"]],[Ye,{direction:q}],[Je,{direction:q},["swipe"]],[Qe],[Qe,{event:"doubletap",taps:2},["tap"]],[Xe]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},et.prototype={set:function(e){return l(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,i=t.curRecognizer;(!i||i&&8&i.state)&&(i=t.curRecognizer=null);for(var s=0;s<r.length;)n=r[s],2===t.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&14&n.state&&(i=t.curRecognizer=n),s++}},get:function(e){if(e instanceof ze)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(m(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(m(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=P(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==a&&t!==a){var n=this.handlers;return v(O(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(e!==a){var n=this.handlers;return v(O(e),(function(e){t?n[e]&&n[e].splice(P(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=s.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&tt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l($e,{INPUT_START:z,INPUT_MOVE:2,INPUT_END:V,INPUT_CANCEL:H,STATE_POSSIBLE:Ue,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:Ge,DIRECTION_NONE:Z,DIRECTION_LEFT:W,DIRECTION_RIGHT:J,DIRECTION_UP:K,DIRECTION_DOWN:X,DIRECTION_HORIZONTAL:q,DIRECTION_VERTICAL:Y,DIRECTION_ALL:Q,Manager:et,Input:te,TouchAction:je,TouchInput:Ee,MouseInput:de,PointerEventInput:ve,TouchMouseInput:Se,SingleTouchInput:be,Recognizer:ze,AttrRecognizer:We,Tap:Qe,Pan:Je,Swipe:Ye,Pinch:Ke,Rotate:qe,Press:Xe,on:x,off:S,each:v,merge:w,extend:b,assign:l,inherit:_,bindFn:A,prefixed:k}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=$e,(r=function(){return $e}.call(t,n,t,e))===a||(e.exports=r)}(window,document)},8679:(e,t,n)=>{"use strict";var r=n(9864),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?o:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=o;var c=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var o=u(n);h&&(o=o.concat(h(n)));for(var a=l(t),g=l(n),m=0;m<o.length;++m){var v=o[m];if(!(s[v]||r&&r[v]||g&&g[v]||a&&a[v])){var y=d(n,v);try{c(t,v,y)}catch(e){}}}}return t}},4608:e=>{"use strict";var t={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},n=/[&><\u2028\u2029]/g;function r(e){return t[e]}e.exports=function(e){return JSON.stringify(e).replace(n,r)};var i={"\u2028":"\\u2028","\u2029":"\\u2029"},s=/[\u2028\u2029]/g;function o(e){return i[e]}e.exports.sanitize=function(e){return e.replace(s,o)}},1296:(e,t,n)=>{var r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,u=l||c||Function("return this")(),h=Object.prototype.toString,d=Math.max,f=Math.min,p=function(){return u.Date.now()};function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==h.call(e)}(e))return NaN;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=s.test(e);return n||o.test(e)?a(e.slice(2),n?2:8):i.test(e)?NaN:+e}e.exports=function(e,t,n){var r,i,s,o,a,l,c=0,u=!1,h=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=r,s=i;return r=i=void 0,c=t,o=e.apply(s,n)}function b(e){var n=e-l;return void 0===l||n>=t||n<0||h&&e-c>=s}function w(){var e=p();if(b(e))return _(e);a=setTimeout(w,function(e){var n=t-(e-l);return h?f(n,s-(e-c)):n}(e))}function _(e){return a=void 0,v&&r?y(e):(r=i=void 0,o)}function A(){var e=p(),n=b(e);if(r=arguments,i=this,l=e,n){if(void 0===a)return function(e){return c=e,a=setTimeout(w,t),u?y(e):o}(l);if(h)return a=setTimeout(w,t),y(l)}return void 0===a&&(a=setTimeout(w,t)),o}return t=m(t)||0,g(n)&&(u=!!n.leading,s=(h="maxWait"in n)?d(m(n.maxWait)||0,t):s,v="trailing"in n?!!n.trailing:v),A.cancel=function(){void 0!==a&&clearTimeout(a),c=0,r=l=i=a=void 0},A.flush=function(){return void 0===a?o:_(p())},A}},3096:(e,t,n)=>{var r="Expected a function",i=NaN,s="[object Symbol]",o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt,h="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,d="object"==typeof self&&self&&self.Object===Object&&self,f=h||d||Function("return this")(),p=Object.prototype.toString,g=Math.max,m=Math.min,v=function(){return f.Date.now()};function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&p.call(e)==s}(e))return i;if(y(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=y(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=l.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):a.test(e)?i:+e}e.exports=function(e,t,n){var i=!0,s=!0;if("function"!=typeof e)throw new TypeError(r);return y(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),function(e,t,n){var i,s,o,a,l,c,u=0,h=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError(r);function p(t){var n=i,r=s;return i=s=void 0,u=t,a=e.apply(r,n)}function w(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-u>=o}function _(){var e=v();if(w(e))return A(e);l=setTimeout(_,function(e){var n=t-(e-c);return d?m(n,o-(e-u)):n}(e))}function A(e){return l=void 0,f&&i?p(e):(i=s=void 0,a)}function E(){var e=v(),n=w(e);if(i=arguments,s=this,c=e,n){if(void 0===l)return function(e){return u=e,l=setTimeout(_,t),h?p(e):a}(c);if(d)return l=setTimeout(_,t),p(c)}return void 0===l&&(l=setTimeout(_,t)),a}return t=b(t)||0,y(n)&&(h=!!n.leading,o=(d="maxWait"in n)?g(b(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),E.cancel=function(){void 0!==l&&clearTimeout(l),u=0,i=c=s=l=void 0},E.flush=function(){return void 0===l?a:A(v())},E}(e,t,{leading:i,maxWait:t,trailing:s})}},7418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,i){for(var s,o,a=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in s=Object(arguments[l]))n.call(s,c)&&(a[c]=s[c]);if(t){o=t(s);for(var u=0;u<o.length;u++)r.call(s,o[u])&&(a[o[u]]=s[o[u]])}}return a}},2703:(e,t,n)=>{"use strict";var r=n(414);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,s,o){if(o!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},5697:(e,t,n)=>{e.exports=n(2703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2100:(e,t,n)=>{"use strict";e.exports=n(9482)},9482:(e,t,n)=>{"use strict";var r=t;function i(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=n(1173),r.BufferWriter=n(3155),r.Reader=n(1408),r.BufferReader=n(593),r.util=n(9693),r.rpc=n(5994),r.roots=n(5054),r.configure=i,i()},1408:(e,t,n)=>{"use strict";e.exports=l;var r,i=n(9693),s=i.LongBits,o=i.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function l(e){this.buf=e,this.pos=0,this.len=e.length}var c,u="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new l(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new l(e);throw Error("illegal buffer")},h=function(){return i.Buffer?function(e){return(l.create=function(e){return i.Buffer.isBuffer(e)?new r(e):u(e)})(e)}:u};function d(){var e=new s(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function f(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function p(){if(this.pos+8>this.len)throw a(this,8);return new s(f(this.buf,this.pos+=4),f(this.buf,this.pos+=4))}l.create=h(),l.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,l.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return c;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return c}),l.prototype.int32=function(){return 0|this.uint32()},l.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},l.prototype.bool=function(){return 0!==this.uint32()},l.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return f(this.buf,this.pos+=4)},l.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|f(this.buf,this.pos+=4)},l.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},l.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},l.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw a(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(t,n);if(t===n){var r=i.Buffer;return r?r.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,n)},l.prototype.string=function(){var e=this.bytes();return o.read(e,0,e.length)},l.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},l.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},l._configure=function(e){r=e,l.create=h(),r._configure();var t=i.Long?"toLong":"toNumber";i.merge(l.prototype,{int64:function(){return d.call(this)[t](!1)},uint64:function(){return d.call(this)[t](!0)},sint64:function(){return d.call(this).zzDecode()[t](!1)},fixed64:function(){return p.call(this)[t](!0)},sfixed64:function(){return p.call(this)[t](!1)}})}},593:(e,t,n)=>{"use strict";e.exports=s;var r=n(1408);(s.prototype=Object.create(r.prototype)).constructor=s;var i=n(9693);function s(e){r.call(this,e)}s._configure=function(){i.Buffer&&(s.prototype._slice=i.Buffer.prototype.slice)},s.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},s._configure()},5054:e=>{"use strict";e.exports={}},5994:(e,t,n)=>{"use strict";t.Service=n(7948)},7948:(e,t,n)=>{"use strict";e.exports=i;var r=n(9693);function i(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(i.prototype=Object.create(r.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,n,i,s,o){if(!s)throw TypeError("request must be specified");var a=this;if(!o)return r.asPromise(e,a,t,n,i,s);if(a.rpcImpl)try{return a.rpcImpl(t,n[a.requestDelimited?"encodeDelimited":"encode"](s).finish(),(function(e,n){if(e)return a.emit("error",e,t),o(e);if(null!==n){if(!(n instanceof i))try{n=i[a.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return a.emit("error",e,t),o(e)}return a.emit("data",n,t),o(null,n)}a.end(!0)}))}catch(e){return a.emit("error",e,t),void setTimeout((function(){o(e)}),0)}else setTimeout((function(){o(Error("already ended"))}),0)},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:(e,t,n)=>{"use strict";e.exports=i;var r=n(9693);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var s=i.zero=new i(0,0);s.toNumber=function(){return 0},s.zzEncode=s.zzDecode=function(){return this},s.length=function(){return 1};var o=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return s;var t=e<0;t&&(e=-e);var n=e>>>0,r=(e-n)/4294967296>>>0;return t&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new i(n,r)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(r.isString(e)){if(!r.Long)return i.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):s},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var a=String.prototype.charCodeAt;i.fromHash=function(e){return e===o?s:new i((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},9693:function(e,t,n){"use strict";var r=t;function i(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;++i)void 0!==e[r[i]]&&n||(e[r[i]]=t[r[i]]);return e}function s(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&i(this,n)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}r.asPromise=n(4537),r.base64=n(7419),r.EventEmitter=n(9211),r.float=n(945),r.inquire=n(7199),r.utf8=n(5111),r.pool=n(6662),r.LongBits=n(1945),r.isNode=Boolean(void 0!==n.g&&n.g&&n.g.process&&n.g.process.versions&&n.g.process.versions.node),r.global=r.isNode&&n.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"==typeof e||e instanceof String},r.isObject=function(e){return e&&"object"==typeof e},r.isset=r.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"==typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){var n=r.LongBits.fromHash(e);return r.Long?r.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},r.merge=i,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},r.newError=s,r.ProtocolError=s("ProtocolError"),r.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},r.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var e=r.Buffer;e?(r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},r._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):r._Buffer_from=r._Buffer_allocUnsafe=null}},1173:(e,t,n)=>{"use strict";e.exports=h;var r,i=n(9693),s=i.LongBits,o=i.base64,a=i.utf8;function l(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function c(){}function u(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function h(){this.len=0,this.head=new l(c,0,0),this.tail=this.head,this.states=null}var d=function(){return i.Buffer?function(){return(h.create=function(){return new r})()}:function(){return new h}};function f(e,t,n){t[n]=255&e}function p(e,t){this.len=e,this.next=void 0,this.val=t}function g(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function m(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}h.create=d(),h.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(h.alloc=i.pool(h.alloc,i.Array.prototype.subarray)),h.prototype._push=function(e,t,n){return this.tail=this.tail.next=new l(e,t,n),this.len+=t,this},p.prototype=Object.create(l.prototype),p.prototype.fn=function(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e},h.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new p((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},h.prototype.int32=function(e){return e<0?this._push(g,10,s.fromNumber(e)):this.uint32(e)},h.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},h.prototype.uint64=function(e){var t=s.from(e);return this._push(g,t.length(),t)},h.prototype.int64=h.prototype.uint64,h.prototype.sint64=function(e){var t=s.from(e).zzEncode();return this._push(g,t.length(),t)},h.prototype.bool=function(e){return this._push(f,1,e?1:0)},h.prototype.fixed32=function(e){return this._push(m,4,e>>>0)},h.prototype.sfixed32=h.prototype.fixed32,h.prototype.fixed64=function(e){var t=s.from(e);return this._push(m,4,t.lo)._push(m,4,t.hi)},h.prototype.sfixed64=h.prototype.fixed64,h.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},h.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var v=i.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};h.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(f,1,0);if(i.isString(e)){var n=h.alloc(t=o.length(e));o.decode(e,n,0),e=n}return this.uint32(t)._push(v,t,e)},h.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(f,1,0)},h.prototype.fork=function(){return this.states=new u(this),this.head=this.tail=new l(c,0,0),this.len=0,this},h.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new l(c,0,0),this.len=0),this},h.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},h.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},h._configure=function(e){r=e,h.create=d(),r._configure()}},3155:(e,t,n)=>{"use strict";e.exports=s;var r=n(1173);(s.prototype=Object.create(r.prototype)).constructor=s;var i=n(9693);function s(){r.call(this)}function o(e,t,n){e.length<40?i.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}s._configure=function(){s.alloc=i._Buffer_allocUnsafe,s.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},s.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(s.writeBytesBuffer,t,e),this},s.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(o,t,e),this},s._configure()},8698:(e,t,n)=>{"use strict";var r=n(7418),i=n(7294);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=60106,a=60107,l=60108,c=60114,u=60109,h=60110,d=60112,f=60113,p=60120,g=60115,m=60116,v=60121,y=60117,b=60119,w=60129,_=60131;if("function"==typeof Symbol&&Symbol.for){var A=Symbol.for;o=A("react.portal"),a=A("react.fragment"),l=A("react.strict_mode"),c=A("react.profiler"),u=A("react.provider"),h=A("react.context"),d=A("react.forward_ref"),f=A("react.suspense"),p=A("react.suspense_list"),g=A("react.memo"),m=A("react.lazy"),v=A("react.block"),y=A("react.fundamental"),b=A("react.scope"),w=A("react.debug_trace_mode"),_=A("react.legacy_hidden")}function E(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case a:return"Fragment";case o:return"Portal";case c:return"Profiler";case l:return"StrictMode";case f:return"Suspense";case p:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case h:return(e.displayName||"Context")+".Consumer";case u:return(e._context.displayName||"Context")+".Provider";case d:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case g:return E(e.type);case v:return E(e._render);case m:t=e._payload,e=e._init;try{return E(e(t))}catch(e){}}return null}var C=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x={};function S(e,t){for(var n=0|e._threadCount;n<=t;n++)e[n]=e._currentValue2,e._threadCount=n+1}for(var T=new Uint16Array(16),I=0;15>I;I++)T[I]=I+1;T[15]=0;var O=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,P=Object.prototype.hasOwnProperty,M={},B={};function k(e){return!!P.call(B,e)||!P.call(M,e)&&(O.test(e)?B[e]=!0:(M[e]=!0,!1))}function R(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){L[e]=new R(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];L[t]=new R(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){L[e]=new R(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){L[e]=new R(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){L[e]=new R(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){L[e]=new R(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){L[e]=new R(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){L[e]=new R(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){L[e]=new R(e,5,!1,e.toLowerCase(),null,!1,!1)}));var F=/[\-:]([a-z])/g;function D(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(F,D);L[t]=new R(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(F,D);L[t]=new R(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(F,D);L[t]=new R(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){L[e]=new R(e,1,!1,e.toLowerCase(),null,!1,!1)})),L.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){L[e]=new R(e,1,!1,e.toLowerCase(),null,!0,!0)}));var N=/["'&<>]/;function j(e){if("boolean"==typeof e||"number"==typeof e)return""+e;e=""+e;var t=N.exec(e);if(t){var n,r="",i=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==n&&(r+=e.substring(i,n)),i=n+1,r+=t}e=i!==n?r+e.substring(i,n):r}return e}function U(e,t){var n,r=L.hasOwnProperty(e)?L[e]:null;return(n="style"!==e)&&(n=null!==r?0===r.type:2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])),n||function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e;default:return!1}}(e,t,n))return!0;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(e,t,r)?"":null!==r?(e=r.attributeName,3===(n=r.type)||4===n&&!0===t?e+'=""':(r.sanitizeURL&&(t=""+t),e+'="'+j(t)+'"')):k(e)?e+'="'+j(t)+'"':""}var G="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},z=null,V=null,H=null,Z=!1,W=!1,J=null,K=0;function X(){if(null===z)throw Error(s(321));return z}function q(){if(0<K)throw Error(s(312));return{memoizedState:null,queue:null,next:null}}function Y(){return null===H?null===V?(Z=!1,V=H=q()):(Z=!0,H=V):null===H.next?(Z=!1,H=H.next=q()):(Z=!0,H=H.next),H}function Q(e,t,n,r){for(;W;)W=!1,K+=1,H=null,n=e(t,r);return $(),n}function $(){z=null,W=!1,V=null,K=0,H=J=null}function ee(e,t){return"function"==typeof t?t(e):t}function te(e,t,n){if(z=X(),H=Y(),Z){var r=H.queue;if(t=r.dispatch,null!==J&&void 0!==(n=J.get(r))){J.delete(r),r=H.memoizedState;do{r=e(r,n.action),n=n.next}while(null!==n);return H.memoizedState=r,[r,t]}return[H.memoizedState,t]}return e=e===ee?"function"==typeof t?t():t:void 0!==n?n(t):t,H.memoizedState=e,e=(e=H.queue={last:null,dispatch:null}).dispatch=re.bind(null,z,e),[H.memoizedState,e]}function ne(e,t){if(z=X(),t=void 0===t?null:t,null!==(H=Y())){var n=H.memoizedState;if(null!==n&&null!==t){var r=n[1];e:if(null===r)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!G(t[i],r[i])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),H.memoizedState=[e,t],e}function re(e,t,n){if(!(25>K))throw Error(s(301));if(e===z)if(W=!0,e={action:n,next:null},null===J&&(J=new Map),void 0===(n=J.get(t)))J.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}function ie(){}var se=null,oe={readContext:function(e){var t=se.threadID;return S(e,t),e[t]},useContext:function(e){X();var t=se.threadID;return S(e,t),e[t]},useMemo:ne,useReducer:te,useRef:function(e){z=X();var t=(H=Y()).memoizedState;return null===t?(e={current:e},H.memoizedState=e):t},useState:function(e){return te(ee,e)},useLayoutEffect:function(){},useCallback:function(e,t){return ne((function(){return e}),t)},useImperativeHandle:ie,useEffect:ie,useDebugValue:ie,useDeferredValue:function(e){return X(),e},useTransition:function(){return X(),[function(e){e()},!1]},useOpaqueIdentifier:function(){return(se.identifierPrefix||"")+"R:"+(se.uniqueID++).toString(36)},useMutableSource:function(e,t){return X(),t(e._source)}},ae="http://www.w3.org/1999/xhtml";function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var ce={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},ue=r({menuitem:!0},ce),he={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},de=["Webkit","ms","Moz","O"];Object.keys(he).forEach((function(e){de.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var fe=/([A-Z])/g,pe=/^ms-/,ge=i.Children.toArray,me=C.ReactCurrentDispatcher,ve={listing:!0,pre:!0,textarea:!0},ye=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,be={},we={},_e=Object.prototype.hasOwnProperty,Ae={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function Ee(e,t){if(void 0===e)throw Error(s(152,E(t)||"Component"))}var Ce=function(){function e(e,t,n){i.isValidElement(e)?e.type!==a?e=[e]:(e=e.props.children,e=i.isValidElement(e)?[e]:ge(e)):e=ge(e),e={type:null,domNamespace:ae,children:e,childIndex:0,context:x,footer:""};var r=T[0];if(0===r){var o=T,l=2*(r=o.length);if(!(65536>=l))throw Error(s(304));var c=new Uint16Array(l);for(c.set(o),(T=c)[0]=r+1,o=r;o<l-1;o++)T[o]=o+1;T[l-1]=0}else T[0]=T[r];this.threadID=r,this.stack=[e],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=t,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[],this.uniqueID=0,this.identifierPrefix=n&&n.identifierPrefix||""}var t=e.prototype;return t.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var e=this.threadID;T[e]=T[0],T[0]=e}},t.pushProvider=function(e){var t=++this.contextIndex,n=e.type._context,r=this.threadID;S(n,r);var i=n[r];this.contextStack[t]=n,this.contextValueStack[t]=i,n[r]=e.props.value},t.popProvider=function(){var e=this.contextIndex,t=this.contextStack[e],n=this.contextValueStack[e];this.contextStack[e]=null,this.contextValueStack[e]=null,this.contextIndex--,t[this.threadID]=n},t.clearProviders=function(){for(var e=this.contextIndex;0<=e;e--)this.contextStack[e][this.threadID]=this.contextValueStack[e]},t.read=function(e){if(this.exhausted)return null;var t=se;se=this;var n=me.current;me.current=oe;try{for(var r=[""],i=!1;r[0].length<e;){if(0===this.stack.length){this.exhausted=!0;var o=this.threadID;T[o]=T[0],T[0]=o;break}var a=this.stack[this.stack.length-1];if(i||a.childIndex>=a.children.length){var l=a.footer;if(""!==l&&(this.previousWasTextNode=!1),this.stack.pop(),"select"===a.type)this.currentSelectValue=null;else if(null!=a.type&&null!=a.type.type&&a.type.type.$$typeof===u)this.popProvider(a.type);else if(a.type===f){this.suspenseDepth--;var c=r.pop();if(i){i=!1;var h=a.fallbackFrame;if(!h)throw Error(s(303));this.stack.push(h),r[this.suspenseDepth]+="\x3c!--$!--\x3e";continue}r[this.suspenseDepth]+=c}r[this.suspenseDepth]+=l}else{var d=a.children[a.childIndex++],p="";try{p+=this.render(d,a.context,a.domNamespace)}catch(e){if(null!=e&&"function"==typeof e.then)throw Error(s(294));throw e}r.length<=this.suspenseDepth&&r.push(""),r[this.suspenseDepth]+=p}}return r[0]}finally{me.current=n,se=t,$()}},t.render=function(e,t,n){if("string"==typeof e||"number"==typeof e)return""==(n=""+e)?"":this.makeStaticMarkup?j(n):this.previousWasTextNode?"\x3c!-- --\x3e"+j(n):(this.previousWasTextNode=!0,j(n));if(e=(t=function(e,t,n){function o(i,o){var a=o.prototype&&o.prototype.isReactComponent,l=function(e,t,n,r){if(r&&"object"==typeof(r=e.contextType)&&null!==r)return S(r,n),r[n];if(e=e.contextTypes){for(var i in n={},e)n[i]=t[i];t=n}else t=x;return t}(o,t,n,a),c=[],u=!1,h={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===c)return null},enqueueReplaceState:function(e,t){u=!0,c=[t]},enqueueSetState:function(e,t){if(null===c)return null;c.push(t)}};if(a){if(a=new o(i.props,l,h),"function"==typeof o.getDerivedStateFromProps){var d=o.getDerivedStateFromProps.call(null,i.props,a.state);null!=d&&(a.state=r({},a.state,d))}}else if(z={},a=o(i.props,l,h),null==(a=Q(o,i.props,a,l))||null==a.render)return void Ee(e=a,o);if(a.props=i.props,a.context=l,a.updater=h,void 0===(h=a.state)&&(a.state=h=null),"function"==typeof a.UNSAFE_componentWillMount||"function"==typeof a.componentWillMount)if("function"==typeof a.componentWillMount&&"function"!=typeof o.getDerivedStateFromProps&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&"function"!=typeof o.getDerivedStateFromProps&&a.UNSAFE_componentWillMount(),c.length){h=c;var f=u;if(c=null,u=!1,f&&1===h.length)a.state=h[0];else{d=f?h[0]:a.state;var p=!0;for(f=f?1:0;f<h.length;f++){var g=h[f];null!=(g="function"==typeof g?g.call(a,d,i.props,l):g)&&(p?(p=!1,d=r({},d,g)):r(d,g))}a.state=d}}else c=null;if(Ee(e=a.render(),o),"function"==typeof a.getChildContext&&"object"==typeof(i=o.childContextTypes)){var m=a.getChildContext();for(var v in m)if(!(v in i))throw Error(s(108,E(o)||"Unknown",v))}m&&(t=r({},t,m))}for(;i.isValidElement(e);){var a=e,l=a.type;if("function"!=typeof l)break;o(a,l)}return{child:e,context:t}}(e,t,this.threadID)).child,t=t.context,null===e||!1===e)return"";if(!i.isValidElement(e)){if(null!=e&&null!=e.$$typeof){if((n=e.$$typeof)===o)throw Error(s(257));throw Error(s(258,n.toString()))}return e=ge(e),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),""}var v=e.type;if("string"==typeof v)return this.renderDOM(e,t,n);switch(v){case _:case w:case l:case c:case p:case a:return e=ge(e.props.children),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case f:throw Error(s(294));case b:throw Error(s(343))}if("object"==typeof v&&null!==v)switch(v.$$typeof){case d:z={};var A=v.render(e.props,e.ref);return A=Q(v.render,e.props,A,e.ref),A=ge(A),this.stack.push({type:null,domNamespace:n,children:A,childIndex:0,context:t,footer:""}),"";case g:return e=[i.createElement(v.type,r({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case u:return n={type:e,domNamespace:n,children:v=ge(e.props.children),childIndex:0,context:t,footer:""},this.pushProvider(e),this.stack.push(n),"";case h:v=e.type,A=e.props;var C=this.threadID;return S(v,C),v=ge(A.children(v[C])),this.stack.push({type:e,domNamespace:n,children:v,childIndex:0,context:t,footer:""}),"";case y:throw Error(s(338));case m:return v=(A=(v=e.type)._init)(v._payload),e=[i.createElement(v,r({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),""}throw Error(s(130,null==v?v:typeof v,""))},t.renderDOM=function(e,t,n){var o=e.type.toLowerCase();if(n===ae&&le(o),!be.hasOwnProperty(o)){if(!ye.test(o))throw Error(s(65,o));be[o]=!0}var a=e.props;if("input"===o)a=r({type:void 0},a,{defaultChecked:void 0,defaultValue:void 0,value:null!=a.value?a.value:a.defaultValue,checked:null!=a.checked?a.checked:a.defaultChecked});else if("textarea"===o){var l=a.value;if(null==l){l=a.defaultValue;var c=a.children;if(null!=c){if(null!=l)throw Error(s(92));if(Array.isArray(c)){if(!(1>=c.length))throw Error(s(93));c=c[0]}l=""+c}null==l&&(l="")}a=r({},a,{value:void 0,children:""+l})}else if("select"===o)this.currentSelectValue=null!=a.value?a.value:a.defaultValue,a=r({},a,{value:void 0});else if("option"===o){c=this.currentSelectValue;var u=function(e){if(null==e)return e;var t="";return i.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(a.children);if(null!=c){var h=null!=a.value?a.value+"":u;if(l=!1,Array.isArray(c)){for(var d=0;d<c.length;d++)if(""+c[d]===h){l=!0;break}}else l=""+c===h;a=r({selected:void 0,children:void 0},a,{selected:l,children:u})}}if(l=a){if(ue[o]&&(null!=l.children||null!=l.dangerouslySetInnerHTML))throw Error(s(137,o));if(null!=l.dangerouslySetInnerHTML){if(null!=l.children)throw Error(s(60));if("object"!=typeof l.dangerouslySetInnerHTML||!("__html"in l.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=l.style&&"object"!=typeof l.style)throw Error(s(62))}l=a,c=this.makeStaticMarkup,u=1===this.stack.length,h="<"+e.type;e:if(-1===o.indexOf("-"))d="string"==typeof l.is;else switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":d=!1;break e;default:d=!0}for(_ in l)if(_e.call(l,_)){var f=l[_];if(null!=f){if("style"===_){var p=void 0,g="",m="";for(p in f)if(f.hasOwnProperty(p)){var v=0===p.indexOf("--"),y=f[p];if(null!=y){if(v)var b=p;else if(b=p,we.hasOwnProperty(b))b=we[b];else{var w=b.replace(fe,"-$1").toLowerCase().replace(pe,"-ms-");b=we[b]=w}g+=m+b+":",m=p,g+=v=null==y||"boolean"==typeof y||""===y?"":v||"number"!=typeof y||0===y||he.hasOwnProperty(m)&&he[m]?(""+y).trim():y+"px",m=";"}}f=g||null}p=null,d?Ae.hasOwnProperty(_)||(p=k(p=_)&&null!=f?p+'="'+j(f)+'"':""):p=U(_,f),p&&(h+=" "+p)}}c||u&&(h+=' data-reactroot=""');var _=h;l="",ce.hasOwnProperty(o)?_+="/>":(_+=">",l="</"+e.type+">");e:{if(null!=(c=a.dangerouslySetInnerHTML)){if(null!=c.__html){c=c.__html;break e}}else if("string"==typeof(c=a.children)||"number"==typeof c){c=j(c);break e}c=null}return null!=c?(a=[],ve.hasOwnProperty(o)&&"\n"===c.charAt(0)&&(_+="\n"),_+=c):a=ge(a.children),e=e.type,n=null==n||"http://www.w3.org/1999/xhtml"===n?le(e):"http://www.w3.org/2000/svg"===n&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":n,this.stack.push({domNamespace:n,type:o,children:a,childIndex:0,context:t,footer:l}),this.previousWasTextNode=!1,_},e}();t.renderToStaticMarkup=function(e,t){e=new Ce(e,!0,t);try{return e.read(1/0)}finally{e.destroy()}}},4448:(e,t,n)=>{"use strict";var r=n(7294),i=n(7418),s=n(3840);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var a=new Set,l={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(l[e]=t,e=0;e<t.length;e++)a.add(t[e])}var h=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,p={},g={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(g,e)||!f.call(p,e)&&(d.test(e)?g[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);v[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=60103,E=60106,C=60107,x=60108,S=60114,T=60109,I=60110,O=60112,P=60113,M=60120,B=60115,k=60116,R=60121,L=60128,F=60129,D=60130,N=60131;if("function"==typeof Symbol&&Symbol.for){var j=Symbol.for;A=j("react.element"),E=j("react.portal"),C=j("react.fragment"),x=j("react.strict_mode"),S=j("react.profiler"),T=j("react.provider"),I=j("react.context"),O=j("react.forward_ref"),P=j("react.suspense"),M=j("react.suspense_list"),B=j("react.memo"),k=j("react.lazy"),R=j("react.block"),j("react.scope"),L=j("react.opaque.id"),F=j("react.debug_trace_mode"),D=j("react.offscreen"),N=j("react.legacy_hidden")}var U,G="function"==typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=G&&e[G]||e["@@iterator"])?e:null}function V(e){if(void 0===U)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var H=!1;function Z(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=a);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function W(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return Z(e.type,!1);case 11:return Z(e.type.render,!1);case 22:return Z(e.type._render,!1);case 1:return Z(e.type,!0);default:return""}}function J(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case C:return"Fragment";case E:return"Portal";case S:return"Profiler";case x:return"StrictMode";case P:return"Suspense";case M:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case B:return J(e.type);case R:return J(e._render);case k:t=e._payload,e=e._init;try{return J(e(t))}catch(e){}}return null}function K(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function X(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=X(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=X(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function se(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ce(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,ge,me=(ge=function(e,t){if(e.namespaceURI!==he.svg||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ge(e,t)}))}:ge);function ve(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ye).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var Ae=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(Ae[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(o(62))}}function Ce(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Te=null,Ie=null;function Oe(e){if(e=ni(e)){if("function"!=typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=ii(t),Se(e.stateNode,e.type,t))}}function Pe(e){Te?Ie?Ie.push(e):Ie=[e]:Te=e}function Me(){if(Te){var e=Te,t=Ie;if(Ie=Te=null,Oe(e),t)for(e=0;e<t.length;e++)Oe(t[e])}}function Be(e,t){return e(t)}function ke(e,t,n,r,i){return e(t,n,r,i)}function Re(){}var Le=Be,Fe=!1,De=!1;function Ne(){null===Te&&null===Ie||(Re(),Me())}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var Ue=!1;if(h)try{var Ge={};Object.defineProperty(Ge,"passive",{get:function(){Ue=!0}}),window.addEventListener("test",Ge,Ge),window.removeEventListener("test",Ge,Ge)}catch(ge){Ue=!1}function ze(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var Ve=!1,He=null,Ze=!1,We=null,Je={onError:function(e){Ve=!0,He=e}};function Ke(e,t,n,r,i,s,o,a,l){Ve=!1,He=null,ze.apply(Je,arguments)}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Ye(e){if(Xe(e)!==e)throw Error(o(188))}function Qe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ye(i),e;if(s===r)return Ye(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function $e(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,st=[],ot=null,at=null,lt=null,ct=new Map,ut=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ft(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":ot=null;break;case"dragenter":case"dragleave":at=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ut.delete(t.pointerId)}}function gt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e=ft(t,n,r,i,s),null!==t&&null!==(t=ni(t))&&tt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=ti(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){s.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ni(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){vt(e)&&n.delete(t)}function bt(){for(it=!1;0<st.length;){var e=st[0];if(null!==e.blockedOn){null!==(e=ni(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&st.shift()}null!==ot&&vt(ot)&&(ot=null),null!==at&&vt(at)&&(at=null),null!==lt&&vt(lt)&&(lt=null),ct.forEach(yt),ut.forEach(yt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,bt)))}function _t(e){function t(t){return wt(t,e)}if(0<st.length){wt(st[0],e);for(var n=1;n<st.length;n++){var r=st[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ot&&wt(ot,e),null!==at&&wt(at,e),null!==lt&&wt(lt,e),ct.forEach(t),ut.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)mt(n),null===n.blockedOn&&ht.shift()}function At(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:At("Animation","AnimationEnd"),animationiteration:At("Animation","AnimationIteration"),animationstart:At("Animation","AnimationStart"),transitionend:At("Transition","TransitionEnd")},Ct={},xt={};function St(e){if(Ct[e])return Ct[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in xt)return Ct[e]=n[t];return e}h&&(xt=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var Tt=St("animationend"),It=St("animationiteration"),Ot=St("animationstart"),Pt=St("transitionend"),Mt=new Map,Bt=new Map,kt=["abort","abort",Tt,"animationEnd",It,"animationIteration",Ot,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Pt,"transitionEnd","waiting","waiting"];function Rt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Bt.set(r,t),Mt.set(r,i),c(i,[r])}}(0,s.unstable_now)();var Lt=8;function Ft(e){if(0!=(1&e))return Lt=15,1;if(0!=(2&e))return Lt=14,2;if(0!=(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!=(32&e)?(Lt=11,32):0!=(t=192&e)?(Lt=10,t):0!=(256&e)?(Lt=9,256):0!=(t=3584&e)?(Lt=8,t):0!=(4096&e)?(Lt=7,4096):0!=(t=4186112&e)?(Lt=6,t):0!=(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!=(134217728&e)?(Lt=3,134217728):0!=(t=805306368&e)?(Lt=2,t):0!=(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Dt(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,s=e.expiredLanes,o=e.suspendedLanes,a=e.pingedLanes;if(0!==s)r=s,i=Lt=15;else if(0!=(s=134217727&n)){var l=s&~o;0!==l?(r=Ft(l),i=Lt):0!=(a&=s)&&(r=Ft(a),i=Lt)}else 0!=(s=n&~o)?(r=Ft(s),i=Lt):0!==a&&(r=Ft(a),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Vt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&o)){if(Ft(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Vt(t)),r|=e[n],t&=~i;return r}function Nt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function jt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ut(24&~t))?jt(10,t):e;case 10:return 0===(e=Ut(192&~t))?jt(8,t):e;case 8:return 0===(e=Ut(3584&~t))&&0===(e=Ut(4186112&~t))&&(e=512),e;case 2:return 0===(t=Ut(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Ut(e){return e&-e}function Gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Vt(t)]=n}var Vt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Zt|0)|0},Ht=Math.log,Zt=Math.LN2,Wt=s.unstable_UserBlockingPriority,Jt=s.unstable_runWithPriority,Kt=!0;function Xt(e,t,n,r){Fe||Re();var i=Yt,s=Fe;Fe=!0;try{ke(i,e,t,n,r)}finally{(Fe=s)||Ne()}}function qt(e,t,n,r){Jt(Wt,Yt.bind(null,e,t,n,r))}function Yt(e,t,n,r){var i;if(Kt)if((i=0==(4&t))&&0<st.length&&-1<dt.indexOf(e))e=ft(null,e,t,n,r),st.push(e);else{var s=Qt(e,t,n,r);if(null===s)i&&pt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=ft(s,e,t,n,r),void st.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ot=gt(ot,e,t,n,r,i),!0;case"dragenter":return at=gt(at,e,t,n,r,i),!0;case"mouseover":return lt=gt(lt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return ct.set(s,gt(ct.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ut.set(s,gt(ut.get(s)||null,e,t,n,r,i)),!0}return!1}(s,e,t,n,r))return;pt(e,r)}Rr(e,t,r,null,n)}}}function Qt(e,t,n,r){var i=xe(r);if(null!==(i=ti(i))){var s=Xe(i);if(null===s)i=null;else{var o=s.tag;if(13===o){if(null!==(i=qe(s)))return i;i=null}else if(3===o){if(s.stateNode.hydrate)return 3===s.tag?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Rr(e,t,r,i,n),null}var $t=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in $t?$t.value:$t.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function sn(){return!0}function on(){return!1}function an(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?sn:on,this.isPropagationStopped=on,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=sn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=sn)},persist:function(){},isPersistent:sn}),t}var ln,cn,un,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=an(hn),fn=i({},hn,{view:0,detail:0}),pn=an(fn),gn=i({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(ln=e.screenX-un.screenX,cn=e.screenY-un.screenY):cn=ln=0,un=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),mn=an(gn),vn=an(i({},gn,{dataTransfer:0})),yn=an(i({},fn,{relatedTarget:0})),bn=an(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=an(wn),An=an(i({},hn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Tn(){return Sn}var In=i({},fn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),On=an(In),Pn=an(i({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mn=an(i({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Bn=an(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),kn=i({},gn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(kn),Ln=[9,13,27,32],Fn=h&&"CompositionEvent"in window,Dn=null;h&&"documentMode"in document&&(Dn=document.documentMode);var Nn=h&&"TextEvent"in window&&!Dn,jn=h&&(!Fn||Dn&&8<Dn&&11>=Dn),Un=String.fromCharCode(32),Gn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1,Zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Zn[e.type]:"textarea"===t}function Jn(e,t,n,r){Pe(r),0<(t=Fr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Xn=null;function qn(e){Ir(e,0)}function Yn(e){if(Y(ri(e)))return e}function Qn(e,t){if("change"===e)return t}var $n=!1;if(h){var er;if(h){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"==typeof nr.oninput}er=tr}else er=!1;$n=er&&(!document.documentMode||9<document.documentMode)}function rr(){Kn&&(Kn.detachEvent("onpropertychange",ir),Xn=Kn=null)}function ir(e){if("value"===e.propertyName&&Yn(Xn)){var t=[];if(Jn(t,Xn,e,xe(e)),e=qn,Fe)e(t);else{Fe=!0;try{Be(e,t)}finally{Fe=!1,Ne()}}}}function sr(e,t,n){"focusin"===e?(rr(),Xn=n,(Kn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Xn)}function ar(e,t){if("click"===e)return Yn(t)}function lr(e,t){if("input"===e||"change"===e)return Yn(t)}var cr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},ur=Object.prototype.hasOwnProperty;function hr(e,t){if(cr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ur.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function gr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var vr=h&&"documentMode"in document&&11>=document.documentMode,yr=null,br=null,wr=null,_r=!1;function Ar(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==yr||yr!==Q(r)||(r="selectionStart"in(r=yr)&&mr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=Fr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}Rt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Rt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Rt(kt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Cr=0;Cr<Er.length;Cr++)Bt.set(Er[Cr],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(xr));function Tr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,c){if(Ke.apply(this,arguments),Ve){if(!Ve)throw Error(o(198));var u=He;Ve=!1,He=null,Ze||(Ze=!0,We=u)}}(r,t,void 0,e),e.currentTarget=null}function Ir(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Tr(i,a,c),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Tr(i,a,c),s=l}}}if(Ze)throw e=We,Ze=!1,We=null,e}function Or(e,t){var n=si(t),r=e+"__bubble";n.has(r)||(kr(t,e,2,!1),n.add(r))}var Pr="_reactListening"+Math.random().toString(36).slice(2);function Mr(e){e[Pr]||(e[Pr]=!0,a.forEach((function(t){Sr.has(t)||Br(t,!1,e,null),Br(t,!0,e,null)})))}function Br(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,s=n;if("selectionchange"===e&&9!==n.nodeType&&(s=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;i|=2,s=r}var o=si(s),a=e+"__"+(t?"capture":"bubble");o.has(a)||(t&&(i|=4),kr(s,e,i,t),o.add(a))}function kr(e,t,n,r){var i=Bt.get(t);switch(void 0===i?2:i){case 0:i=Xt;break;case 1:i=qt;break;default:i=Yt}n=i.bind(null,t,n,e),i=void 0,!Ue||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Rr(e,t,n,r,i){var s=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=ti(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}!function(e,t,n){if(De)return e();De=!0;try{return Le(e,t,n)}finally{De=!1,Ne()}}((function(){var r=s,i=xe(n),o=[];e:{var a=Mt.get(e);if(void 0!==a){var l=dn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":l=On;break;case"focusin":c="focus",l=yn;break;case"focusout":c="blur",l=yn;break;case"beforeblur":case"afterblur":l=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Mn;break;case Tt:case It:case Ot:l=bn;break;case Pt:l=Bn;break;case"scroll":l=pn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Pn}var u=0!=(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&null!=(g=je(p,d))&&u.push(Lr(p,g,f))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),o.push({event:a,listeners:u}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(c=n.relatedTarget||n.fromElement)||!ti(c)&&!c[$r])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ti(c):null)&&(c!==(h=Xe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=mn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Pn,g="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:ri(l),f=null==c?a:ri(c),(a=new u(g,p+"leave",l,n,i)).target=h,a.relatedTarget=f,g=null,ti(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,g=u),h=g,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Dr(f))p++;for(f=0,g=d;g;g=Dr(g))f++;for(;0<p-f;)u=Dr(u),p--;for(;0<f-p;)d=Dr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Dr(u),d=Dr(d)}u=null}else u=null;null!==l&&Nr(o,a,l,u,!1),null!==c&&null!==h&&Nr(o,h,c,u,!0)}if("select"===(l=(a=r?ri(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Qn;else if(Wn(a))if($n)m=lr;else{m=or;var v=sr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=ar);switch(m&&(m=m(e,r))?Jn(o,m,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ie(a,"number",a.value)),v=r?ri(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(yr=v,br=r,wr=null);break;case"focusout":wr=br=yr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,Ar(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":Ar(o,n,i)}var y;if(Fn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(y=nn()):(en="value"in($t=i)?$t.value:$t.textContent,Hn=!0)),0<(v=Fr(r,b)).length&&(b=new An(b,e,null,n,i),o.push({event:b,listeners:v}),(y||null!==(y=Vn(n)))&&(b.data=y))),(y=Nn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Gn=!0,Un);case"textInput":return(e=t.data)===Un&&Gn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Fn&&zn(e,t)?(e=nn(),tn=en=$t=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Fr(r,"onBeforeInput")).length&&(i=new An("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y)}Ir(o,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=je(e,n))&&r.unshift(Lr(e,s,i)),null!=(s=je(e,t))&&r.push(Lr(e,s,i))),e=e.return}return r}function Dr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Nr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=je(n,s))&&o.unshift(Lr(n,l,a)):i||null!=(l=je(n,s))&&o.push(Lr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function jr(){}var Ur=null,Gr=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Vr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"==typeof setTimeout?setTimeout:void 0,Zr="function"==typeof clearTimeout?clearTimeout:void 0;function Wr(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function Jr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Kr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Xr=0,qr=Math.random().toString(36).slice(2),Yr="__reactFiber$"+qr,Qr="__reactProps$"+qr,$r="__reactContainer$"+qr,ei="__reactEvents$"+qr;function ti(e){var t=e[Yr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$r]||n[Yr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Kr(e);null!==e;){if(n=e[Yr])return n;e=Kr(e)}return t}n=(e=n).parentNode}return null}function ni(e){return!(e=e[Yr]||e[$r])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ri(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ii(e){return e[Qr]||null}function si(e){var t=e[ei];return void 0===t&&(t=e[ei]=new Set),t}var oi=[],ai=-1;function li(e){return{current:e}}function ci(e){0>ai||(e.current=oi[ai],oi[ai]=null,ai--)}function ui(e,t){ai++,oi[ai]=e.current,e.current=t}var hi={},di=li(hi),fi=li(!1),pi=hi;function gi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function mi(e){return null!=e.childContextTypes}function vi(){ci(fi),ci(di)}function yi(e,t,n){if(di.current!==hi)throw Error(o(168));ui(di,t),ui(fi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in e))throw Error(o(108,J(t)||"Unknown",s));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,pi=di.current,ui(di,e),ui(fi,fi.current),!0}function _i(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,pi),r.__reactInternalMemoizedMergedChildContext=e,ci(fi),ci(di),ui(di,e)):ci(fi),ui(fi,n)}var Ai=null,Ei=null,Ci=s.unstable_runWithPriority,xi=s.unstable_scheduleCallback,Si=s.unstable_cancelCallback,Ti=s.unstable_shouldYield,Ii=s.unstable_requestPaint,Oi=s.unstable_now,Pi=s.unstable_getCurrentPriorityLevel,Mi=s.unstable_ImmediatePriority,Bi=s.unstable_UserBlockingPriority,ki=s.unstable_NormalPriority,Ri=s.unstable_LowPriority,Li=s.unstable_IdlePriority,Fi={},Di=void 0!==Ii?Ii:function(){},Ni=null,ji=null,Ui=!1,Gi=Oi(),zi=1e4>Gi?Oi:function(){return Oi()-Gi};function Vi(){switch(Pi()){case Mi:return 99;case Bi:return 98;case ki:return 97;case Ri:return 96;case Li:return 95;default:throw Error(o(332))}}function Hi(e){switch(e){case 99:return Mi;case 98:return Bi;case 97:return ki;case 96:return Ri;case 95:return Li;default:throw Error(o(332))}}function Zi(e,t){return e=Hi(e),Ci(e,t)}function Wi(e,t,n){return e=Hi(e),xi(e,t,n)}function Ji(){if(null!==ji){var e=ji;ji=null,Si(e)}Ki()}function Ki(){if(!Ui&&null!==Ni){Ui=!0;var e=0;try{var t=Ni;Zi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ni=null}catch(t){throw null!==Ni&&(Ni=Ni.slice(e+1)),xi(Mi,Ji),t}finally{Ui=!1}}}var Xi=_.ReactCurrentBatchConfig;function qi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Yi=li(null),Qi=null,$i=null,es=null;function ts(){es=$i=Qi=null}function ns(e){var t=Yi.current;ci(Yi),e.type._context._currentValue=t}function rs(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function is(e,t){Qi=e,es=$i=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Fo=!0),e.firstContext=null)}function ss(e,t){if(es!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(es=e,t=1073741823),t={context:e,observedBits:t,next:null},null===$i){if(null===Qi)throw Error(o(308));$i=t,Qi.dependencies={lanes:0,firstContext:t,responders:null}}else $i=$i.next=t;return e._currentValue}var os=!1;function as(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ls(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function cs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function us(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function hs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ds(e,t,n,r){var s=e.updateQueue;os=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(null!==l){s.shared.pending=null;var c=l,u=c.next;c.next=null,null===a?o=u:a.next=u,a=c;var h=e.alternate;if(null!==h){var d=(h=h.updateQueue).lastBaseUpdate;d!==a&&(null===d?h.firstBaseUpdate=u:d.next=u,h.lastBaseUpdate=c)}}if(null!==o){for(d=s.baseState,a=0,h=u=c=null;;){l=o.lane;var f=o.eventTime;if((r&l)===l){null!==h&&(h=h.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,g=o;switch(l=t,f=n,g.tag){case 1:if("function"==typeof(p=g.payload)){d=p.call(f,d,l);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(l="function"==typeof(p=g.payload)?p.call(f,d,l):p))break e;d=i({},d,l);break e;case 2:os=!0}}null!==o.callback&&(e.flags|=32,null===(l=s.effects)?s.effects=[o]:l.push(o))}else f={eventTime:f,lane:l,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===h?(u=h=f,c=d):h=h.next=f,a|=l;if(null===(o=o.next)){if(null===(l=s.shared.pending))break;o=l.next,l.next=null,s.lastBaseUpdate=l,s.shared.pending=null}}null===h&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,ja|=a,e.lanes=a,e.memoizedState=d}}function fs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(o(191,i));i.call(r)}}}var ps=(new r.Component).refs;function gs(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ms={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ul(),i=hl(e),s=cs(r,i);s.payload=t,null!=n&&(s.callback=n),us(e,s),dl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ul(),i=hl(e),s=cs(r,i);s.tag=1,s.payload=t,null!=n&&(s.callback=n),us(e,s),dl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ul(),r=hl(e),i=cs(n,r);i.tag=2,null!=t&&(i.callback=t),us(e,i),dl(e,r,n)}};function vs(e,t,n,r,i,s,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!(t.prototype&&t.prototype.isPureReactComponent&&hr(n,r)&&hr(i,s))}function ys(e,t,n){var r=!1,i=hi,s=t.contextType;return"object"==typeof s&&null!==s?s=ss(s):(i=mi(t)?pi:di.current,s=(r=null!=(r=t.contextTypes))?gi(e,i):hi),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ms,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function bs(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ms.enqueueReplaceState(t,t.state,null)}function ws(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ps,as(e);var s=t.contextType;"object"==typeof s&&null!==s?i.context=ss(s):(s=mi(t)?pi:di.current,i.context=gi(e,s)),ds(e,n,i,r),i.state=e.memoizedState,"function"==typeof(s=t.getDerivedStateFromProps)&&(gs(e,t,s,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ms.enqueueReplaceState(i,i.state,null),ds(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var _s=Array.isArray;function As(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===ps&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Es(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Cs(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hl(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Kl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=As(e,t,n),r.return=e,r):((r=Zl(n.type,n.key,n.props,null,e.mode,r)).ref=As(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Wl(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Kl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case A:return(n=Zl(t.type,t.key,t.props,null,e.mode,n)).ref=As(e,null,t),n.return=e,n;case E:return(t=Xl(t,e.mode,n)).return=e,t}if(_s(t)||z(t))return(t=Wl(t,e.mode,n,null)).return=e,t;Es(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case A:return n.key===i?n.type===C?h(e,t,n.props.children,r,i):c(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null}if(_s(n)||z(n))return null!==i?null:h(e,t,n,r,null);Es(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case A:return e=e.get(null===r.key?n:r.key)||null,r.type===C?h(t,e,r.props.children,i,r.key):c(t,e,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(_s(r)||z(r))return h(t,e=e.get(n)||null,r,i,null);Es(t,r)}return null}function g(i,o,a,l){for(var c=null,u=null,h=o,g=o=0,m=null;null!==h&&g<a.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=f(i,h,a[g],l);if(null===v){null===h&&(h=m);break}e&&h&&null===v.alternate&&t(i,h),o=s(v,o,g),null===u?c=v:u.sibling=v,u=v,h=m}if(g===a.length)return n(i,h),c;if(null===h){for(;g<a.length;g++)null!==(h=d(i,a[g],l))&&(o=s(h,o,g),null===u?c=h:u.sibling=h,u=h);return c}for(h=r(i,h);g<a.length;g++)null!==(m=p(h,i,g,a[g],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),o=s(m,o,g),null===u?c=m:u.sibling=m,u=m);return e&&h.forEach((function(e){return t(i,e)})),c}function m(i,a,l,c){var u=z(l);if("function"!=typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var h=u=null,g=a,m=a=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=f(i,g,y.value,c);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(i,g),a=s(b,a,m),null===h?u=b:h.sibling=b,h=b,g=v}if(y.done)return n(i,g),u;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=d(i,y.value,c))&&(a=s(y,a,m),null===h?u=y:h.sibling=y,h=y);return u}for(g=r(i,g);!y.done;m++,y=l.next())null!==(y=p(g,i,m,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),a=s(y,a,m),null===h?u=y:h.sibling=y,h=y);return e&&g.forEach((function(e){return t(i,e)})),u}return function(e,r,s,l){var c="object"==typeof s&&null!==s&&s.type===C&&null===s.key;c&&(s=s.props.children);var u="object"==typeof s&&null!==s;if(u)switch(s.$$typeof){case A:e:{for(u=s.key,c=r;null!==c;){if(c.key===u){if(7===c.tag){if(s.type===C){n(e,c.sibling),(r=i(c,s.props.children)).return=e,e=r;break e}}else if(c.elementType===s.type){n(e,c.sibling),(r=i(c,s.props)).ref=As(e,c,s),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}s.type===C?((r=Wl(s.props.children,e.mode,l,s.key)).return=e,e=r):((l=Zl(s.type,s.key,s.props,null,e.mode,l)).ref=As(e,r,s),l.return=e,e=l)}return a(e);case E:e:{for(c=s.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===s.containerInfo&&r.stateNode.implementation===s.implementation){n(e,r.sibling),(r=i(r,s.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xl(s,e.mode,l)).return=e,e=r}return a(e)}if("string"==typeof s||"number"==typeof s)return s=""+s,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,s)).return=e,e=r):(n(e,r),(r=Kl(s,e.mode,l)).return=e,e=r),a(e);if(_s(s))return g(e,r,s,l);if(z(s))return m(e,r,s,l);if(u&&Es(e,s),void 0===s&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,J(e.type)||"Component"))}return n(e,r)}}var xs=Cs(!0),Ss=Cs(!1),Ts={},Is=li(Ts),Os=li(Ts),Ps=li(Ts);function Ms(e){if(e===Ts)throw Error(o(174));return e}function Bs(e,t){switch(ui(Ps,t),ui(Os,e),ui(Is,Ts),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fe(null,"");break;default:t=fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ci(Is),ui(Is,t)}function ks(){ci(Is),ci(Os),ci(Ps)}function Rs(e){Ms(Ps.current);var t=Ms(Is.current),n=fe(t,e.type);t!==n&&(ui(Os,e),ui(Is,n))}function Ls(e){Os.current===e&&(ci(Is),ci(Os))}var Fs=li(0);function Ds(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ns=null,js=null,Us=!1;function Gs(e,t){var n=zl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function zs(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Vs(e){if(Us){var t=js;if(t){var n=t;if(!zs(e,t)){if(!(t=Jr(n.nextSibling))||!zs(e,t))return e.flags=-1025&e.flags|2,Us=!1,void(Ns=e);Gs(Ns,n)}Ns=e,js=Jr(t.firstChild)}else e.flags=-1025&e.flags|2,Us=!1,Ns=e}}function Hs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ns=e}function Zs(e){if(e!==Ns)return!1;if(!Us)return Hs(e),Us=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Vr(t,e.memoizedProps))for(t=js;t;)Gs(e,t),t=Jr(t.nextSibling);if(Hs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){js=Jr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}js=null}}else js=Ns?Jr(e.stateNode.nextSibling):null;return!0}function Ws(){js=Ns=null,Us=!1}var Js=[];function Ks(){for(var e=0;e<Js.length;e++)Js[e]._workInProgressVersionPrimary=null;Js.length=0}var Xs=_.ReactCurrentDispatcher,qs=_.ReactCurrentBatchConfig,Ys=0,Qs=null,$s=null,eo=null,to=!1,no=!1;function ro(){throw Error(o(321))}function io(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function so(e,t,n,r,i,s){if(Ys=s,Qs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xs.current=null===e||null===e.memoizedState?Bo:ko,e=n(r,i),no){s=0;do{if(no=!1,!(25>s))throw Error(o(301));s+=1,eo=$s=null,t.updateQueue=null,Xs.current=Ro,e=n(r,i)}while(no)}if(Xs.current=Mo,t=null!==$s&&null!==$s.next,Ys=0,eo=$s=Qs=null,to=!1,t)throw Error(o(300));return e}function oo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===eo?Qs.memoizedState=eo=e:eo=eo.next=e,eo}function ao(){if(null===$s){var e=Qs.alternate;e=null!==e?e.memoizedState:null}else e=$s.next;var t=null===eo?Qs.memoizedState:eo.next;if(null!==t)eo=t,$s=e;else{if(null===e)throw Error(o(310));e={memoizedState:($s=e).memoizedState,baseState:$s.baseState,baseQueue:$s.baseQueue,queue:$s.queue,next:null},null===eo?Qs.memoizedState=eo=e:eo=eo.next=e}return eo}function lo(e,t){return"function"==typeof t?t(e):t}function co(e){var t=ao(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=$s,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=a=s=null,c=i;do{var u=c.lane;if((Ys&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var h={lane:u,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(a=l=h,s=r):l=l.next=h,Qs.lanes|=u,ja|=u}c=c.next}while(null!==c&&c!==i);null===l?s=r:l.next=a,cr(r,t.memoizedState)||(Fo=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function uo(e){var t=ao(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);cr(s,t.memoizedState)||(Fo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ys&e)===e)&&(t._workInProgressVersionPrimary=r,Js.push(t))),e)return n(t._source);throw Js.push(t),Error(o(350))}function fo(e,t,n,r){var i=Ma;if(null===i)throw Error(o(349));var s=t._getVersion,a=s(t._source),l=Xs.current,c=l.useState((function(){return ho(i,t,n)})),u=c[1],h=c[0];c=eo;var d=e.memoizedState,f=d.refs,p=f.getSnapshot,g=d.source;d=d.subscribe;var m=Qs;return e.memoizedState={refs:f,source:t,subscribe:r},l.useEffect((function(){f.getSnapshot=n,f.setSnapshot=u;var e=s(t._source);if(!cr(a,e)){e=n(t._source),cr(h,e)||(u(e),e=hl(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var l=31-Vt(o),c=1<<l;r[l]|=e,o&=~c}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=hl(m);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),cr(p,n)&&cr(g,t)&&cr(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:lo,lastRenderedState:h}).dispatch=u=Po.bind(null,Qs,e),c.queue=e,c.baseQueue=null,h=ho(i,t,n),c.memoizedState=c.baseState=h),h}function po(e,t,n){return fo(ao(),e,t,n)}function go(e){var t=oo();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:lo,lastRenderedState:e}).dispatch=Po.bind(null,Qs,e),[t.memoizedState,e]}function mo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Qs.updateQueue)?(t={lastEffect:null},Qs.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function vo(e){return e={current:e},oo().memoizedState=e}function yo(){return ao().memoizedState}function bo(e,t,n,r){var i=oo();Qs.flags|=e,i.memoizedState=mo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=ao();r=void 0===r?null:r;var s=void 0;if(null!==$s){var o=$s.memoizedState;if(s=o.destroy,null!==r&&io(r,o.deps))return void mo(t,n,s,r)}Qs.flags|=e,i.memoizedState=mo(1|t,n,s,r)}function _o(e,t){return bo(516,4,e,t)}function Ao(e,t){return wo(516,4,e,t)}function Eo(e,t){return wo(4,2,e,t)}function Co(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function xo(e,t,n){return n=null!=n?n.concat([e]):null,wo(4,2,Co.bind(null,t,e),n)}function So(){}function To(e,t){var n=ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&io(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Io(e,t){var n=ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&io(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Oo(e,t){var n=Vi();Zi(98>n?98:n,(function(){e(!0)})),Zi(97<n?97:n,(function(){var n=qs.transition;qs.transition=1;try{e(!1),t()}finally{qs.transition=n}}))}function Po(e,t,n){var r=ul(),i=hl(e),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?s.next=s:(s.next=o.next,o.next=s),t.pending=s,o=e.alternate,e===Qs||null!==o&&o===Qs)no=to=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=o(a,n);if(s.eagerReducer=o,s.eagerState=l,cr(l,a))return}catch(e){}dl(e,i,r)}}var Mo={readContext:ss,useCallback:ro,useContext:ro,useEffect:ro,useImperativeHandle:ro,useLayoutEffect:ro,useMemo:ro,useReducer:ro,useRef:ro,useState:ro,useDebugValue:ro,useDeferredValue:ro,useTransition:ro,useMutableSource:ro,useOpaqueIdentifier:ro,unstable_isNewReconciler:!1},Bo={readContext:ss,useCallback:function(e,t){return oo().memoizedState=[e,void 0===t?null:t],e},useContext:ss,useEffect:_o,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,bo(4,2,Co.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=oo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=oo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Po.bind(null,Qs,e),[r.memoizedState,e]},useRef:vo,useState:go,useDebugValue:So,useDeferredValue:function(e){var t=go(e),n=t[0],r=t[1];return _o((function(){var t=qs.transition;qs.transition=1;try{r(e)}finally{qs.transition=t}}),[e]),n},useTransition:function(){var e=go(!1),t=e[0];return vo(e=Oo.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=oo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},fo(r,e,t,n)},useOpaqueIdentifier:function(){if(Us){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Xr++).toString(36))),Error(o(355))})),n=go(t)[1];return 0==(2&Qs.mode)&&(Qs.flags|=516,mo(5,(function(){n("r:"+(Xr++).toString(36))}),void 0,null)),t}return go(t="r:"+(Xr++).toString(36)),t},unstable_isNewReconciler:!1},ko={readContext:ss,useCallback:To,useContext:ss,useEffect:Ao,useImperativeHandle:xo,useLayoutEffect:Eo,useMemo:Io,useReducer:co,useRef:yo,useState:function(){return co(lo)},useDebugValue:So,useDeferredValue:function(e){var t=co(lo),n=t[0],r=t[1];return Ao((function(){var t=qs.transition;qs.transition=1;try{r(e)}finally{qs.transition=t}}),[e]),n},useTransition:function(){var e=co(lo)[0];return[yo().current,e]},useMutableSource:po,useOpaqueIdentifier:function(){return co(lo)[0]},unstable_isNewReconciler:!1},Ro={readContext:ss,useCallback:To,useContext:ss,useEffect:Ao,useImperativeHandle:xo,useLayoutEffect:Eo,useMemo:Io,useReducer:uo,useRef:yo,useState:function(){return uo(lo)},useDebugValue:So,useDeferredValue:function(e){var t=uo(lo),n=t[0],r=t[1];return Ao((function(){var t=qs.transition;qs.transition=1;try{r(e)}finally{qs.transition=t}}),[e]),n},useTransition:function(){var e=uo(lo)[0];return[yo().current,e]},useMutableSource:po,useOpaqueIdentifier:function(){return uo(lo)[0]},unstable_isNewReconciler:!1},Lo=_.ReactCurrentOwner,Fo=!1;function Do(e,t,n,r){t.child=null===e?Ss(t,null,n,r):xs(t,e.child,n,r)}function No(e,t,n,r,i){n=n.render;var s=t.ref;return is(t,i),r=so(e,t,n,r,s,i),null===e||Fo?(t.flags|=1,Do(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ra(e,t,i))}function jo(e,t,n,r,i,s){if(null===e){var o=n.type;return"function"!=typeof o||Vl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Zl(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Uo(e,t,o,r,i,s))}return o=e.child,0==(i&s)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?ra(e,t,s):(t.flags|=1,(e=Hl(o,r)).ref=t.ref,e.return=t,t.child=e)}function Uo(e,t,n,r,i,s){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Fo=!1,0==(s&i))return t.lanes=e.lanes,ra(e,t,s);0!=(16384&e.flags)&&(Fo=!0)}return Vo(e,t,n,r,s)}function Go(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},wl(0,n);else{if(0==(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},wl(0,e),null;t.memoizedState={baseLanes:0},wl(0,null!==s?s.baseLanes:n)}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,wl(0,r);return Do(e,t,i,n),t.child}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Vo(e,t,n,r,i){var s=mi(n)?pi:di.current;return s=gi(t,s),is(t,i),n=so(e,t,n,r,s,i),null===e||Fo?(t.flags|=1,Do(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ra(e,t,i))}function Ho(e,t,n,r,i){if(mi(n)){var s=!0;wi(t)}else s=!1;if(is(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ys(t,n,r),ws(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;c="object"==typeof c&&null!==c?ss(c):gi(t,c=mi(n)?pi:di.current);var u=n.getDerivedStateFromProps,h="function"==typeof u||"function"==typeof o.getSnapshotBeforeUpdate;h||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==r||l!==c)&&bs(t,o,r,c),os=!1;var d=t.memoizedState;o.state=d,ds(t,r,o,i),l=t.memoizedState,a!==r||d!==l||fi.current||os?("function"==typeof u&&(gs(t,n,u,r),l=t.memoizedState),(a=os||vs(t,n,a,r,d,l,c))?(h||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4)):("function"==typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"==typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ls(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:qi(t.type,a),o.props=c,h=t.pendingProps,d=o.context,l="object"==typeof(l=n.contextType)&&null!==l?ss(l):gi(t,l=mi(n)?pi:di.current);var f=n.getDerivedStateFromProps;(u="function"==typeof f||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==h||d!==l)&&bs(t,o,r,l),os=!1,d=t.memoizedState,o.state=d,ds(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||fi.current||os?("function"==typeof f&&(gs(t,n,f,r),p=t.memoizedState),(c=os||vs(t,n,c,r,d,p,l))?(u||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Zo(e,t,n,r,s,i)}function Zo(e,t,n,r,i,s){zo(e,t);var o=0!=(64&t.flags);if(!r&&!o)return i&&_i(t,n,!1),ra(e,t,s);r=t.stateNode,Lo.current=t;var a=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=xs(t,e.child,null,s),t.child=xs(t,null,a,s)):Do(e,t,a,s),t.memoizedState=r.state,i&&_i(t,n,!0),t.child}function Wo(e){var t=e.stateNode;t.pendingContext?yi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yi(0,t.context,!1),Bs(e,t.containerInfo)}var Jo,Ko,Xo,qo,Yo={dehydrated:null,retryLane:0};function Qo(e,t,n){var r,i=t.pendingProps,s=Fs.current,o=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&s)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(s|=1),ui(Fs,1&s),null===e?(void 0!==i.fallback&&Vs(t),e=i.children,s=i.fallback,o?(e=$o(t,e,s,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Yo,e):"number"==typeof i.unstable_expectedLoadTime?(e=$o(t,e,s,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Yo,t.lanes=33554432,e):((n=Jl({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=function(e,t,n,r,i){var s=t.mode,o=e.child;e=o.sibling;var a={mode:"hidden",children:n};return 0==(2&s)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=a,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hl(o,a),null!==e?r=Hl(e,r):(r=Wl(r,s,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,i.children,i.fallback,n),o=t.child,s=e.child.memoizedState,o.memoizedState=null===s?{baseLanes:n}:{baseLanes:s.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Yo,i):(n=function(e,t,n,r){var i=e.child;return e=i.sibling,n=Hl(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,i.children,n),t.memoizedState=null,n))}function $o(e,t,n,r){var i=e.mode,s=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==s?(s.childLanes=0,s.pendingProps=t):s=Jl(t,i,0,null),n=Wl(n,i,r,null),s.return=e,n.return=e,s.sibling=n,e.child=s,n}function ea(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),rs(e.return,t)}function ta(e,t,n,r,i,s){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=s)}function na(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Do(e,t,r.children,n),0!=(2&(r=Fs.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ea(e,n);else if(19===e.tag)ea(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ui(Fs,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ds(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ta(t,!1,i,n,s,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ds(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ta(t,!0,n,null,s,t.lastEffect);break;case"together":ta(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ra(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ja|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Hl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ia(e,t){if(!Us)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function sa(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(t.type)&&vi(),null;case 3:return ks(),ci(fi),ci(di),Ks(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Zs(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Ko(t),null;case 5:Ls(t);var s=Ms(Ps.current);if(n=t.type,null!==e&&null!=t.stateNode)Xo(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ms(Is.current),Zs(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Yr]=t,r[Qr]=a,n){case"dialog":Or("cancel",r),Or("close",r);break;case"iframe":case"object":case"embed":Or("load",r);break;case"video":case"audio":for(e=0;e<xr.length;e++)Or(xr[e],r);break;case"source":Or("error",r);break;case"img":case"image":case"link":Or("error",r),Or("load",r);break;case"details":Or("toggle",r);break;case"input":ee(r,a),Or("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Or("invalid",r);break;case"textarea":le(r,a),Or("invalid",r)}for(var c in Ee(n,a),e=null,a)a.hasOwnProperty(c)&&(s=a[c],"children"===c?"string"==typeof s?r.textContent!==s&&(e=["children",s]):"number"==typeof s&&r.textContent!==""+s&&(e=["children",""+s]):l.hasOwnProperty(c)&&null!=s&&"onScroll"===c&&Or("scroll",r));switch(n){case"input":q(r),re(r,a,!0);break;case"textarea":q(r),ue(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=jr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===s.nodeType?s:s.ownerDocument,e===he.html&&(e=de(n)),e===he.html?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Yr]=t,e[Qr]=r,Jo(e,t,!1,!1),t.stateNode=e,c=Ce(n,r),n){case"dialog":Or("cancel",e),Or("close",e),s=r;break;case"iframe":case"object":case"embed":Or("load",e),s=r;break;case"video":case"audio":for(s=0;s<xr.length;s++)Or(xr[s],e);s=r;break;case"source":Or("error",e),s=r;break;case"img":case"image":case"link":Or("error",e),Or("load",e),s=r;break;case"details":Or("toggle",e),s=r;break;case"input":ee(e,r),s=$(e,r),Or("invalid",e);break;case"option":s=se(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=i({},r,{value:void 0}),Or("invalid",e);break;case"textarea":le(e,r),s=ae(e,r),Or("invalid",e);break;default:s=r}Ee(n,s);var u=s;for(a in u)if(u.hasOwnProperty(a)){var h=u[a];"style"===a?_e(e,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&me(e,h):"children"===a?"string"==typeof h?("textarea"!==n||""!==h)&&ve(e,h):"number"==typeof h&&ve(e,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(l.hasOwnProperty(a)?null!=h&&"onScroll"===a&&Or("scroll",e):null!=h&&w(e,a,h,c))}switch(n){case"input":q(e),re(e,r,!1);break;case"textarea":q(e),ue(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?oe(e,!!r.multiple,a,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof s.onClick&&(e.onclick=jr)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)qo(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(o(166));n=Ms(Ps.current),Ms(Is.current),Zs(t)?(r=t.stateNode,n=t.memoizedProps,r[Yr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Yr]=t,t.stateNode=r)}return null;case 13:return ci(Fs),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Zs(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Fs.current)?0===Fa&&(Fa=3):(0!==Fa&&3!==Fa||(Fa=4),null===Ma||0==(134217727&ja)&&0==(134217727&Ua)||ml(Ma,ka))),(r||n)&&(t.flags|=4),null);case 4:return ks(),Ko(t),null===e&&Mr(t.stateNode.containerInfo),null;case 10:return ns(t),null;case 19:if(ci(Fs),null===(r=t.memoizedState))return null;if(a=0!=(64&t.flags),null===(c=r.rendering))if(a)ia(r,!1);else{if(0!==Fa||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ds(e))){for(t.flags|=64,ia(r,!1),null!==(a=c.updateQueue)&&(t.updateQueue=a,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(c=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ui(Fs,1&Fs.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Ha&&(t.flags|=64,a=!0,ia(r,!1),t.lanes=33554432)}else{if(!a)if(null!==(e=Ds(c))){if(t.flags|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ia(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Us)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Ha&&1073741824!==n&&(t.flags|=64,a=!0,ia(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=Fs.current,ui(Fs,a?1&t|2:1&t),n):null;case 23:case 24:return _l(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function oa(e){switch(e.tag){case 1:mi(e.type)&&vi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(ks(),ci(fi),ci(di),Ks(),0!=(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ls(e),null;case 13:return ci(Fs),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ci(Fs),null;case 4:return ks(),null;case 10:return ns(e),null;case 23:case 24:return _l(),null;default:return null}}function aa(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function la(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Jo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ko=function(){},Xo=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ms(Is.current);var o,a=null;switch(n){case"input":s=$(e,s),r=$(e,r),a=[];break;case"option":s=se(e,s),r=se(e,r),a=[];break;case"select":s=i({},s,{value:void 0}),r=i({},r,{value:void 0}),a=[];break;case"textarea":s=ae(e,s),r=ae(e,r),a=[];break;default:"function"!=typeof s.onClick&&"function"==typeof r.onClick&&(e.onclick=jr)}for(h in Ee(n,r),n=null,s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&null!=s[h])if("style"===h){var c=s[h];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(l.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in r){var u=r[h];if(c=null!=s?s[h]:void 0,r.hasOwnProperty(h)&&u!==c&&(null!=u||null!=c))if("style"===h)if(c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(h,n)),n=u;else"dangerouslySetInnerHTML"===h?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(a=a||[]).push(h,u)):"children"===h?"string"!=typeof u&&"number"!=typeof u||(a=a||[]).push(h,""+u):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(l.hasOwnProperty(h)?(null!=u&&"onScroll"===h&&Or("scroll",e),a||c===u||(a=[])):"object"==typeof u&&null!==u&&u.$$typeof===L?u.toString():(a=a||[]).push(h,u))}n&&(a=a||[]).push("style",n);var h=a;(t.updateQueue=h)&&(t.flags|=4)}},qo=function(e,t,n,r){n!==r&&(t.flags|=4)};var ca="function"==typeof WeakMap?WeakMap:Map;function ua(e,t,n){(n=cs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ka||(Ka=!0,Xa=r),la(0,t)},n}function ha(e,t,n){(n=cs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return la(0,t),r(i)}}var s=e.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===qa?qa=new Set([this]):qa.add(this),la(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var da="function"==typeof WeakSet?WeakSet:Set;function fa(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Nl(e,t)}else t.current=null}function pa(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:qi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Wr(t.stateNode.containerInfo))}throw Error(o(163))}function ga(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Ll(n,e),Rl(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:qi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&fs(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}fs(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))))}throw Error(o(163))}function ma(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function va(e,t){if(Ei&&"function"==typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(Ai,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Ll(t,n);else{r=t;try{i()}catch(e){Nl(r,e)}}n=n.next}while(n!==e)}break;case 1:if(fa(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Nl(t,e)}break;case 5:fa(t);break;case 4:Ea(e,t)}}function ya(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ba(e){return 5===e.tag||3===e.tag||4===e.tag}function wa(e){e:{for(var t=e.return;null!==t;){if(ba(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ve(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ba(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_a(e,n,t):Aa(e,n,t)}function _a(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=jr));else if(4!==r&&null!==(e=e.child))for(_a(e,t,n),e=e.sibling;null!==e;)_a(e,t,n),e=e.sibling}function Aa(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Aa(e,t,n),e=e.sibling;null!==e;)Aa(e,t,n),e=e.sibling}function Ea(e,t){for(var n,r,i=t,s=!1;;){if(!s){s=i.return;e:for(;;){if(null===s)throw Error(o(160));switch(n=s.stateNode,s.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}s=s.return}s=!0}if(5===i.tag||6===i.tag){e:for(var a=e,l=i,c=l;;)if(va(a,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break e;for(;null===c.sibling;){if(null===c.return||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(a=n,l=i.stateNode,8===a.nodeType?a.parentNode.removeChild(l):a.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(va(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(s=!1)}i.sibling.return=i.return,i=i.sibling}}function Ca(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var s=t.updateQueue;if(t.updateQueue=null,null!==s){for(n[Qr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ce(e,i),t=Ce(e,r),i=0;i<s.length;i+=2){var a=s[i],l=s[i+1];"style"===a?_e(n,l):"dangerouslySetInnerHTML"===a?me(n,l):"children"===a?ve(n,l):w(n,a,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(s=r.value)?oe(n,!!r.multiple,s,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 13:return null!==t.memoizedState&&(Va=zi(),ma(t.child,!0)),void xa(t);case 19:return void xa(t);case 23:case 24:return void ma(t,null!==t.memoizedState)}throw Error(o(163))}function xa(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new da),t.forEach((function(t){var r=Ul.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Sa(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var Ta=Math.ceil,Ia=_.ReactCurrentDispatcher,Oa=_.ReactCurrentOwner,Pa=0,Ma=null,Ba=null,ka=0,Ra=0,La=li(0),Fa=0,Da=null,Na=0,ja=0,Ua=0,Ga=0,za=null,Va=0,Ha=1/0;function Za(){Ha=zi()+500}var Wa,Ja=null,Ka=!1,Xa=null,qa=null,Ya=!1,Qa=null,$a=90,el=[],tl=[],nl=null,rl=0,il=null,sl=-1,ol=0,al=0,ll=null,cl=!1;function ul(){return 0!=(48&Pa)?zi():-1!==sl?sl:sl=zi()}function hl(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Vi()?1:2;if(0===ol&&(ol=Na),0!==Xi.transition){0!==al&&(al=null!==za?za.pendingLanes:0),e=ol;var t=4186112&~al;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=Vi(),e=jt(0!=(4&Pa)&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ol)}function dl(e,t,n){if(50<rl)throw rl=0,il=null,Error(o(185));if(null===(e=fl(e,t)))return null;zt(e,t,n),e===Ma&&(Ua|=t,4===Fa&&ml(e,ka));var r=Vi();1===t?0!=(8&Pa)&&0==(48&Pa)?vl(e):(pl(e,n),0===Pa&&(Za(),Ji())):(0==(4&Pa)||98!==r&&99!==r||(null===nl?nl=new Set([e]):nl.add(e)),pl(e,n)),za=e}function fl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function pl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-Vt(a),c=1<<l,u=s[l];if(-1===u){if(0==(c&r)||0!=(c&i)){u=t,Ft(c);var h=Lt;s[l]=10<=h?u+250:6<=h?u+5e3:-1}}else u<=t&&(e.expiredLanes|=c);a&=~c}if(r=Dt(e,e===Ma?ka:0),t=Lt,0===r)null!==n&&(n!==Fi&&Si(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fi&&Si(n)}15===t?(n=vl.bind(null,e),null===Ni?(Ni=[n],ji=xi(Mi,Ki)):Ni.push(n),n=Fi):14===t?n=Wi(99,vl.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Wi(n,gl.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gl(e){if(sl=-1,al=ol=0,0!=(48&Pa))throw Error(o(327));var t=e.callbackNode;if(kl()&&e.callbackNode!==t)return null;var n=Dt(e,e===Ma?ka:0);if(0===n)return null;var r=n,i=Pa;Pa|=16;var s=Cl();for(Ma===e&&ka===r||(Za(),Al(e,r));;)try{Tl();break}catch(t){El(e,t)}if(ts(),Ia.current=s,Pa=i,null!==Ba?r=0:(Ma=null,ka=0,r=Fa),0!=(Na&Ua))Al(e,0);else if(0!==r){if(2===r&&(Pa|=64,e.hydrate&&(e.hydrate=!1,Wr(e.containerInfo)),0!==(n=Nt(e))&&(r=xl(e,n))),1===r)throw t=Da,Al(e,0),ml(e,n),pl(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Pl(e);break;case 3:if(ml(e,n),(62914560&n)===n&&10<(r=Va+500-zi())){if(0!==Dt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){ul(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Pl.bind(null,e),r);break}Pl(e);break;case 4:if(ml(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-Vt(n);s=1<<a,(a=r[a])>i&&(i=a),n&=~s}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ta(n/1960))-n)){e.timeoutHandle=Hr(Pl.bind(null,e),n);break}Pl(e);break;default:throw Error(o(329))}}return pl(e,zi()),e.callbackNode===t?gl.bind(null,e):null}function ml(e,t){for(t&=~Ga,t&=~Ua,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vt(t),r=1<<n;e[n]=-1,t&=~r}}function vl(e){if(0!=(48&Pa))throw Error(o(327));if(kl(),e===Ma&&0!=(e.expiredLanes&ka)){var t=ka,n=xl(e,t);0!=(Na&Ua)&&(n=xl(e,t=Dt(e,t)))}else n=xl(e,t=Dt(e,0));if(0!==e.tag&&2===n&&(Pa|=64,e.hydrate&&(e.hydrate=!1,Wr(e.containerInfo)),0!==(t=Nt(e))&&(n=xl(e,t))),1===n)throw n=Da,Al(e,0),ml(e,t),pl(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pl(e),pl(e,zi()),null}function yl(e,t){var n=Pa;Pa|=1;try{return e(t)}finally{0===(Pa=n)&&(Za(),Ji())}}function bl(e,t){var n=Pa;Pa&=-2,Pa|=8;try{return e(t)}finally{0===(Pa=n)&&(Za(),Ji())}}function wl(e,t){ui(La,Ra),Ra|=t,Na|=t}function _l(){Ra=La.current,ci(La)}function Al(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Zr(n)),null!==Ba)for(n=Ba.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&vi();break;case 3:ks(),ci(fi),ci(di),Ks();break;case 5:Ls(r);break;case 4:ks();break;case 13:case 19:ci(Fs);break;case 10:ns(r);break;case 23:case 24:_l()}n=n.return}Ma=e,Ba=Hl(e.current,null),ka=Ra=Na=t,Fa=0,Da=null,Ga=Ua=ja=0}function El(e,t){for(;;){var n=Ba;try{if(ts(),Xs.current=Mo,to){for(var r=Qs.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}to=!1}if(Ys=0,eo=$s=Qs=null,no=!1,Oa.current=null,null===n||null===n.return){Fa=1,Da=t,Ba=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=ka,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l;if(0==(2&a.mode)){var u=a.alternate;u?(a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.lanes=u.lanes):(a.updateQueue=null,a.memoizedState=null)}var h=0!=(1&Fs.current),d=o;do{var f;if(f=13===d.tag){var p=d.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var g=d.memoizedProps;f=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!h)}}if(f){var m=d.updateQueue;if(null===m){var v=new Set;v.add(c),d.updateQueue=v}else m.add(c);if(0==(2&d.mode)){if(d.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var y=cs(-1,1);y.tag=2,us(a,y)}a.lanes|=1;break e}l=void 0,a=t;var b=s.pingCache;if(null===b?(b=s.pingCache=new ca,l=new Set,b.set(c,l)):void 0===(l=b.get(c))&&(l=new Set,b.set(c,l)),!l.has(a)){l.add(a);var w=jl.bind(null,s,c,a);c.then(w,w)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);l=Error((J(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fa&&(Fa=2),l=aa(l,a),d=o;do{switch(d.tag){case 3:s=l,d.flags|=4096,t&=-t,d.lanes|=t,hs(d,ua(0,s,t));break e;case 1:s=l;var _=d.type,A=d.stateNode;if(0==(64&d.flags)&&("function"==typeof _.getDerivedStateFromError||null!==A&&"function"==typeof A.componentDidCatch&&(null===qa||!qa.has(A)))){d.flags|=4096,t&=-t,d.lanes|=t,hs(d,ha(d,s,t));break e}}d=d.return}while(null!==d)}Ol(n)}catch(e){t=e,Ba===n&&null!==n&&(Ba=n=n.return);continue}break}}function Cl(){var e=Ia.current;return Ia.current=Mo,null===e?Mo:e}function xl(e,t){var n=Pa;Pa|=16;var r=Cl();for(Ma===e&&ka===t||Al(e,t);;)try{Sl();break}catch(t){El(e,t)}if(ts(),Pa=n,Ia.current=r,null!==Ba)throw Error(o(261));return Ma=null,ka=0,Fa}function Sl(){for(;null!==Ba;)Il(Ba)}function Tl(){for(;null!==Ba&&!Ti();)Il(Ba)}function Il(e){var t=Wa(e.alternate,e,Ra);e.memoizedProps=e.pendingProps,null===t?Ol(e):Ba=t,Oa.current=null}function Ol(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=sa(n,t,Ra)))return void(Ba=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Ra)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=oa(t)))return n.flags&=2047,void(Ba=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ba=t);Ba=t=e}while(null!==t);0===Fa&&(Fa=5)}function Pl(e){var t=Vi();return Zi(99,Ml.bind(null,e,t)),null}function Ml(e,t){do{kl()}while(null!==Qa);if(0!=(48&Pa))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,l=e.expirationTimes;0<s;){var c=31-Vt(s),u=1<<c;i[c]=0,a[c]=-1,l[c]=-1,s&=~u}if(null!==nl&&0==(24&r)&&nl.has(e)&&nl.delete(e),e===Ma&&(Ba=Ma=null,ka=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Pa,Pa|=32,Oa.current=null,Ur=Kt,mr(a=gr())){if("selectionStart"in a)l={start:a.selectionStart,end:a.selectionEnd};else e:if(l=(l=a.ownerDocument)&&l.defaultView||window,(u=l.getSelection&&l.getSelection())&&0!==u.rangeCount){l=u.anchorNode,s=u.anchorOffset,c=u.focusNode,u=u.focusOffset;try{l.nodeType,c.nodeType}catch(e){l=null;break e}var h=0,d=-1,f=-1,p=0,g=0,m=a,v=null;t:for(;;){for(var y;m!==l||0!==s&&3!==m.nodeType||(d=h+s),m!==c||0!==u&&3!==m.nodeType||(f=h+u),3===m.nodeType&&(h+=m.nodeValue.length),null!==(y=m.firstChild);)v=m,m=y;for(;;){if(m===a)break t;if(v===l&&++p===s&&(d=h),v===c&&++g===u&&(f=h),null!==(y=m.nextSibling))break;v=(m=v).parentNode}m=y}l=-1===d||-1===f?null:{start:d,end:f}}else l=null;l=l||{start:0,end:0}}else l=null;Gr={focusedElem:a,selectionRange:l},Kt=!1,ll=null,cl=!1,Ja=r;do{try{Bl()}catch(e){if(null===Ja)throw Error(o(330));Nl(Ja,e),Ja=Ja.nextEffect}}while(null!==Ja);ll=null,Ja=r;do{try{for(a=e;null!==Ja;){var b=Ja.flags;if(16&b&&ve(Ja.stateNode,""),128&b){var w=Ja.alternate;if(null!==w){var _=w.ref;null!==_&&("function"==typeof _?_(null):_.current=null)}}switch(1038&b){case 2:wa(Ja),Ja.flags&=-3;break;case 6:wa(Ja),Ja.flags&=-3,Ca(Ja.alternate,Ja);break;case 1024:Ja.flags&=-1025;break;case 1028:Ja.flags&=-1025,Ca(Ja.alternate,Ja);break;case 4:Ca(Ja.alternate,Ja);break;case 8:Ea(a,l=Ja);var A=l.alternate;ya(l),null!==A&&ya(A)}Ja=Ja.nextEffect}}catch(e){if(null===Ja)throw Error(o(330));Nl(Ja,e),Ja=Ja.nextEffect}}while(null!==Ja);if(_=Gr,w=gr(),b=_.focusedElem,a=_.selectionRange,w!==b&&b&&b.ownerDocument&&pr(b.ownerDocument.documentElement,b)){null!==a&&mr(b)&&(w=a.start,void 0===(_=a.end)&&(_=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(_,b.value.length)):(_=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(_=_.getSelection(),l=b.textContent.length,A=Math.min(a.start,l),a=void 0===a.end?A:Math.min(a.end,l),!_.extend&&A>a&&(l=a,a=A,A=l),l=fr(b,A),s=fr(b,a),l&&s&&(1!==_.rangeCount||_.anchorNode!==l.node||_.anchorOffset!==l.offset||_.focusNode!==s.node||_.focusOffset!==s.offset)&&((w=w.createRange()).setStart(l.node,l.offset),_.removeAllRanges(),A>a?(_.addRange(w),_.extend(s.node,s.offset)):(w.setEnd(s.node,s.offset),_.addRange(w))))),w=[];for(_=b;_=_.parentNode;)1===_.nodeType&&w.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)(_=w[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Kt=!!Ur,Gr=Ur=null,e.current=n,Ja=r;do{try{for(b=e;null!==Ja;){var E=Ja.flags;if(36&E&&ga(b,Ja.alternate,Ja),128&E){w=void 0;var C=Ja.ref;if(null!==C){var x=Ja.stateNode;Ja.tag,w=x,"function"==typeof C?C(w):C.current=w}}Ja=Ja.nextEffect}}catch(e){if(null===Ja)throw Error(o(330));Nl(Ja,e),Ja=Ja.nextEffect}}while(null!==Ja);Ja=null,Di(),Pa=i}else e.current=n;if(Ya)Ya=!1,Qa=e,$a=t;else for(Ja=r;null!==Ja;)t=Ja.nextEffect,Ja.nextEffect=null,8&Ja.flags&&((E=Ja).sibling=null,E.stateNode=null),Ja=t;if(0===(r=e.pendingLanes)&&(qa=null),1===r?e===il?rl++:(rl=0,il=e):rl=0,n=n.stateNode,Ei&&"function"==typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(Ai,n,void 0,64==(64&n.current.flags))}catch(e){}if(pl(e,zi()),Ka)throw Ka=!1,e=Xa,Xa=null,e;return 0!=(8&Pa)||Ji(),null}function Bl(){for(;null!==Ja;){var e=Ja.alternate;cl||null===ll||(0!=(8&Ja.flags)?$e(Ja,ll)&&(cl=!0):13===Ja.tag&&Sa(e,Ja)&&$e(Ja,ll)&&(cl=!0));var t=Ja.flags;0!=(256&t)&&pa(e,Ja),0==(512&t)||Ya||(Ya=!0,Wi(97,(function(){return kl(),null}))),Ja=Ja.nextEffect}}function kl(){if(90!==$a){var e=97<$a?97:$a;return $a=90,Zi(e,Fl)}return!1}function Rl(e,t){el.push(t,e),Ya||(Ya=!0,Wi(97,(function(){return kl(),null})))}function Ll(e,t){tl.push(t,e),Ya||(Ya=!0,Wi(97,(function(){return kl(),null})))}function Fl(){if(null===Qa)return!1;var e=Qa;if(Qa=null,0!=(48&Pa))throw Error(o(331));var t=Pa;Pa|=32;var n=tl;tl=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"==typeof a)try{a()}catch(e){if(null===s)throw Error(o(330));Nl(s,e)}}for(n=el,el=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var l=i.create;i.destroy=l()}catch(e){if(null===s)throw Error(o(330));Nl(s,e)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Pa=t,Ji(),!0}function Dl(e,t,n){us(e,t=ua(0,t=aa(n,t),1)),t=ul(),null!==(e=fl(e,1))&&(zt(e,1,t),pl(e,t))}function Nl(e,t){if(3===e.tag)Dl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Dl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===qa||!qa.has(r))){var i=ha(n,e=aa(t,e),1);if(us(n,i),i=ul(),null!==(n=fl(n,1)))zt(n,1,i),pl(n,i);else if("function"==typeof r.componentDidCatch&&(null===qa||!qa.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function jl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ul(),e.pingedLanes|=e.suspendedLanes&n,Ma===e&&(ka&n)===n&&(4===Fa||3===Fa&&(62914560&ka)===ka&&500>zi()-Va?Al(e,0):Ga|=n),pl(e,t)}function Ul(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Vi()?1:2:(0===ol&&(ol=Na),0===(t=Ut(62914560&~ol))&&(t=4194304))),n=ul(),null!==(e=fl(e,t))&&(zt(e,t,n),pl(e,n))}function Gl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function zl(e,t,n,r){return new Gl(e,t,n,r)}function Vl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hl(e,t){var n=e.alternate;return null===n?((n=zl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Zl(e,t,n,r,i,s){var a=2;if(r=e,"function"==typeof e)Vl(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case C:return Wl(n.children,i,s,t);case F:a=8,i|=16;break;case x:a=8,i|=1;break;case S:return(e=zl(12,n,t,8|i)).elementType=S,e.type=S,e.lanes=s,e;case P:return(e=zl(13,n,t,i)).type=P,e.elementType=P,e.lanes=s,e;case M:return(e=zl(19,n,t,i)).elementType=M,e.lanes=s,e;case D:return Jl(n,i,s,t);case N:return(e=zl(24,n,t,i)).elementType=N,e.lanes=s,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case T:a=10;break e;case I:a=9;break e;case O:a=11;break e;case B:a=14;break e;case k:a=16,r=null;break e;case R:a=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=zl(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Wl(e,t,n,r){return(e=zl(7,e,r,t)).lanes=n,e}function Jl(e,t,n,r){return(e=zl(23,e,r,t)).elementType=D,e.lanes=n,e}function Kl(e,t,n){return(e=zl(6,e,null,t)).lanes=n,e}function Xl(e,t,n){return(t=zl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ql(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Gt(0),this.expirationTimes=Gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gt(0),this.mutableSourceEagerHydrationData=null}function Yl(e,t,n,r){var i=t.current,s=ul(),a=hl(i);e:if(n){t:{if(Xe(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(mi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(o(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=bi(n,c,l);break e}}n=l}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=cs(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),us(i,t),dl(i,a,s),a}function Ql(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function $l(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ec(e,t){$l(e,t),(e=e.alternate)&&$l(e,t)}function tc(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new ql(e,t,null!=n&&!0===n.hydrate),t=zl(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,as(t),e[$r]=n.current,Mr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function nc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function rc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s._internalRoot;if("function"==typeof i){var a=i;i=function(){var e=Ql(o);a.call(e)}}Yl(t,o,e,i)}else{if(s=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tc(e,0,t?{hydrate:!0}:void 0)}(n,r),o=s._internalRoot,"function"==typeof i){var l=i;i=function(){var e=Ql(o);l.call(e)}}bl((function(){Yl(t,o,e,i)}))}return Ql(o)}function ic(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Wa=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||fi.current)Fo=!0;else{if(0==(n&r)){switch(Fo=!1,t.tag){case 3:Wo(t),Ws();break;case 5:Rs(t);break;case 1:mi(t.type)&&wi(t);break;case 4:Bs(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ui(Yi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Qo(e,t,n):(ui(Fs,1&Fs.current),null!==(t=ra(e,t,n))?t.sibling:null);ui(Fs,1&Fs.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return na(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ui(Fs,Fs.current),r)break;return null;case 23:case 24:return t.lanes=0,Go(e,t,n)}return ra(e,t,n)}Fo=0!=(16384&e.flags)}else Fo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=gi(t,di.current),is(t,n),i=so(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var s=!0;wi(t)}else s=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,as(t);var a=r.getDerivedStateFromProps;"function"==typeof a&&gs(t,r,a,e),i.updater=ms,t.stateNode=i,i._reactInternals=t,ws(t,r,e,n),t=Zo(null,t,r,!0,s,n)}else t.tag=0,Do(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(s=i._init)(i._payload),t.type=i,s=t.tag=function(e){if("function"==typeof e)return Vl(e)?1:0;if(null!=e){if((e=e.$$typeof)===O)return 11;if(e===B)return 14}return 2}(i),e=qi(i,e),s){case 0:t=Vo(null,t,i,e,n);break e;case 1:t=Ho(null,t,i,e,n);break e;case 11:t=No(null,t,i,e,n);break e;case 14:t=jo(null,t,i,qi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Vo(e,t,r,i=t.elementType===r?i:qi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:qi(r,i),n);case 3:if(Wo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ls(e,t),ds(t,r,null,n),(r=t.memoizedState.element)===i)Ws(),t=ra(e,t,n);else{if((s=(i=t.stateNode).hydrate)&&(js=Jr(t.stateNode.containerInfo.firstChild),Ns=t,s=Us=!0),s){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(s=e[i])._workInProgressVersionPrimary=e[i+1],Js.push(s);for(n=Ss(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Do(e,t,r,n),Ws();t=t.child}return t;case 5:return Rs(t),null===e&&Vs(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,Vr(r,i)?a=null:null!==s&&Vr(r,s)&&(t.flags|=16),zo(e,t),Do(e,t,a,n),t.child;case 6:return null===e&&Vs(t),null;case 13:return Qo(e,t,n);case 4:return Bs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xs(t,null,r,n):Do(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,No(e,t,r,i=t.elementType===r?i:qi(r,i),n);case 7:return Do(e,t,t.pendingProps,n),t.child;case 8:case 12:return Do(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value;var l=t.type._context;if(ui(Yi,l._currentValue),l._currentValue=s,null!==a)if(l=a.value,0==(s=cr(l,s)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,s):1073741823))){if(a.children===i.children&&!fi.current){t=ra(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){a=l.child;for(var u=c.firstContext;null!==u;){if(u.context===r&&0!=(u.observedBits&s)){1===l.tag&&((u=cs(-1,n&-n)).tag=2,us(l,u)),l.lanes|=n,null!==(u=l.alternate)&&(u.lanes|=n),rs(l.return,n),c.lanes|=n;break}u=u.next}}else a=10===l.tag&&l.type===t.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===t){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}Do(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(s=t.pendingProps).children,is(t,n),r=r(i=ss(i,s.unstable_observedBits)),t.flags|=1,Do(e,t,r,n),t.child;case 14:return s=qi(i=t.type,t.pendingProps),jo(e,t,i,s=qi(i.type,s),r,n);case 15:return Uo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,wi(t)):e=!1,is(t,n),ys(t,r,i),ws(t,r,i,n),Zo(null,t,r,!0,e,n);case 19:return na(e,t,n);case 23:case 24:return Go(e,t,n)}throw Error(o(156,t.tag))},tc.prototype.render=function(e){Yl(e,this._internalRoot,null,null)},tc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Yl(null,e,null,(function(){t[$r]=null}))},et=function(e){13===e.tag&&(dl(e,4,ul()),ec(e,4))},tt=function(e){13===e.tag&&(dl(e,67108864,ul()),ec(e,67108864))},nt=function(e){if(13===e.tag){var t=ul(),n=hl(e);dl(e,n,t),ec(e,n)}},rt=function(e,t){return t()},Se=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ii(r);if(!i)throw Error(o(90));Y(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Be=yl,ke=function(e,t,n,r,i){var s=Pa;Pa|=4;try{return Zi(98,e.bind(null,t,n,r,i))}finally{0===(Pa=s)&&(Za(),Ji())}},Re=function(){0==(49&Pa)&&(function(){if(null!==nl){var e=nl;nl=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,pl(e,zi())}))}Ji()}(),kl())},Le=function(e,t){var n=Pa;Pa|=2;try{return e(t)}finally{0===(Pa=n)&&(Za(),Ji())}};var sc={Events:[ni,ri,ii,Pe,Me,kl,{current:!1}]},oc={findFiberByHostInstance:ti,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},ac={bundleType:oc.bundleType,version:oc.version,rendererPackageName:oc.rendererPackageName,rendererConfig:oc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Qe(e))?null:e.stateNode},findFiberByHostInstance:oc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{Ai=lc.inject(ac),Ei=lc}catch(ge){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=ic,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return null===(e=Qe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Pa;if(0!=(48&n))return e(t);Pa|=1;try{if(e)return Zi(99,e.bind(null,t))}finally{Pa=n,Ji()}},t.hydrate=function(e,t,n){if(!nc(t))throw Error(o(200));return rc(null,e,t,!0,n)},t.render=function(e,t,n){if(!nc(t))throw Error(o(200));return rc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nc(e))throw Error(o(40));return!!e._reactRootContainer&&(bl((function(){rc(null,null,e,!1,(function(){e._reactRootContainer=null,e[$r]=null}))})),!0)},t.unstable_batchedUpdates=yl,t.unstable_createPortal=function(e,t){return ic(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return rc(e,t,n,!1,r)},t.version="17.0.2"},3935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(4448)},7762:(e,t,n)=>{"use strict";e.exports=n(8698)},9921:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case h:case s:case a:case o:case f:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case g:case l:return e;default:return t}}case i:return t}}}function A(e){return _(e)===h}t.AsyncMode=u,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=d,t.Fragment=s,t.Lazy=m,t.Memo=g,t.Portal=i,t.Profiler=a,t.StrictMode=o,t.Suspense=f,t.isAsyncMode=function(e){return A(e)||_(e)===u},t.isConcurrentMode=A,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===d},t.isFragment=function(e){return _(e)===s},t.isLazy=function(e){return _(e)===m},t.isMemo=function(e){return _(e)===g},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===a},t.isStrictMode=function(e){return _(e)===o},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===s||e===h||e===a||e===o||e===f||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===l||e.$$typeof===c||e.$$typeof===d||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=_},9864:(e,t,n)=>{"use strict";e.exports=n(9921)},5998:(e,t,n)=>{"use strict";n.d(t,{zt:()=>A,I0:()=>S,v9:()=>y});var r=n(1688),i=n(2798),s=n(3935);let o=function(e){e()};const a=()=>o;var l=n(7294);const c=Symbol.for("react-redux-context"),u="undefined"!=typeof globalThis?globalThis:{};function h(){var e;if(!l.createContext)return{};const t=null!=(e=u[c])?e:u[c]=new Map;let n=t.get(l.createContext);return n||(n=l.createContext(null),t.set(l.createContext,n)),n}const d=h();function f(e=d){return function(){return(0,l.useContext)(e)}}const p=f();let g=()=>{throw new Error("uSES not initialized!")};const m=(e,t)=>e===t;function v(e=d){const t=e===d?p:f(e);return function(e,n={}){const{equalityFn:r=m,stabilityCheck:i,noopCheck:s}="function"==typeof n?{equalityFn:n}:n,{store:o,subscription:a,getServerState:c,stabilityCheck:u,noopCheck:h}=t(),d=((0,l.useRef)(!0),(0,l.useCallback)({[e.name]:t=>e(t)}[e.name],[e,u,i])),f=g(a.addNestedSub,o.getState,c||o.getState,d,r);return(0,l.useDebugValue)(f),f}}const y=v();n(8679),n(2973);const b={notify(){},get:()=>[]};const w="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?l.useLayoutEffect:l.useEffect;let _=null;const A=function({store:e,context:t,children:n,serverState:r,stabilityCheck:i="once",noopCheck:s="once"}){const o=l.useMemo((()=>{const t=function(e,t){let n,r=b,i=0,s=!1;function o(){u.onStateChange&&u.onStateChange()}function l(){i++,n||(n=t?t.addNestedSub(o):e.subscribe(o),r=function(){const e=a();let t=null,n=null;return{clear(){t=null,n=null},notify(){e((()=>{let e=t;for(;e;)e.callback(),e=e.next}))},get(){let e=[],n=t;for(;n;)e.push(n),n=n.next;return e},subscribe(e){let r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}function c(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=b)}const u={addNestedSub:function(e){l();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),c())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return s},trySubscribe:function(){s||(s=!0,l())},tryUnsubscribe:function(){s&&(s=!1,c())},getListeners:()=>r};return u}(e);return{store:e,subscription:t,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:s}}),[e,r,i,s]),c=l.useMemo((()=>e.getState()),[e]);w((()=>{const{subscription:t}=o;return t.onStateChange=t.notifyNestedSubs,t.trySubscribe(),c!==e.getState()&&t.notifyNestedSubs(),()=>{t.tryUnsubscribe(),t.onStateChange=void 0}}),[o,c]);const u=t||d;return l.createElement(u.Provider,{value:o},n)};function E(e=d){const t=e===d?p:f(e);return function(){const{store:e}=t();return e}}const C=E();function x(e=d){const t=e===d?C:E(e);return function(){return t().dispatch}}const S=x();var T,I;T=i.useSyncExternalStoreWithSelector,g=T,(e=>{_=e})(r.useSyncExternalStore),I=s.unstable_batchedUpdates,o=I},8359:(e,t)=>{"use strict";Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.offscreen");Symbol.for("react.module.reference")},2973:(e,t,n)=>{"use strict";n(8359)},5251:(e,t,n)=>{"use strict";n(7418);var r=n(7294),i=60103;if("function"==typeof Symbol&&Symbol.for){var s=Symbol.for;i=s("react.element"),s("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.jsx=c,t.jsxs=c},2408:(e,t,n)=>{"use strict";var r=n(7418),i=60103,s=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,a=60110,l=60112;t.Suspense=60113;var c=60115,u=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),s=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),o=h("react.provider"),a=h("react.context"),l=h("react.forward_ref"),t.Suspense=h("react.suspense"),c=h("react.memo"),u=h("react.lazy")}var d="function"==typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=m.prototype;var b=y.prototype=new v;b.constructor=y,r(b,m.prototype),b.isPureReactComponent=!0;var w={current:null},_=Object.prototype.hasOwnProperty,A={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,s={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,r)&&!A.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(1===l)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===s[r]&&(s[r]=l[r]);return{$$typeof:i,type:e,key:o,ref:a,props:s,_owner:w.current}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var x=/\/+/g;function S(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case s:l=!0}}if(l)return o=o(l=e),e=""===r?"."+S(l,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(x,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(x,"$&/")+"/")+e)),t.push(o)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var u=r+S(a=e[c],c);l+=T(a,t,n,u,o)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=T(a=a.value,t,n,u=r+S(a,c++),o);else if("object"===a)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function I(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var P={current:null};function M(){var e=P.current;if(null===e)throw Error(f(321));return e}var B={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error(f(143));return e}},t.Component=m,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,t.cloneElement=function(e,t,n){if(null==e)throw Error(f(267,e));var s=r({},e.props),o=e.key,a=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,l=w.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)_.call(t,u)&&!A.hasOwnProperty(u)&&(s[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)s.children=n;else if(1<u){c=Array(u);for(var h=0;h<u;h++)c[h]=arguments[h+2];s.children=c}return{$$typeof:i,type:e.type,key:o,ref:a,props:s,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:a,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return M().useCallback(e,t)},t.useContext=function(e,t){return M().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return M().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return M().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return M().useLayoutEffect(e,t)},t.useMemo=function(e,t){return M().useMemo(e,t)},t.useReducer=function(e,t,n){return M().useReducer(e,t,n)},t.useRef=function(e){return M().useRef(e)},t.useState=function(e){return M().useState(e)},t.version="17.0.2"},7294:(e,t,n)=>{"use strict";e.exports=n(2408)},5893:(e,t,n)=>{"use strict";e.exports=n(5251)},7779:(e,t,n)=>{"use strict";n.d(t,{md:()=>f,UY:()=>h,qC:()=>d,MT:()=>u});var r=n(4572);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var a="function"==typeof Symbol&&Symbol.observable||"@@observable",l=function(){return Math.random().toString(36).substring(7).split("").join(".")},c={INIT:"@@redux/INIT"+l(),REPLACE:"@@redux/REPLACE"+l(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+l()}};function u(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(o(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(o(1));return n(u)(e,t)}if("function"!=typeof e)throw new Error(o(2));var i=e,s=t,l=[],h=l,d=!1;function f(){h===l&&(h=l.slice())}function p(){if(d)throw new Error(o(3));return s}function g(e){if("function"!=typeof e)throw new Error(o(4));if(d)throw new Error(o(5));var t=!0;return f(),h.push(e),function(){if(t){if(d)throw new Error(o(6));t=!1,f();var n=h.indexOf(e);h.splice(n,1),l=null}}}function m(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw new Error(o(7));if(void 0===e.type)throw new Error(o(8));if(d)throw new Error(o(9));try{d=!0,s=i(s,e)}finally{d=!1}for(var t=l=h,n=0;n<t.length;n++)(0,t[n])();return e}return m({type:c.INIT}),(r={dispatch:m,subscribe:g,getState:p,replaceReducer:function(e){if("function"!=typeof e)throw new Error(o(10));i=e,m({type:c.REPLACE})}})[a]=function(){var e,t=g;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(o(11));function n(){e.next&&e.next(p())}return n(),{unsubscribe:t(n)}}})[a]=function(){return this},e},r}function h(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];"function"==typeof e[i]&&(n[i]=e[i])}var s,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:c.INIT}))throw new Error(o(12));if(void 0===n(void 0,{type:c.PROBE_UNKNOWN_ACTION()}))throw new Error(o(13))}))}(n)}catch(e){s=e}return function(e,t){if(void 0===e&&(e={}),s)throw s;for(var r=!1,i={},l=0;l<a.length;l++){var c=a[l],u=n[c],h=e[c],d=u(h,t);if(void 0===d)throw t&&t.type,new Error(o(14));i[c]=d,r=r||d!==h}return(r=r||a.length!==Object.keys(e).length)?i:e}}function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(o(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=d.apply(void 0,a)(n.dispatch),s(s({},n),{},{dispatch:r})}}}},53:(e,t)=>{"use strict";var n,r,i,s;if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,u=null,h=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(e){throw setTimeout(h,0),e}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(h,0))},r=function(e,t){u=setTimeout(e,t)},i=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,m=null,v=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,_=w.port2;w.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();b=e+y;try{m(!0,e)?_.postMessage(null):(g=!1,m=null)}catch(e){throw _.postMessage(null),e}}else g=!1},n=function(e){m=e,g||(g=!0,_.postMessage(null))},r=function(e,n){v=d((function(){e(t.unstable_now())}),n)},i=function(){f(v),v=-1}}function A(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<x(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function C(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var s=2*(r+1)-1,o=e[s],a=s+1,l=e[a];if(void 0!==o&&0>x(o,n))void 0!==l&&0>x(l,o)?(e[r]=l,e[a]=n,r=a):(e[r]=o,e[s]=n,r=s);else{if(!(void 0!==l&&0>x(l,n)))break e;e[r]=l,e[a]=n,r=a}}}return t}return null}function x(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],T=[],I=1,O=null,P=3,M=!1,B=!1,k=!1;function R(e){for(var t=E(T);null!==t;){if(null===t.callback)C(T);else{if(!(t.startTime<=e))break;C(T),t.sortIndex=t.expirationTime,A(S,t)}t=E(T)}}function L(e){if(k=!1,R(e),!B)if(null!==E(S))B=!0,n(F);else{var t=E(T);null!==t&&r(L,t.startTime-e)}}function F(e,n){B=!1,k&&(k=!1,i()),M=!0;var s=P;try{for(R(n),O=E(S);null!==O&&(!(O.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=O.callback;if("function"==typeof o){O.callback=null,P=O.priorityLevel;var a=o(O.expirationTime<=n);n=t.unstable_now(),"function"==typeof a?O.callback=a:O===E(S)&&C(S),R(n)}else C(S);O=E(S)}if(null!==O)var l=!0;else{var c=E(T);null!==c&&r(L,c.startTime-n),l=!1}return l}finally{O=null,P=s,M=!1}}var D=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){B||M||(B=!0,n(F))},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_getFirstCallbackNode=function(){return E(S)},t.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var n=P;P=t;try{return e()}finally{P=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=D,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=P;P=e;try{return t()}finally{P=n}},t.unstable_scheduleCallback=function(e,s,o){var a=t.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:I++,callback:s,priorityLevel:e,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>a?(e.sortIndex=o,A(T,e),null===E(S)&&e===E(T)&&(k?i():k=!0,r(L,o-a))):(e.sortIndex=l,A(S,e),B||M||(B=!0,n(F))),e},t.unstable_wrapCallback=function(e){var t=P;return function(){var n=P;P=t;try{return e.apply(this,arguments)}finally{P=n}}}},3840:(e,t,n)=>{"use strict";e.exports=n(53)},8406:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0;var s=function(e){function t(){return e.call(this,1)||this}return i(t,e),t}(n(7737).default);t.Lock=s},7737:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,a)}l((r=r.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,r,i,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return{next:o(0),throw:o(1),return:o(2)};function o(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};t.__esModule=!0;var i=function(){function e(e){this.promiseResolverQueue=[],this.permits=e}return e.prototype.getPermits=function(){return this.permits},e.prototype.wait=function(){return n(this,void 0,void 0,(function(){var e=this;return r(this,(function(t){return this.permits>0?(this.permits-=1,[2,Promise.resolve(!0)]):[2,new Promise((function(t){return e.promiseResolverQueue.push(t)}))]}))}))},e.prototype.acquire=function(){return n(this,void 0,void 0,(function(){return r(this,(function(e){return[2,this.wait()]}))}))},e.prototype.waitFor=function(e){return n(this,void 0,void 0,(function(){var t,n,i=this;return r(this,(function(r){return this.permits>0?(this.permits-=1,[2,Promise.resolve(!0)]):(t=function(e){},n=new Promise((function(e){t=e})),this.promiseResolverQueue.push(t),setTimeout((function(){var e=i.promiseResolverQueue.indexOf(t);-1!==e&&i.promiseResolverQueue.splice(e,1),t(!1)}),e),[2,n])}))}))},e.prototype.tryAcquire=function(){return this.permits>0&&(this.permits-=1,!0)},e.prototype.drainPermits=function(){if(this.permits>0){var e=this.permits;return this.permits=0,e}return 0},e.prototype.signal=function(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)throw new Error("this.permits should never be > 0 when there is someone waiting.");if(1===this.permits&&this.promiseResolverQueue.length>0){this.permits-=1;var e=this.promiseResolverQueue.shift();e&&e(!0)}},e.prototype.release=function(){this.signal()},e.prototype.execute=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,this.wait()];case 1:t.sent(),t.label=2;case 2:return t.trys.push([2,,4,5]),[4,e()];case 3:return[2,t.sent()];case 4:return this.signal(),[7];case 5:return[2]}}))}))},e}();t.default=i},8043:(e,t,n)=>{"use strict";t.__esModule=!0;var r=n(7737);t.default=r.default,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(8406))},2257:(e,t,n)=>{const r=Symbol("SemVer ANY");class i{static get ANY(){return r}constructor(e,t){if(t=s(t),e instanceof i){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),c("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(e){const t=this.options.loose?o[a.COMPARATORLOOSE]:o[a.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new u(n[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(c("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return l(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof i))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new h(e.value,t).test(this.value):""===e.operator?""===e.value||new h(this.value,t).test(e.semver):!((t=s(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!e.operator.startsWith("<"))&&(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))&&!(l(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))&&!(l(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}e.exports=i;const s=n(2893),{safeRe:o,t:a}=n(5765),l=n(7539),c=n(4225),u=n(6376),h=n(6902)},6902:(e,t,n)=>{class r{constructor(e,t){if(t=s(t),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof o)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!m(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&v(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&p)|(this.options.loose&&g))+":"+e,n=i.get(t);if(n)return n;const r=this.options.loose,s=r?c[u.HYPHENRANGELOOSE]:c[u.HYPHENRANGE];e=e.replace(s,O(this.options.includePrerelease)),a("hyphen replace",e),e=e.replace(c[u.COMPARATORTRIM],h),a("comparator trim",e),e=e.replace(c[u.TILDETRIM],d),a("tilde trim",e),e=e.replace(c[u.CARETTRIM],f),a("caret trim",e);let l=e.split(" ").map((e=>b(e,this.options))).join(" ").split(/\s+/).map((e=>I(e,this.options)));r&&(l=l.filter((e=>(a("loose invalid filter",e,this.options),!!e.match(c[u.COMPARATORLOOSE]))))),a("range list",l);const v=new Map,y=l.map((e=>new o(e,this.options)));for(const e of y){if(m(e))return[e];v.set(e.value,e)}v.size>1&&v.has("")&&v.delete("");const w=[...v.values()];return i.set(t,w),w}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some((n=>y(n,t)&&e.set.some((e=>y(e,t)&&n.every((n=>e.every((e=>n.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(P(this.set[t],e,this.options))return!0;return!1}}e.exports=r;const i=new(n(6062))({max:1e3}),s=n(2893),o=n(2257),a=n(4225),l=n(6376),{safeRe:c,t:u,comparatorTrimReplace:h,tildeTrimReplace:d,caretTrimReplace:f}=n(5765),{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:g}=n(3295),m=e=>"<0.0.0-0"===e.value,v=e=>""===e.value,y=(e,t)=>{let n=!0;const r=e.slice();let i=r.pop();for(;n&&r.length;)n=r.every((e=>i.intersects(e,t))),i=r.pop();return n},b=(e,t)=>(a("comp",e,t),e=E(e,t),a("caret",e),e=_(e,t),a("tildes",e),e=x(e,t),a("xrange",e),e=T(e,t),a("stars",e),e),w=e=>!e||"x"===e.toLowerCase()||"*"===e,_=(e,t)=>e.trim().split(/\s+/).map((e=>A(e,t))).join(" "),A=(e,t)=>{const n=t.loose?c[u.TILDELOOSE]:c[u.TILDE];return e.replace(n,((t,n,r,i,s)=>{let o;return a("tilde",e,t,n,r,i,s),w(n)?o="":w(r)?o=`>=${n}.0.0 <${+n+1}.0.0-0`:w(i)?o=`>=${n}.${r}.0 <${n}.${+r+1}.0-0`:s?(a("replaceTilde pr",s),o=`>=${n}.${r}.${i}-${s} <${n}.${+r+1}.0-0`):o=`>=${n}.${r}.${i} <${n}.${+r+1}.0-0`,a("tilde return",o),o}))},E=(e,t)=>e.trim().split(/\s+/).map((e=>C(e,t))).join(" "),C=(e,t)=>{a("caret",e,t);const n=t.loose?c[u.CARETLOOSE]:c[u.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,((t,n,i,s,o)=>{let l;return a("caret",e,t,n,i,s,o),w(n)?l="":w(i)?l=`>=${n}.0.0${r} <${+n+1}.0.0-0`:w(s)?l="0"===n?`>=${n}.${i}.0${r} <${n}.${+i+1}.0-0`:`>=${n}.${i}.0${r} <${+n+1}.0.0-0`:o?(a("replaceCaret pr",o),l="0"===n?"0"===i?`>=${n}.${i}.${s}-${o} <${n}.${i}.${+s+1}-0`:`>=${n}.${i}.${s}-${o} <${n}.${+i+1}.0-0`:`>=${n}.${i}.${s}-${o} <${+n+1}.0.0-0`):(a("no pr"),l="0"===n?"0"===i?`>=${n}.${i}.${s}${r} <${n}.${i}.${+s+1}-0`:`>=${n}.${i}.${s}${r} <${n}.${+i+1}.0-0`:`>=${n}.${i}.${s} <${+n+1}.0.0-0`),a("caret return",l),l}))},x=(e,t)=>(a("replaceXRanges",e,t),e.split(/\s+/).map((e=>S(e,t))).join(" ")),S=(e,t)=>{e=e.trim();const n=t.loose?c[u.XRANGELOOSE]:c[u.XRANGE];return e.replace(n,((n,r,i,s,o,l)=>{a("xRange",e,n,r,i,s,o,l);const c=w(i),u=c||w(s),h=u||w(o),d=h;return"="===r&&d&&(r=""),l=t.includePrerelease?"-0":"",c?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&d?(u&&(s=0),o=0,">"===r?(r=">=",u?(i=+i+1,s=0,o=0):(s=+s+1,o=0)):"<="===r&&(r="<",u?i=+i+1:s=+s+1),"<"===r&&(l="-0"),n=`${r+i}.${s}.${o}${l}`):u?n=`>=${i}.0.0${l} <${+i+1}.0.0-0`:h&&(n=`>=${i}.${s}.0${l} <${i}.${+s+1}.0-0`),a("xRange return",n),n}))},T=(e,t)=>(a("replaceStars",e,t),e.trim().replace(c[u.STAR],"")),I=(e,t)=>(a("replaceGTE0",e,t),e.trim().replace(c[t.includePrerelease?u.GTE0PRE:u.GTE0],"")),O=e=>(t,n,r,i,s,o,a,l,c,u,h,d,f)=>`${n=w(r)?"":w(i)?`>=${r}.0.0${e?"-0":""}`:w(s)?`>=${r}.${i}.0${e?"-0":""}`:o?`>=${n}`:`>=${n}${e?"-0":""}`} ${l=w(c)?"":w(u)?`<${+c+1}.0.0-0`:w(h)?`<${c}.${+u+1}.0-0`:d?`<=${c}.${u}.${h}-${d}`:e?`<${c}.${u}.${+h+1}-0`:`<=${l}`}`.trim(),P=(e,t,n)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(a(e[n].semver),e[n].semver!==o.ANY&&e[n].semver.prerelease.length>0){const r=e[n].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0}},6376:(e,t,n)=>{const r=n(4225),{MAX_LENGTH:i,MAX_SAFE_INTEGER:s}=n(3295),{safeRe:o,t:a}=n(5765),l=n(2893),{compareIdentifiers:c}=n(6742);class u{constructor(e,t){if(t=l(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>i)throw new TypeError(`version is longer than ${i} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?o[a.LOOSE]:o[a.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<s)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],i=e.prerelease[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return c(n,i)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const n=this.build[t],i=e.build[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return c(n,i)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(n)?1:0;if(!t&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let r=this.prerelease.length;for(;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(t===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let r=[t,e];!1===n&&(r=[t]),0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},3507:(e,t,n)=>{const r=n(3959);e.exports=(e,t)=>{const n=r(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}},7539:(e,t,n)=>{const r=n(8718),i=n(1194),s=n(1312),o=n(5903),a=n(1544),l=n(2056);e.exports=(e,t,n,c)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return r(e,n,c);case"!=":return i(e,n,c);case">":return s(e,n,c);case">=":return o(e,n,c);case"<":return a(e,n,c);case"<=":return l(e,n,c);default:throw new TypeError(`Invalid operator: ${t}`)}}},9038:(e,t,n)=>{const r=n(6376),i=n(3959),{safeRe:s,t:o}=n(5765);e.exports=(e,t)=>{if(e instanceof r)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let n=null;if((t=t||{}).rtl){let t;for(;(t=s[o.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&t.index+t[0].length===n.index+n[0].length||(n=t),s[o.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;s[o.COERCERTL].lastIndex=-1}else n=e.match(s[o.COERCE]);return null===n?null:i(`${n[2]}.${n[3]||"0"}.${n[4]||"0"}`,t)}},8880:(e,t,n)=>{const r=n(6376);e.exports=(e,t,n)=>{const i=new r(e,n),s=new r(t,n);return i.compare(s)||i.compareBuild(s)}},7880:(e,t,n)=>{const r=n(6269);e.exports=(e,t)=>r(e,t,!0)},6269:(e,t,n)=>{const r=n(6376);e.exports=(e,t,n)=>new r(e,n).compare(new r(t,n))},2378:(e,t,n)=>{const r=n(3959);e.exports=(e,t)=>{const n=r(e,null,!0),i=r(t,null,!0),s=n.compare(i);if(0===s)return null;const o=s>0,a=o?n:i,l=o?i:n,c=!!a.prerelease.length;if(l.prerelease.length&&!c)return l.patch||l.minor?a.patch?"patch":a.minor?"minor":"major":"major";const u=c?"pre":"";return n.major!==i.major?u+"major":n.minor!==i.minor?u+"minor":n.patch!==i.patch?u+"patch":"prerelease"}},8718:(e,t,n)=>{const r=n(6269);e.exports=(e,t,n)=>0===r(e,t,n)},1312:(e,t,n)=>{const r=n(6269);e.exports=(e,t,n)=>r(e,t,n)>0},5903:(e,t,n)=>{const r=n(6269);e.exports=(e,t,n)=>r(e,t,n)>=0},253:(e,t,n)=>{const r=n(6376);e.exports=(e,t,n,i,s)=>{"string"==typeof n&&(s=i,i=n,n=void 0);try{return new r(e instanceof r?e.version:e,n).inc(t,i,s).version}catch(e){return null}}},1544:(e,t,n)=>{const r=n(6269);e.exports=(e,t,n)=>r(e,t,n)<0},2056:(e,t,n)=>{const r=n(6269);e.exports=(e,t,n)=>r(e,t,n)<=0},6378:(e,t,n)=>{const r=n(6376);e.exports=(e,t)=>new r(e,t).major},7789:(e,t,n)=>{const r=n(6376);e.exports=(e,t)=>new r(e,t).minor},1194:(e,t,n)=>{const r=n(6269);e.exports=(e,t,n)=>0!==r(e,t,n)},3959:(e,t,n)=>{const r=n(6376);e.exports=(e,t,n=!1)=>{if(e instanceof r)return e;try{return new r(e,t)}catch(e){if(!n)return null;throw e}}},2358:(e,t,n)=>{const r=n(6376);e.exports=(e,t)=>new r(e,t).patch},7559:(e,t,n)=>{const r=n(3959);e.exports=(e,t)=>{const n=r(e,t);return n&&n.prerelease.length?n.prerelease:null}},9795:(e,t,n)=>{const r=n(6269);e.exports=(e,t,n)=>r(t,e,n)},3657:(e,t,n)=>{const r=n(8880);e.exports=(e,t)=>e.sort(((e,n)=>r(n,e,t)))},5712:(e,t,n)=>{const r=n(6902);e.exports=(e,t,n)=>{try{t=new r(t,n)}catch(e){return!1}return t.test(e)}},1100:(e,t,n)=>{const r=n(8880);e.exports=(e,t)=>e.sort(((e,n)=>r(e,n,t)))},6397:(e,t,n)=>{const r=n(3959);e.exports=(e,t)=>{const n=r(e,t);return n?n.version:null}},1249:(e,t,n)=>{const r=n(5765),i=n(3295),s=n(6376),o=n(6742),a=n(3959),l=n(6397),c=n(3507),u=n(253),h=n(2378),d=n(6378),f=n(7789),p=n(2358),g=n(7559),m=n(6269),v=n(9795),y=n(7880),b=n(8880),w=n(1100),_=n(3657),A=n(1312),E=n(1544),C=n(8718),x=n(1194),S=n(5903),T=n(2056),I=n(7539),O=n(9038),P=n(2257),M=n(6902),B=n(5712),k=n(1042),R=n(5775),L=n(1657),F=n(5316),D=n(9042),N=n(6826),j=n(7606),U=n(32),G=n(2937),z=n(7908),V=n(799);e.exports={parse:a,valid:l,clean:c,inc:u,diff:h,major:d,minor:f,patch:p,prerelease:g,compare:m,rcompare:v,compareLoose:y,compareBuild:b,sort:w,rsort:_,gt:A,lt:E,eq:C,neq:x,gte:S,lte:T,cmp:I,coerce:O,Comparator:P,Range:M,satisfies:B,toComparators:k,maxSatisfying:R,minSatisfying:L,minVersion:F,validRange:D,outside:N,gtr:j,ltr:U,intersects:G,simplifyRange:z,subset:V,SemVer:s,re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:i.SEMVER_SPEC_VERSION,RELEASE_TYPES:i.RELEASE_TYPES,compareIdentifiers:o.compareIdentifiers,rcompareIdentifiers:o.rcompareIdentifiers}},3295:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},4225:e=>{const t="object"==typeof process&&"MISSING_ENV_VAR".NODE_DEBUG&&/\bsemver\b/i.test("MISSING_ENV_VAR".NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},6742:e=>{const t=/^[0-9]+$/,n=(e,n)=>{const r=t.test(e),i=t.test(n);return r&&i&&(e=+e,n=+n),e===n?0:r&&!i?-1:i&&!r?1:e<n?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},2893:e=>{const t=Object.freeze({loose:!0}),n=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:n},5765:(e,t,n)=>{const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:s}=n(3295),o=n(4225),a=(t=e.exports={}).re=[],l=t.safeRe=[],c=t.src=[],u=t.t={};let h=0;const d="[a-zA-Z0-9-]",f=[["\\s",1],["\\d",s],[d,i]],p=(e,t,n)=>{const r=(e=>{for(const[t,n]of f)e=e.split(`${t}*`).join(`${t}{0,${n}}`).split(`${t}+`).join(`${t}{1,${n}}`);return e})(t),i=h++;o(e,i,t),u[e]=i,c[i]=t,a[i]=new RegExp(t,n?"g":void 0),l[i]=new RegExp(r,n?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),p("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${c[u.NUMERICIDENTIFIER]}|${c[u.NONNUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NUMERICIDENTIFIERLOOSE]}|${c[u.NONNUMERICIDENTIFIER]})`),p("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${d}+`),p("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),p("FULL",`^${c[u.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),p("LOOSE",`^${c[u.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),p("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),p("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),p("COERCERTL",c[u.COERCE],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",p("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",p("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},6062:(e,t,n)=>{"use strict";const r=n(2221),i=Symbol("max"),s=Symbol("length"),o=Symbol("lengthCalculator"),a=Symbol("allowStale"),l=Symbol("maxAge"),c=Symbol("dispose"),u=Symbol("noDisposeOnSet"),h=Symbol("lruList"),d=Symbol("cache"),f=Symbol("updateAgeOnGet"),p=()=>1,g=(e,t,n)=>{const r=e[d].get(t);if(r){const t=r.value;if(m(e,t)){if(y(e,r),!e[a])return}else n&&(e[f]&&(r.value.now=Date.now()),e[h].unshiftNode(r));return t.value}},m=(e,t)=>{if(!t||!t.maxAge&&!e[l])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[l]&&n>e[l]},v=e=>{if(e[s]>e[i])for(let t=e[h].tail;e[s]>e[i]&&null!==t;){const n=t.prev;y(e,t),t=n}},y=(e,t)=>{if(t){const n=t.value;e[c]&&e[c](n.key,n.value),e[s]-=n.length,e[d].delete(n.key),e[h].removeNode(t)}};class b{constructor(e,t,n,r,i){this.key=e,this.value=t,this.length=n,this.now=r,this.maxAge=i||0}}const w=(e,t,n,r)=>{let i=n.value;m(e,i)&&(y(e,n),e[a]||(i=void 0)),i&&t.call(r,i.value,i.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[i]=e.max||1/0;const t=e.length||p;if(this[o]="function"!=typeof t?p:t,this[a]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[l]=e.maxAge||0,this[c]=e.dispose,this[u]=e.noDisposeOnSet||!1,this[f]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[i]=e||1/0,v(this)}get max(){return this[i]}set allowStale(e){this[a]=!!e}get allowStale(){return this[a]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[l]=e,v(this)}get maxAge(){return this[l]}set lengthCalculator(e){"function"!=typeof e&&(e=p),e!==this[o]&&(this[o]=e,this[s]=0,this[h].forEach((e=>{e.length=this[o](e.value,e.key),this[s]+=e.length}))),v(this)}get lengthCalculator(){return this[o]}get length(){return this[s]}get itemCount(){return this[h].length}rforEach(e,t){t=t||this;for(let n=this[h].tail;null!==n;){const r=n.prev;w(this,e,n,t),n=r}}forEach(e,t){t=t||this;for(let n=this[h].head;null!==n;){const r=n.next;w(this,e,n,t),n=r}}keys(){return this[h].toArray().map((e=>e.key))}values(){return this[h].toArray().map((e=>e.value))}reset(){this[c]&&this[h]&&this[h].length&&this[h].forEach((e=>this[c](e.key,e.value))),this[d]=new Map,this[h]=new r,this[s]=0}dump(){return this[h].map((e=>!m(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[h]}set(e,t,n){if((n=n||this[l])&&"number"!=typeof n)throw new TypeError("maxAge must be a number");const r=n?Date.now():0,a=this[o](t,e);if(this[d].has(e)){if(a>this[i])return y(this,this[d].get(e)),!1;const o=this[d].get(e).value;return this[c]&&(this[u]||this[c](e,o.value)),o.now=r,o.maxAge=n,o.value=t,this[s]+=a-o.length,o.length=a,this.get(e),v(this),!0}const f=new b(e,t,a,r,n);return f.length>this[i]?(this[c]&&this[c](e,t),!1):(this[s]+=f.length,this[h].unshift(f),this[d].set(e,this[h].head),v(this),!0)}has(e){if(!this[d].has(e))return!1;const t=this[d].get(e).value;return!m(this,t)}get(e){return g(this,e,!0)}peek(e){return g(this,e,!1)}pop(){const e=this[h].tail;return e?(y(this,e),e.value):null}del(e){y(this,this[d].get(e))}load(e){this.reset();const t=Date.now();for(let n=e.length-1;n>=0;n--){const r=e[n],i=r.e||0;if(0===i)this.set(r.k,r.v);else{const e=i-t;e>0&&this.set(r.k,r.v,e)}}}prune(){this[d].forEach(((e,t)=>g(this,t,!1)))}}},9307:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},2221:(e,t,n)=>{"use strict";function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,i=arguments.length;n<i;n++)t.push(arguments[n]);return t}function i(e,t,n){var r=t===e.head?new a(n,null,t,e):new a(n,t,t.next,e);return null===r.next&&(e.tail=r),null===r.prev&&(e.head=r),e.length++,r}function s(e,t){e.tail=new a(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function o(e,t){e.head=new a(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function a(e,t,n,r){if(!(this instanceof a))return new a(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}e.exports=r,r.Node=a,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)s(this,arguments[e]);return this.length},r.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},r.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},r.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},r.prototype.map=function(e,t){t=t||this;for(var n=new r,i=this.head;null!==i;)n.push(e.call(t,i.value,this)),i=i.next;return n},r.prototype.mapReverse=function(e,t){t=t||this;for(var n=new r,i=this.tail;null!==i;)n.push(e.call(t,i.value,this)),i=i.prev;return n},r.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var i=0;null!==r;i++)n=e(n,r.value,i),r=r.next;return n},r.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var i=this.length-1;null!==r;i--)n=e(n,r.value,i),r=r.prev;return n},r.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},r.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},r.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,s=this.head;null!==s&&i<e;i++)s=s.next;for(;null!==s&&i<t;i++,s=s.next)n.push(s.value);return n},r.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,s=this.tail;null!==s&&i>t;i--)s=s.prev;for(;null!==s&&i>e;i--,s=s.prev)n.push(s.value);return n},r.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,s=this.head;null!==s&&r<e;r++)s=s.next;var o=[];for(r=0;s&&r<t;r++)o.push(s.value),s=this.removeNode(s);for(null===s&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev),r=0;r<n.length;r++)s=i(this,s,n[r]);return o},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};try{n(9307)(r)}catch(e){}},7606:(e,t,n)=>{const r=n(6826);e.exports=(e,t,n)=>r(e,t,">",n)},2937:(e,t,n)=>{const r=n(6902);e.exports=(e,t,n)=>(e=new r(e,n),t=new r(t,n),e.intersects(t,n))},32:(e,t,n)=>{const r=n(6826);e.exports=(e,t,n)=>r(e,t,"<",n)},5775:(e,t,n)=>{const r=n(6376),i=n(6902);e.exports=(e,t,n)=>{let s=null,o=null,a=null;try{a=new i(t,n)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(s&&-1!==o.compare(e)||(s=e,o=new r(s,n)))})),s}},1657:(e,t,n)=>{const r=n(6376),i=n(6902);e.exports=(e,t,n)=>{let s=null,o=null,a=null;try{a=new i(t,n)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(s&&1!==o.compare(e)||(s=e,o=new r(s,n)))})),s}},5316:(e,t,n)=>{const r=n(6376),i=n(6902),s=n(1312);e.exports=(e,t)=>{e=new i(e,t);let n=new r("0.0.0");if(e.test(n))return n;if(n=new r("0.0.0-0"),e.test(n))return n;n=null;for(let t=0;t<e.set.length;++t){const i=e.set[t];let o=null;i.forEach((e=>{const t=new r(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":o&&!s(t,o)||(o=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!o||n&&!s(n,o)||(n=o)}return n&&e.test(n)?n:null}},6826:(e,t,n)=>{const r=n(6376),i=n(2257),{ANY:s}=i,o=n(6902),a=n(5712),l=n(1312),c=n(1544),u=n(2056),h=n(5903);e.exports=(e,t,n,d)=>{let f,p,g,m,v;switch(e=new r(e,d),t=new o(t,d),n){case">":f=l,p=u,g=c,m=">",v=">=";break;case"<":f=c,p=h,g=l,m="<",v="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,d))return!1;for(let n=0;n<t.set.length;++n){const r=t.set[n];let o=null,a=null;if(r.forEach((e=>{e.semver===s&&(e=new i(">=0.0.0")),o=o||e,a=a||e,f(e.semver,o.semver,d)?o=e:g(e.semver,a.semver,d)&&(a=e)})),o.operator===m||o.operator===v)return!1;if((!a.operator||a.operator===m)&&p(e,a.semver))return!1;if(a.operator===v&&g(e,a.semver))return!1}return!0}},7908:(e,t,n)=>{const r=n(5712),i=n(6269);e.exports=(e,t,n)=>{const s=[];let o=null,a=null;const l=e.sort(((e,t)=>i(e,t,n)));for(const e of l)r(e,t,n)?(a=e,o||(o=e)):(a&&s.push([o,a]),a=null,o=null);o&&s.push([o,null]);const c=[];for(const[e,t]of s)e===t?c.push(e):t||e!==l[0]?t?e===l[0]?c.push(`<=${t}`):c.push(`${e} - ${t}`):c.push(`>=${e}`):c.push("*");const u=c.join(" || "),h="string"==typeof t.raw?t.raw:String(t);return u.length<h.length?u:t}},799:(e,t,n)=>{const r=n(6902),i=n(2257),{ANY:s}=i,o=n(5712),a=n(6269),l=[new i(">=0.0.0-0")],c=[new i(">=0.0.0")],u=(e,t,n)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===s){if(1===t.length&&t[0].semver===s)return!0;e=n.includePrerelease?l:c}if(1===t.length&&t[0].semver===s){if(n.includePrerelease)return!0;t=c}const r=new Set;let i,u,f,p,g,m,v;for(const t of e)">"===t.operator||">="===t.operator?i=h(i,t,n):"<"===t.operator||"<="===t.operator?u=d(u,t,n):r.add(t.semver);if(r.size>1)return null;if(i&&u){if(f=a(i.semver,u.semver,n),f>0)return null;if(0===f&&(">="!==i.operator||"<="!==u.operator))return null}for(const e of r){if(i&&!o(e,String(i),n))return null;if(u&&!o(e,String(u),n))return null;for(const r of t)if(!o(e,String(r),n))return!1;return!0}let y=!(!u||n.includePrerelease||!u.semver.prerelease.length)&&u.semver,b=!(!i||n.includePrerelease||!i.semver.prerelease.length)&&i.semver;y&&1===y.prerelease.length&&"<"===u.operator&&0===y.prerelease[0]&&(y=!1);for(const e of t){if(v=v||">"===e.operator||">="===e.operator,m=m||"<"===e.operator||"<="===e.operator,i)if(b&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===b.major&&e.semver.minor===b.minor&&e.semver.patch===b.patch&&(b=!1),">"===e.operator||">="===e.operator){if(p=h(i,e,n),p===e&&p!==i)return!1}else if(">="===i.operator&&!o(i.semver,String(e),n))return!1;if(u)if(y&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===y.major&&e.semver.minor===y.minor&&e.semver.patch===y.patch&&(y=!1),"<"===e.operator||"<="===e.operator){if(g=d(u,e,n),g===e&&g!==u)return!1}else if("<="===u.operator&&!o(u.semver,String(e),n))return!1;if(!e.operator&&(u||i)&&0!==f)return!1}return!(i&&m&&!u&&0!==f||u&&v&&!i&&0!==f||b||y)},h=(e,t,n)=>{if(!e)return t;const r=a(e.semver,t.semver,n);return r>0?e:r<0||">"===t.operator&&">="===e.operator?t:e},d=(e,t,n)=>{if(!e)return t;const r=a(e.semver,t.semver,n);return r<0?e:r>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,n={})=>{if(e===t)return!0;e=new r(e,n),t=new r(t,n);let i=!1;e:for(const r of e.set){for(const e of t.set){const t=u(r,e,n);if(i=i||null!==t,t)continue e}if(i)return!1}return!0}},1042:(e,t,n)=>{const r=n(6902);e.exports=(e,t)=>new r(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},9042:(e,t,n)=>{const r=n(6902);e.exports=(e,t)=>{try{return new r(e,t).range||"*"}catch(e){return null}}},4314:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var r=n(7462),i=n(3553),s=n(5697),o=n.n(s),a=n(7294),l=n(4869),c=n(1696);const u="undefined"!=typeof window&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||(e=>window.setTimeout(e,0)));function h(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var d=n(4578);function f(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var p=n(3935);const g=a.createContext(null);var m=function(e){return e.scrollTop},v="unmounted",y="exited",b="entering",w="entered",_="exiting",A=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,s=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?s?(i=y,r.appearStatus=b):i=w:i=t.unmountOnExit||t.mountOnEnter?v:y,r.state={status:i},r.nextCallback=null,r}(0,d.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===v?{status:y}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==b&&n!==w&&(t=b):n!==b&&n!==w||(t=_)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===b){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:p.findDOMNode(this);n&&m(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===y&&this.setState({status:v})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[p.findDOMNode(this),r],s=i[0],o=i[1],a=this.getTimeouts(),l=r?a.appear:a.enter;e||n?(this.props.onEnter(s,o),this.safeSetState({status:b},(function(){t.props.onEntering(s,o),t.onTransitionEnd(l,(function(){t.safeSetState({status:w},(function(){t.props.onEntered(s,o)}))}))}))):this.safeSetState({status:w},(function(){t.props.onEntered(s)}))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:p.findDOMNode(this);t?(this.props.onExit(r),this.safeSetState({status:_},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:y},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:y},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:p.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],s=i[0],o=i[1];this.props.addEndListener(s,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===v)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,h(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return a.createElement(g.Provider,{value:null},"function"==typeof n?n(e,r):a.cloneElement(a.Children.only(n),r))},t}(a.Component);function E(){}A.contextType=g,A.propTypes={},A.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:E,onEntering:E,onEntered:E,onExit:E,onExiting:E,onExited:E},A.UNMOUNTED=v,A.EXITED=y,A.ENTERING=b,A.ENTERED=w,A.EXITING=_;const C=A;var x=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"==typeof n.className?n.className=f(n.className,r):n.setAttribute("class",f(n.className&&n.className.baseVal||"",r)));var n,r}))},S=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],s=r[1];t.removeClasses(i,"exit"),t.addClass(i,s?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],s=r[1]?"appear":"enter";t.addClass(i,s,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],s=r[1]?"appear":"enter";t.removeClasses(i,s),t.addClass(i,s,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,i=r?(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}(0,d.Z)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&m(e),r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"==typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,s=n.done;this.appliedClasses[t]={},r&&x(e,r),i&&x(e,i),s&&x(e,s)},n.render=function(){var e=this.props,t=(e.classNames,h(e,["classNames"]));return a.createElement(C,(0,r.Z)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(a.Component);S.defaultProps={classNames:""},S.propTypes={};const T=S;var I=n(9058);const O=e=>{let{onSearch:t,searchPlaceholder:n,onSearchEnter:r,searchValue:i}=e;return a.createElement(I.Z,{placeholder:n,onChange:t,onEnter:r,onIconClick:r,icon:"fa fa-search",value:null===i?void 0:i,stopPropagation:!0,dynamic:!0})};O.propTypes={onSearch:o().func,searchPlaceholder:o().string,onSearchEnter:o().func,searchValue:o().string},O.defaultProps={onSearch:null,searchPlaceholder:null,onSearchEnter:null,searchValue:null},O.displayName="AccordionSearch";const P=O;class M extends a.PureComponent{renderOpen(e){const{onSearch:t,onSearchEnter:n,searchPlaceholder:r,searchValue:i,state:s}=this.props;return e||(t||n?a.createElement(P,{onSearch:t,onSearchEnter:n,currentState:s,searchPlaceholder:r,searchValue:i}):null)}render(){const{right:e,onSearch:t,onSearchEnter:n,state:r}=this.props;if(!(e||t||n))return null;const i=e&&!(!e.open&&!e.close),s=i?e.open:null,o=i?e.close:e;return t||n||i?a.createElement("div",{className:"accordion__head__right"},a.createElement(T,{key:"closed",classNames:"right--background",timeout:520,in:1===r,unmountOnExit:!0},a.createElement("div",null,o)),a.createElement(T,{key:"open",classNames:"right--foreground",timeout:500,in:2===r,unmountOnExit:!0},a.createElement("div",null,this.renderOpen(s)))):a.createElement("div",{className:"accordion__head__right"},o)}}let B;M.propTypes={right:o().oneOfType([o().node.isRequired,o().shape({open:o().node.isRequired,close:o().node.isRequired}).isRequired]),onSearch:o().func,onSearchEnter:o().func,searchPlaceholder:o().string,searchValue:o().string,state:o().oneOf([2,1])},M.defaultProps={right:null,onSearch:null,onSearchEnter:null,searchPlaceholder:"",searchValue:null,state:null},M.displayName="AccordionHeadRight";class k extends a.PureComponent{constructor(e){super(e),this.handleAccordionClick=e=>{const{fixed:t,onClick:n,disabled:r}=this.props;if(n&&n(e),t||r||null===e)return;let i=!0,s=e.target;for(let e=0;e<15;e+=1){if(s.classList){if(s.classList.contains("accordion--no-trigger")){i=!1;break}if(s.classList.contains("accordion__head"))break}if(!s.parentNode){i=!1;break}s=s.parentNode}if(i){const{currentState:t}=this.state,{dataGroup:n}=this.props;!n&&2===t||this.accordion.classList.contains("accordion--open")?this.accordionCloseListener(e):this.accordionOpenListener(e)}};const{defaultOpened:t,open:n,className:r}=e,i=e&&t||n||r&&-1!==r.indexOf("accordion--open")?2:1;this.state={currentState:i,showBody:2===i},this.ref=e=>{this.body=e}}componentDidMount(){const{className:e,autogrow:t,dataGroup:n}=this.props,{currentState:r}=this.state;-1!==e.indexOf("accordion--open")&&this.accordion.classList.add("accordion--open"),n&&(k.dataGroups[n]||(k.dataGroups[n]=[]),k.dataGroups[n].push(this)),2===r&&t&&this.body&&this.body.style.setProperty("max-height","initial","important"),this.body.addEventListener("transitionend",(e=>{if(t&&"max-height"===e.propertyName){const{currentState:e}=this.state;2!==e||this.isClosing||this.body.style.setProperty("max-height","initial","important")}}))}componentDidUpdate(e,t){const{open:n}=this.props,{currentState:r}=this.state;1===r&&t.currentState!==r&&(this.timeout=setTimeout((()=>{this.setState({showBody:!1})}),500)),void 0!==n&&n!==e.open&&(n?this.accordionOpenListener(null,!0,!0):this.accordionCloseListener(null,!0,!0))}componentWillUnmount(){const{dataGroup:e}=this.props;if(e&&k.dataGroups[e]){const t=k.dataGroups[e].indexOf(this);-1!==t&&k.dataGroups[e].splice(t,1)}cancelAnimationFrame(B),window.clearTimeout(this.timeout)}getBody(){const{renderClosed:e,children:t,removeContentClosed:n}=this.props,{currentState:r,showBody:i}=this.state;return 2===r||e||this.rendered&&!n||i?(this.rendered=!0,t):null}accordionCloseListener(e,t,n){void 0===n&&(n=!1);const{onClose:r,autogrow:i,controlled:s}=this.props,{body:o}=this;i&&o?B=u((()=>{this.body&&(this.isClosing=!0,this.body.style.removeProperty("max-height")),B=u((()=>{i&&o&&(this.setState({currentState:1},(()=>{this.isClosing=!1})),r&&!t&&r(e))}))})):(s&&!n||this.setState({currentState:1}),r&&!t&&r(e))}accordionOpenListener(e,t,n){void 0===n&&(n=!1);const{onOpen:r,dataGroup:i,controlled:s}=this.props;s&&!n||(i&&k.dataGroups[i]&&k.dataGroups[i].forEach((e=>{e!==this&&e.state&&2===e.state.currentState&&e.accordionCloseListener()})),this.setState({currentState:2,showBody:!0})),r&&!t&&r(e)}render(){const{id:e,style:t,isWrapped:n,className:s,styleBody:o,reference:u,icon:h,head:d,headMultiline:f,headClassNames:p,headCustomAttributes:g,noRotate:m,noIcon:v,disabled:y,fixed:b,right:w,onSearch:_,onSearchEnter:A,searchPlaceholder:E,searchValue:C}=this.props,{currentState:x}=this.state;let S=null;return d&&(S=d.open?2===x?d.open:d.close:d),a.createElement("div",{className:(0,i.Z)("accordion react-accordion",s,!0===n&&"accordion--wrapped",2===x&&"accordion--open",y&&"accordion--disabled",b&&"accordion--fixed"),ref:e=>{this.accordion=e,u&&(0,c.mf)(u)&&u(e)},id:e,style:t},a.createElement("div",(0,r.Z)({className:(0,i.Z)("accordion__head",p,f&&"accordion__head__multiline",b&&"accordion__head--no-padding"),onClick:this.handleAccordionClick},g),v&&!b?null:a.createElement("div",{className:"accordion__head__icon"+(m||b?" accordion__head__icon--no-rotate":"")},(0,c.HD)(h)||h.iconName?a.createElement(l.Z,{icon:b&&"ts-angle-right"===h?"fa fa-horizontal-rule":h,className:b&&"ts-angle-right"===h?"accordion--fixed__head__icon":null}):h),a.createElement("div",{className:"accordion__head__title",style:{...v&&!b?{paddingLeft:"10px"}:null,...d&&!(0,c.HD)(d.open)&&(0,c.HD)(d.close)&&n?{fontWeight:"inherit"}:null}},S),a.createElement(M,{right:w,onSearch:_,onSearchEnter:A,searchPlaceholder:E,searchValue:C,state:x})),a.createElement("div",{className:"accordion__body",ref:this.ref,style:o},this.getBody()))}}k.dataGroups={},k.propTypes={head:o().oneOfType([o().node.isRequired,o().shape({open:o().node.isRequired,close:o().node.isRequired}).isRequired]).isRequired,headMultiline:o().bool,headClassNames:o().oneOfType([o().string,o().arrayOf(o().string),o().object]),headCustomAttributes:o().object,children:o().node.isRequired,right:o().oneOfType([o().node.isRequired,o().shape({open:o().node,close:o().node}).isRequired]),renderClosed:o().bool,isWrapped:o().bool,dataGroup:o().string,className:o().string,id:o().string,style:o().objectOf(o().oneOfType([o().string,o().number])),styleBody:o().objectOf(o().oneOfType([o().string,o().number])),onOpen:o().func,onClose:o().func,defaultOpened:o().bool,reference:o().func,autogrow:o().bool,open:o().bool,icon:o().oneOfType([o().object,o().string,o().node]),noRotate:o().bool,fixed:o().bool,noIcon:o().bool,onSearch:o().func,onSearchEnter:o().func,searchPlaceholder:o().string,searchValue:o().string,removeContentClosed:o().bool,onClick:o().func,disabled:o().bool,controlled:o().bool},k.defaultProps={className:"",headClassNames:null,headMultiline:!1,headCustomAttributes:null,dataGroup:null,id:null,style:null,styleBody:null,onOpen:null,onClose:null,defaultOpened:null,reference:null,isWrapped:!1,renderClosed:!1,right:null,autogrow:!0,open:void 0,icon:"ts-angle-right",noRotate:!1,fixed:!1,noIcon:!1,onSearch:null,onSearchEnter:null,searchPlaceholder:"",searchValue:null,removeContentClosed:!1,onClick:null,disabled:!1,controlled:!1},k.displayName="Accordion"},6050:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(7462),i=n(3553),s=n(5697),o=n.n(s),a=n(7294);const l=(0,a.forwardRef)(((e,t)=>{let{children:n,className:s,style:o,badgeRef:l,...c}=e;const[u,h]=(0,a.useState)(),d=(0,a.useCallback)((e=>{e&&h(e.getBoundingClientRect().height)}),[]);return a.createElement("div",(0,r.Z)({className:(0,i.Z)(s,"badge"),ref:e=>{d(e),t&&t(e),l&&l(e)},style:{minWidth:u,...o}},c),n)})),c=l;l.propTypes={children:o().node.isRequired,className:o().string,style:o().objectOf(o().oneOfType([o().string,o().number])),badgeRef:o().func},l.defaultProps={className:"",style:void 0,badgeRef:void 0},l.displayName="Badge"},4662:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(7462),i=n(3553),s=n(5697),o=n.n(s),a=n(7294),l=n(4869);const c=(0,a.forwardRef)(((e,t)=>{const{chooseButton:n,disabled:s,children:o,className:c,icon:u,secondary:h,stopPropagation:d,onClick:f,type:p,...g}=e;return a.createElement("button",(0,r.Z)({type:p,className:(0,i.Z)(c,n?"choosebutton"+(u?" choosebutton--icon":""):"button"+(u?" button--icon":""),s&&"button--disabled",h&&"button--secondary"),onClick:e=>{f&&!s&&f(e),d&&e.stopPropagation()},disabled:s,ref:t},g),u&&a.createElement("span",{className:n?"choosebutton__icon":"button__icon"},a.createElement(l.Z,{icon:u})),o)})),u=c;c.propTypes={children:o().node.isRequired,chooseButton:o().bool,disabled:o().bool,onClick:o().func,className:o().string,icon:o().oneOfType([o().string,o().object]),secondary:o().bool,stopPropagation:o().bool,type:o().oneOf(["button","submit","reset"])},c.defaultProps={className:null,onClick:null,disabled:!1,chooseButton:!1,icon:null,secondary:!1,stopPropagation:!1,type:"button"},c.displayName="Button"},2372:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var r=n(3553),i=n(5697),s=n.n(i),o=n(7294),a=n(7762),l=n(3935);const c=e=>{let{children:t,parent:n}=e,r="undefined"!=typeof document?document.getElementsByClassName("tapp")[0]:null;return n&&(r=n),r?(0,l.createPortal)(t,r):null};c.propTypes={children:s().oneOfType([s().node,s().arrayOf(s().node)]),parent:"undefined"!=typeof Element?s().instanceOf(Element):()=>{}},c.defaultProps={children:null,parent:null},c.displayName="TappPortal";const u=c;let h=0;const d=o.forwardRef(((e,t)=>{const{position:n,parent:i,topDivStyle:s,onMouseEnter:a,onMouseLeave:l,className:c,children:d,style:f,coordinates:p}=e,g=(0,o.useRef)(),[m]=(0,o.useState)((()=>"cc__bubble"+ ++h)),v=(0,o.useRef)();(0,o.useEffect)((()=>()=>clearTimeout(v.current)),[]);const[y,b]=(0,o.useState)(!1),[w,_]=(0,o.useState)(!0);(0,o.useImperativeHandle)(t,(()=>({show(){_(!1),clearTimeout(v.current),v.current=setTimeout((()=>b(!0)))},hide(){b(!1),clearTimeout(v.current),v.current=setTimeout((()=>_(!0)),500)}})),[]);const A=(0,r.Z)(`cc__bubble cc__bubble--position${n}`,y&&"cc__bubble--active",w&&"cc__bubble--hide"),{x:E,y:C}=p;return o.createElement(u,{parent:i},o.createElement("div",{className:A,style:{top:`${C}px`,left:`${E}px`,...s},ref:g,onMouseEnter:a,onMouseLeave:l,key:m},o.createElement("div",{className:(0,r.Z)("cc__bubble__overlay",c),style:f},d)))}));d.position={TOP_LEFT:0,BOTTOM_LEFT:1,BOTTOM_RIGHT:2,TOP_RIGHT:3,TOP_CENTER:4,BOTTOM_CENTER:5},d.isPositionBottom=e=>{const{BOTTOM_LEFT:t,BOTTOM_CENTER:n,BOTTOM_RIGHT:r}=d.position;return[t,n,r].includes(e)},d.propTypes={children:s().node,className:s().string,style:s().PropTypes.objectOf(s().oneOfType([s().string,s().number])),position:s().oneOf([0,1,2,3,4,5]),parent:"undefined"!=typeof Element?s().instanceOf(Element):()=>{},coordinates:s().shape({x:s().number.isRequired,y:s().number.isRequired}),onMouseEnter:s().func,onMouseLeave:s().func,topDivStyle:s().objectOf(s().oneOfType([s().string,s().number]))},d.defaultProps={className:null,style:null,children:null,position:0,parent:null,coordinates:null,onMouseEnter:null,onMouseLeave:null,topDivStyle:null},d.displayName="Bubble";const f=d;var p=n(4869),g=n(1198);function m(){const e=document.querySelector(".tapp");if(!e)return null;const t=window.getComputedStyle(e);return parseInt(t.width,10)-parseInt(t.paddingLeft,10)-parseInt(t.paddingRight,10)}let v=null;const y="https://webapi.tobit.com/TextStringService/v1.0",b={};class w extends o.Component{static getTextString(e,t,n){void 0===n&&(n=null);let r=w.languages.find((e=>e.code===(t||w.language||chayns.env.site.translang)));r=r?r.value:"Ger";const{textStrings:i}=w,s=i[r]||i[Object.keys(i)[0]];if(!s)return n;const o=Object.keys(s).map((t=>s[t][e]||null)).filter((e=>null!==e))[0]||null;return null!==o?o:n}static async loadLibrary(e,t,n,r){void 0===r&&(r=!1);let i=w.languages.find((e=>e.code===(n||w.language||chayns.env.parameters.translang||chayns.env.site.translang||chayns.env.site.language)));w.language||w.setLanguage(i?i.code:"de"),i=i?i.value:"Ger";let s=b[i]&&b[i][e];return s||(b[i]||(b[i]={}),s=(async(e,t,n)=>{if(n||!w.textStrings[t]||!w.textStrings[t][e])try{const n=await fetch(`${y}/LangStrings/${e}?language=${t}`);if(200!==n.status)return void console.error(n.statusText);const r=await n.json();w.textStrings[t]={...w.textStrings[t],[e]:{...r}},!(0,g.s)()&&window.debugLevel>=3&&console.debug("TextString Storage",w.textStrings)}catch(e){console.error(e)}finally{delete b[t][e]}})(e,i,r),b[i][e]=s,s)}static changeTextString(e,t,n){const r={stringName:e};return r[`text${n}`]=t,new Promise(((e,t)=>{fetch(`${y}/V2/LangStrings`,{method:"put",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${chayns.env.user.tobitAccessToken}`},body:JSON.stringify(r)}).then((n=>{200===n.status?e({ResultCode:0}):t(n.statusText)}),t)}))}static setLanguage(e){w.language=e.substring(0,2).toLowerCase()}static replace(e,t){let n=e;return Object.keys(t).forEach((e=>{n=n.replace(e,t[e])})),n}static selectLanguageToChange(e){chayns.dialog.iFrame({url:"https://tapp-staging.chayns-static.space/text-string-tapp/v1/iframe-edit.html",buttons:[],input:{textstring:e}})}constructor(e){super(e);const{stringName:t,language:n,setProps:r,replacements:i,fallback:s}=e;let o=w.getTextString(t,n,s);const a={};Object.keys(r).forEach((e=>{"fallback"!==e&&(o=w.getTextString(r[e]),o?a[e]=w.replace(o,i):r.fallback&&r.fallback[e]&&(a[e]=w.replace(r.fallback[e],i)))})),this.state={textString:o&&w.replace(o,i)||null,textStringProps:a},this.childrenOnClick=this.childrenOnClick.bind(this),this.changeStringDialog=this.changeStringDialog.bind(this),this.changeStringResult=this.changeStringResult.bind(this),this.selectStringToChange=this.selectStringToChange.bind(this),this.setTextStrings=this.setTextStrings.bind(this)}componentDidUpdate(e){const{replacements:t,stringName:n}=this.props;t===e.replacements&&n===e.stringName||this.setTextStrings(this.props)}setTextStrings(e){const{stringName:t,language:n,fallback:r,setProps:i,replacements:s}=e;let o=w.getTextString(t,n);o?this.setState({textString:w.replace(o,s)}):this.setState({textString:w.replace(r,s)});const{textStringProps:a}=this.state;Object.keys(i).forEach((e=>{"fallback"!==e&&(o=w.getTextString(i[e]),o?a[e]=w.replace(o,s):i.fallback&&i.fallback[e]&&(a[e]=w.replace(i.fallback[e],s)))})),this.setState({textStringProps:a})}childrenOnClick(){new Promise(((e,t)=>{!0===v?e():!1!==v&&chayns.env.user.isAuthenticated?fetch(`https://chaynssvc.tobit.com/v0.5/${chayns.env.site.locationId}/user/UAC/8255`,{headers:{Authorization:`bearer ${chayns.env.user.tobitAccessToken}`}}).then((n=>{200===n.status?n.json().then((n=>{n.data&&n.data.forEach((t=>{1214===t.locationId&&(v=!0,e())})),v||(v=!1,t())})).catch((e=>{t(e)})):(v=!1,t(n.statusText))})).catch(t):t()})).then(this.selectStringToChange).catch((()=>{}))}selectStringToChange(){const{stringName:e,setProps:t}=this.props;if(Object.keys(t).length>0){const n=[];e&&n.push({name:`children: ${e}`,value:e}),Object.keys(t).forEach((e=>{"fallback"!==e&&n.push({name:`${e}: ${t[e]}`,value:t[e]})})),chayns.dialog.select({title:"TextString whlen",message:"Whle den TextString, den du ndern mchtest:",quickfind:0,multiselect:0,list:n}).then((e=>{1===e.buttonType&&e.selection&&e.selection.length>0&&w.selectLanguageToChange(e.selection[0].value)}))}else w.selectLanguageToChange(e)}changeStringDialog(e,t){const n=w.getTextString(e,w.languages.find((e=>e.value===t.value)).code);n?(chayns.register({apiDialogs:!0}),chayns.dialog.iFrame({width:m()+76,url:"https://frontend.tobit.com/dialog-html-editor/v1.0/",input:n,title:e,message:`Sprache: ${t.name}`,buttons:[{text:"Speichern",buttonType:1},{text:"Abbrechen",buttonType:-1}]}).then((e=>{this.changeStringResult(e,t)}))):chayns.dialog.alert(e,"Der TextString existiert nicht.")}changeStringResult(e,t){const{stringName:n,useDangerouslySetInnerHTML:r}=this.props;1===e.buttonType&&(e.text||e.value)&&w.changeTextString(n,r?e.value:e.text,t.value).then((e=>{0===e.ResultCode?chayns.dialog.alert("","Die nderungen wurden erfolgreich gespeichert. Es kann bis zu 5 Minuten dauern, bis die nderung sichtbar wird."):chayns.dialog.alert("","Es ist ein Fehler aufgetreten.")})).catch((()=>{chayns.dialog.alert("","Es ist ein Fehler aufgetreten.")}))}render(){const{children:e,useDangerouslySetInnerHTML:t,preventNoTranslate:n}=this.props,{textString:i,textStringProps:s}=this.state,a={onClick:t=>{t.ctrlKey?(this.childrenOnClick(t),t.stopPropagation()):e.props.onClick&&e.props.onClick(t)},...t?{dangerouslySetInnerHTML:{__html:i}}:null,...s,...!n&&{className:(0,r.Z)("no-translate notranslate",e.props.className)}};return i?o.cloneElement(e,a,t?null:i):o.cloneElement(e,a)}}w.textStrings={},w.language=void 0,w.languages=[{name:"Deutsch",value:"Ger",code:"de"},{name:"Englisch",value:"Eng",code:"en"},{name:"Franzsisch",value:"Fra",code:"fr"},{name:"Niederlndisch",value:"Ned",code:"nl"},{name:"Italienisch",value:"Ita",code:"it"},{name:"Portugiesisch",value:"Pt",code:"pt"},{name:"Spanisch",value:"Es",code:"es"},{name:"Trkisch",value:"Tr",code:"tr"},{name:"Polnisch",value:"Pl",code:"pl"},{name:"Ukrainisch",value:"Uk",code:"uk"}],w.propTypes={stringName:s().string,replacements:s().objectOf(s().oneOfType([s().string,s().number])),children:s().node,useDangerouslySetInnerHTML:s().bool,language:s().string,fallback:s().string,setProps:s().objectOf(s().oneOfType([s().object,s().string,s().number])),preventNoTranslate:s().bool},w.defaultProps={stringName:null,replacements:{},useDangerouslySetInnerHTML:!1,language:null,fallback:"",setProps:{},preventNoTranslate:!1,children:o.createElement("p",null)},w.displayName="TextString";const _=o.forwardRef(((e,t)=>{const{parent:n,position:i,minWidth:s,maxWidth:l,className:c,items:u,stopPropagation:h,childrenStyle:d,childrenClassName:g,showTriggerBackground:m,children:v,style:y,onChildrenClick:b,disableDialog:A,onLayerClick:E,onShow:C,onHide:x,removeParentSpace:S,coordinates:T,positionOnChildren:I,arrowDistance:O}=e,P=(0,o.useRef)(),M=(0,o.useRef)(),[B,k]=(0,o.useState)(!1),[R,L]=(0,o.useState)(null),[F,D]=(0,o.useState)(0),[N,j]=(0,o.useState)(0),U=u.some((e=>{let{icon:t}=e;return"string"==typeof t?t:null==t?void 0:t.iconName}));(0,o.useEffect)((()=>{P.current&&(B?(P.current.show(),null==C||C()):(P.current.hide(),null==x||x()))}),[B]),(0,o.useEffect)((()=>{let e=(null==T?void 0:T.x)||0,t=(null==T?void 0:T.y)||0,r=(null==T?void 0:T.y)||0;if(!T&&M.current){const n=M.current.getBoundingClientRect();I===_.positionOnChildren.LEFT?e=n.left+O:I===_.positionOnChildren.CENTER?e=n.left+n.width/2:I===_.positionOnChildren.RIGHT&&(e=n.left+n.width-O),t=n.top,r=n.bottom}let s=i;if(null===s){const n=e>window.innerWidth/2,i=(t+r)/2>(document.body.offsetHeight||window.innerHeight)/2;s=n&&i?_.position.TOP_LEFT:!n&&i?_.position.TOP_RIGHT:n&&!i?_.position.BOTTOM_LEFT:_.position.BOTTOM_RIGHT}let o=f.isPositionBottom(s)?r:t;if(S){const t=(n||document.getElementsByClassName("tapp")[0]||document.body).getBoundingClientRect();e-=t.left,o-=t.top}chayns.env.isApp?chayns.getWindowMetrics().then((t=>{let{pageYOffset:n}=t;L(s),D(e),j(o+n)})):(L(s),D(e),j(o))}),[O,T,n,I,S,i,B]);const G=(0,o.useCallback)((async()=>{if(A||!chayns.env.isMobile&&!chayns.env.isTablet)k(!0);else{const e=u.some((e=>{let{icon:t}=e;return"string"==typeof t?t:null==t?void 0:t.iconName}))?" ":"",{buttonType:t,selection:n}=await chayns.dialog.select({type:2,list:u.map(((t,n)=>{let{text:r,icon:i,stringName:s}=t;return{name:s?w.getTextString(s,null,r):o.isValidElement(r)?(0,a.renderToStaticMarkup)(r):r,value:n,icon:("string"==typeof i?i:(null==i?void 0:i.iconName)&&`fa-${null==i?void 0:i.iconName}`)||e}})),buttons:[]});1===t&&null!=n&&n[0]?u[n[0].value].onClick():-1===t&&E&&E()}}),[A,u,E]),z=(0,o.useCallback)((()=>{k(!1)}),[]);return(0,o.useImperativeHandle)(t,(()=>({show:G,hide:z})),[z,G]),(0,o.useEffect)((()=>(window.addEventListener("blur",z),()=>{window.removeEventListener("blur",z)})),[z]),(0,o.useEffect)((()=>{if(B){const e=e=>{B&&(E?E(e):z())};return document.addEventListener("click",e,!0),()=>document.removeEventListener("click",e,!0)}}),[z,B,E]),o.createElement(o.Fragment,null,o.createElement(f,{coordinates:{x:F,y:N},parent:n,position:R,style:{minWidth:s,maxWidth:l,...y},key:"bubble",ref:P,className:c},o.createElement("ul",null,u.map(((e,t)=>o.createElement("li",{className:(0,r.Z)("context-menu__item",e.className),onClick:t=>{h&&t.stopPropagation(),e.onClick(t)},key:e.stringName||(e.text.props&&e.text.props.stringName?e.text.props.stringName:e.text)+t},e.icon||U?o.createElement("div",{className:"context-menu__item__icon"},e.icon&&o.createElement(p.Z,{icon:e.icon})):null,e.stringName?o.createElement(w,{stringName:e.stringName},o.createElement("div",{className:"context-menu__item__text"},e.text)):o.createElement("div",{className:"context-menu__item__text"},e.text)))))),!T&&o.createElement("div",{key:"cc__contextMenu__children",ref:M,onClick:function(e){b?b(e):G(),h&&e.stopPropagation()},style:d,className:(0,r.Z)("accordion--no-trigger context-menu__children",g,m&&"image-tool")},v))}));_.position=f.position,_.positionOnChildren={LEFT:0,CENTER:1,RIGHT:2},_.propTypes={onLayerClick:s().func,onShow:s().func,onHide:s().func,coordinates:s().shape({x:s().number.isRequired,y:s().number.isRequired}),items:s().arrayOf(s().shape({className:s().string,onClick:s().func,text:s().oneOfType([s().string,s().node]).isRequired,stringName:s().string,icon:s().oneOfType([s().string,s().instanceOf(Object)])})),position:s().number,positionOnChildren:s().number,parent:"undefined"!=typeof Element?s().instanceOf(Element):()=>{},children:s().node,onChildrenClick:s().func,childrenStyle:s().objectOf(s().oneOfType([s().string,s().number])),childrenClassName:s().string,stopPropagation:s().bool,minWidth:s().number,maxWidth:s().number,showTriggerBackground:s().bool,className:s().string,style:s().object,removeParentSpace:s().bool,disableDialog:s().bool,arrowDistance:s().number},_.defaultProps={onLayerClick:null,onShow:null,onHide:null,items:[],position:null,positionOnChildren:1,parent:null,children:o.createElement(p.Z,{icon:"ts-ellipsis_v"}),coordinates:null,onChildrenClick:null,childrenStyle:null,childrenClassName:null,stopPropagation:!1,minWidth:null,maxWidth:null,showTriggerBackground:!1,className:null,style:null,removeParentSpace:!1,disableDialog:!1,arrowDistance:0},_.displayName="ContextMenu";const A=_},4869:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(7462),i=n(3553),s=n(5697),o=n.n(s),a=n(7294),l=n(1696);let c=!1;class u extends a.Component{constructor(e){super(e),this.onClick=this.onClick.bind(this)}componentDidMount(){const{icon:e}=this.props;c||!e||(0,l.HD)(e)||(c=!0,console.warn("[chayns components] Icon: You are still using fortawesome SVG-icons. Consider changing to fontawesome-font-icons. https://github.com/TobitSoftware/chayns-components/blob/master/src/react-chayns-icon/README.md#deprecated"))}onClick(e){const{onClick:t,disabled:n,stopPropagation:r}=this.props;t&&!n&&t(e),r&&e.stopPropagation()}render(){const{icon:e,className:t,onClick:n,disabled:s,stopPropagation:o,style:c,...u}=this.props;if(Array.isArray(e))return a.createElement("span",{className:`fa-stack ${t}`,style:{height:"1em",width:"1.4em",lineHeight:"1em",...c}},e.map((e=>a.createElement("i",(0,r.Z)({key:e,className:`${e} fa-stack-1x`,onClick:this.onClick},u)))));let h=e;if("object"==typeof e&&(h=`${e.prefix} fa-${e.iconName}`),!(0,l.HD)(h))return null;const d=(0,i.Z)("react-chayns-icon",h,t,n&&"react-chayns-icon--clickable",s&&"react-chayns-icon--disabled");return a.createElement("i",(0,r.Z)({className:d,style:c,onClick:this.onClick},u))}}u.propTypes={icon:o().oneOfType([o().string.isRequired,o().shape({iconName:o().string.isRequired,prefix:o().string.isRequired}).isRequired,o().arrayOf(o().string.isRequired)]).isRequired,className:o().string,style:o().objectOf(o().oneOfType([o().number,o().string])),onClick:o().func,disabled:o().bool,stopPropagation:o().bool},u.defaultProps={className:"",style:void 0,onClick:void 0,disabled:!1,stopPropagation:!1},u.displayName="Icon"},9058:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(7462),i=n(3553),s=n(5697),o=n.n(s),a=n(7294),l=n(4662),c=n(4869),u=n(1696);let h=0;class d extends a.PureComponent{constructor(e){super(e),this.state={valid:(!e.regExp||!e.value||e.value.match(e.regExp))&&!(""===e.value&&e.required),initial:!0,right:!1,value:e.value||e.defaultValue||""},this.id="CC_INPUT_"+h++,this.setRef=this.setRef.bind(this),this.onKeyUp=this.onKeyUp.bind(this),this.onKeyPress=this.onKeyPress.bind(this),this.onBlur=this.onBlur.bind(this),this.onChange=this.onChange.bind(this),this.onPaste=this.onPaste.bind(this),this.callValidated=this.callValidated.bind(this),this.onIconClick=this.onIconClick.bind(this)}componentDidUpdate(e){let{regExp:t,value:n}=e;const{regExp:r,onChange:i,value:s}=this.props;String(t)!==String(r)&&this.ref&&this.callValidated(this.ref.value,i),s!==n&&this.callValidated(s)}onKeyUp(e){const{onKeyUp:t,onEnter:n}=this.props;t&&t(e),13===e.keyCode&&this.callValidated(e.target.value,n,e)}onKeyPress(e){const{type:t}=this.props;"number"===t&&e.code&&e.code.startsWith("Key")&&e.preventDefault()}onBlur(e){const{onBlur:t}=this.props;this.callValidated(e.target.value,t,e)}onChange(e){const{onChange:t}=this.props;this.setState({value:e.target.value}),this.callValidated(e.target.value,t,e)}onPaste(e){const{type:t}=this.props;if("number"===t){const t=e.clipboardData.getData("text/plain");/^[0-9.,]*$/.test(t)||e.preventDefault()}}onIconClick(e){const{right:t,initial:n}=this.state,{onIconClick:r,clearIcon:i,value:s,defaultValue:o}=this.props;i&&(t||!(0,u.TF)(s)||n&&!(0,u.TF)(o))?(this.onChange({target:{value:""}}),e.stopPropagation(),this.ref.value=""):r&&(r(e),e.stopPropagation())}setRef(e){const{inputRef:t}=this.props;t&&t(e),this.ref=e}callValidated(e,t,n){const{regExp:r,required:i}=this.props,s=!(i&&!e||r&&!e.match(r));t&&t(e,s,n),this.setState({valid:s,initial:!1,right:!(0,u.TF)(e)})}render(){const{className:e,defaultValue:t,value:n,style:s,placeholder:o,type:h,dynamic:f,icon:p,iconLeft:g,wrapperRef:m,invalid:v,onIconClick:y,onKeyDown:b,id:w,onFocus:_,stopPropagation:A,customProps:E,disabled:C,design:x,clearIcon:S,required:T,invalidMessage:I,emptyValue:O,autoComplete:P,left:M,right:B}=this.props,{valid:k,right:R,initial:L,value:F}=this.state,D=S&&(R||!(0,u.TF)(n)||L&&!(0,u.TF)(t))?"fa fa-times":p;return x===d.BORDER_DESIGN?a.createElement("div",{className:(0,i.Z)("input--border-design",e,(R||!(0,u.TF)(n)||L&&!(0,u.TF)(t))&&"input--label-right",(!k||v)&&"input--border-design--invalid",f===d.BOTTOM_DYNAMIC?"input--bottom-dynamic":f&&"input--dynamic",C&&"input--disabled",T&&"input--border-design--required",D&&"input--border_has-icon",B&&"input--border_has-right",M&&"input--border_has-left"),onClick:()=>{this.ref.focus()},style:s},g&&a.createElement(c.Z,{icon:g,className:"input__icon-left"}),M,a.createElement("div",{className:"input__input-wrapper"},a.createElement("input",(0,r.Z)({ref:this.setRef,value:n,defaultValue:t,onKeyUp:this.onKeyUp,onKeyDown:b,onBlur:this.onBlur,onChange:this.onChange,onKeyPress:this.onKeyPress,onPaste:this.onPaste,onFocus:_,type:h||"text",id:w||this.id,required:!0,onClick:A?e=>e.stopPropagation():null,disabled:C,autoComplete:P},E)),o&&!O&&a.createElement("label",{htmlFor:w||this.id},a.createElement("div",{className:"space"},(0,u.HD)(n)?n:F),a.createElement("div",{className:"ellipsis"},(v||!k)&&I&&(n||F||t)?I:o)),O&&!(n||null==n&&F||t)&&a.createElement("div",{style:{position:"absolute",top:0,left:0,color:"var(--chayns-color--text)"}},O)),B,D&&a.createElement(l.Z,{onClick:this.onIconClick},a.createElement(c.Z,{icon:D,style:!y&&!S||C?null:{pointerEvents:"all"},className:"input__icon-right"}))):f||D?a.createElement("div",{className:(0,i.Z)("input-group",e,(R||!(0,u.TF)(n)||L&&!(0,u.TF)(t))&&"labelRight",C&&"input-group--disabled"),ref:m},a.createElement("input",(0,r.Z)({style:{width:"100%",paddingRight:D?"30px":null,...s},ref:this.setRef,className:(0,i.Z)("input",e,(!k||v)&&"input--invalid"),value:n,defaultValue:t,onKeyUp:this.onKeyUp,onKeyDown:b,onBlur:this.onBlur,onChange:this.onChange,onFocus:_,type:h||"text",id:w||this.id,required:!0,onClick:A?e=>e.stopPropagation():null,disabled:C,autoComplete:P},E)),o&&a.createElement("label",{style:{paddingRight:D?"30px":null},htmlFor:w||this.id,className:(0,i.Z)((!k||v)&&"input--invalid",D&&"labelIcon")},a.createElement("div",{className:"space"},(0,u.HD)(n)?n:F),a.createElement("div",{className:"ellipsis"},o)),D?a.createElement(c.Z,{icon:D,className:"input-group__icon",style:D?{opacity:".3",pointerEvents:"all"}:{opacity:"0"},onClick:this.onIconClick}):null):a.createElement("input",(0,r.Z)({className:(0,i.Z)("input",e,(!k||v)&&"input--invalid",C&&"input--disabled"),style:{width:"100%",...s},placeholder:o,onKeyUp:this.onKeyUp,onKeyDown:b,onBlur:this.onBlur,onChange:this.onChange,onFocus:_,value:n,defaultValue:t,type:h,ref:this.setRef,id:w||this.id,onClick:A?e=>e.stopPropagation():null,required:!0,disabled:C,autoComplete:P},E))}}d.DEFAULT_DESIGN=0,d.BORDER_DESIGN=1,d.MOVING_DYNAMIC=!0,d.NO_DYNAMIC=!1,d.BOTTOM_DYNAMIC=2,d.propTypes={className:o().string,onKeyUp:o().func,onKeyDown:o().func,onEnter:o().func,onChange:o().func,onBlur:o().func,onFocus:o().func,regExp:o().instanceOf(RegExp),style:o().objectOf(o().oneOfType([o().number,o().string])),placeholder:o().string,value:o().oneOfType([o().string,o().number]),defaultValue:o().oneOfType([o().string,o().number]),invalid:o().bool,type:o().string,inputRef:o().func,icon:o().oneOfType([o().string,o().object]),onIconClick:o().func,wrapperRef:o().func,dynamic:o().oneOfType([o().bool,o().number]),customProps:o().object,id:o().string,stopPropagation:o().bool,required:o().bool,disabled:o().bool,clearIcon:o().bool,design:o().number,iconLeft:o().oneOfType([o().string,o().object]),left:o().node,right:o().node,invalidMessage:o().string,emptyValue:o().oneOfType([o().string,o().number]),autoComplete:o().string},d.defaultProps={className:"",onKeyUp:null,onKeyDown:null,onEnter:null,onChange:null,onBlur:null,onFocus:null,regExp:null,style:{},placeholder:"",value:void 0,defaultValue:void 0,invalid:!1,type:"text",inputRef:null,icon:null,onIconClick:null,wrapperRef:null,dynamic:!1,customProps:null,id:null,stopPropagation:!1,required:!1,disabled:!1,clearIcon:!1,design:d.DEFAULT_DESIGN,iconLeft:null,left:null,right:null,invalidMessage:null,emptyValue:null,autoComplete:"off"},d.displayName="Input"},8041:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Ze});var r=n(7462),i=n(5697),s=n.n(i),o=n(7294),a=n(1296),l=n.n(a);const c={data:{personsUnrelated:[],personsRelated:[],sites:[],friends:[],groups:[],knownPersons:[],uacPersons:[]},showWaitCursor:{personsRelated:!1,sites:!1,personsUnrelated:!1,groups:!1,knownPersons:!1,uacPersons:!1},isLoading:{personsRelated:!1,sites:!1,personsUnrelated:!1,groups:!1,knownPersons:!1,uacPersons:!1},hasMore:{personsRelated:!0,sites:!0,personsUnrelated:!1,groups:!1,knownPersons:!1,uacPersons:!1}},u=function(e,t){switch(void 0===e&&(e=c),t.type){case"REQUEST_PERSONS":return{...e,data:t.clear?{...e.data,personsRelated:[],personsUnrelated:[]}:e.data,showWaitCursor:{...e.showWaitCursor,...t.showWaitCursor},isLoading:{...e.isLoading,...t.isLoading}};case"REQUEST_SITES":return{...e,data:t.clear?{...e.data,sites:[]}:e.data,showWaitCursor:{...e.showWaitCursor,sites:t.showWaitCursor},isLoading:{...e.isLoading,sites:!0}};case"REQUEST_FRIENDS":return{...e,data:t.clear?{...e.data,friends:[]}:e.data,showWaitCursor:{...e.showWaitCursor,friends:t.showWaitCursor},isLoading:{...e.isLoading,friends:!0}};case"REQUEST_KNOWN_PERSONS":return{...e,data:t.clear?{...e.data,knownPersons:[]}:e.data,showWaitCursor:{...e.showWaitCursor,knownPersons:t.showWaitCursor},isLoading:{...e.isLoading,knownPersons:!0}};case"REQUEST_UAC_PERSONS":return{...e,data:t.clear?{...e.data,uacPersons:[]}:e.data,showWaitCursor:{...e.showWaitCursor,uacPersons:t.showWaitCursor},isLoading:{...e.isLoading,uacPersons:!0}};case"RECEIVE_PERSONS":return{...e,data:{...e.data,personsRelated:[...e.data.personsRelated,...t.data.personsRelated],personsUnrelated:[...e.data.personsUnrelated,...t.data.personsUnrelated]},showWaitCursor:{...e.showWaitCursor,personsRelated:!1,personsUnrelated:!1},isLoading:{...e.isLoading,...t.isLoading},hasMore:{...e.hasMore,...t.hasMore}};case"RECEIVE_SITES":return{...e,data:{...e.data,sites:[...e.data.sites,...t.data]},showWaitCursor:{...e.showWaitCursor,sites:!1},isLoading:{...e.isLoading,sites:!1},hasMore:{...e.hasMore,sites:t.hasMore}};case"RECEIVE_FRIENDS":return{...e,data:{...e.data,friends:[...e.data.friends,...t.data]},showWaitCursor:{...e.showWaitCursor,friends:!1},isLoading:{...e.isLoading,friends:!1},hasMore:{...e.hasMore,friends:!1}};case"RECEIVE_GROUPS":return{...e,data:{...e.data,groups:t.data},showWaitCursor:{...e.showWaitCursor,groups:!1},isLoading:{...e.isLoading,groups:!1},hasMore:{...e.hasMore,groups:!1}};case"RECEIVE_KNOWN_PERSONS":return{...e,data:{...e.data,knownPersons:[...e.data.knownPersons,...t.data]},showWaitCursor:{...e.showWaitCursor,knownPersons:!1},isLoading:{...e.isLoading,knownPersons:!1},hasMore:{...e.hasMore,knownPersons:t.hasMore}};case"RECEIVE_UAC_PERSONS":return{...e,data:{...e.data,uacPersons:[...e.data.uacPersons,...t.data]},showWaitCursor:{...e.showWaitCursor,uacPersons:!1},isLoading:{...e.isLoading,uacPersons:!1},hasMore:{...e.hasMore,uacPersons:t.hasMore}};case"ADD_FRIEND":return{...e,data:{...e.data,friends:[...e.data.friends,t.data]}};case"REMOVE_FRIEND":return{...e,data:{...e.data,friends:e.data.friends.filter((e=>e.personId!==t.data.personId))}};default:return e}};n(3367);var h=n(2245);const d="https://cube.tobit.cloud/uac-service/v1/";class f extends Error{static Parse(e){if(!e.errorCode)throw new Error("response does not contain a chayns-exception");const t=new f(e.errorCode,e.innerException);return e.parameters&&Object.entries(e.parameters).forEach((([e,n])=>{t.addParameter(e,n)})),e.displayMessage&&(t._displayMessage=e.displayMessage),t}constructor(e,t,n){super(e),this.parameters=new Map,this.innerError=t,this.errorCode=e,this.statusCode=n}getErrorCode(){return this.errorCode}getInnerError(){return this.innerError}getParameters(){if(!this.parameters.size)return null;const e={};return this.parameters.forEach(((t,n)=>{e[n]=t})),e}get innerException(){return this.innerError}get displayMessage(){return this._displayMessage}addParameter(e,t,n=!1){return!n&&this.parameters.has(e)||this.parameters.set(e,t),this}toJSON(){const e={errorCode:this.errorCode};if(this.parameters.size){const t={};this.parameters.forEach(((e,n)=>{t[n]=e})),e.parameters=t}return this.displayMessage&&(e.displayMessage=this.displayMessage),e}}class p{critical(e,t){console.error(e,t)}debug(e){console.debug(e)}error(e,t){console.error(e,t)}info(e){console.info(e)}warning(e,t){console.warn(e,t)}}var g;!function(e){e[e.DAYS=0]="DAYS",e[e.HOURS=1]="HOURS",e[e.MINUTES=2]="MINUTES",e[e.SECONDS=3]="SECONDS",e[e.MILLISECONDS=4]="MILLISECONDS",e[e.TICKS=5]="TICKS"}(g||(g={}));const m=n(1583);function v(e){if(!e)return;let{value:t,scale:n}=e;m.isLong(t)&&(t=t.toNumber());let r=t;return n===g.TICKS?r=Math.floor(t/1e4):n===g.MILLISECONDS?r=t:n===g.SECONDS?r=1e3*t:n===g.MINUTES?r=Math.floor(60*t*1e3):n===g.HOURS?r=Math.floor(60*t*60*1e3):n===g.DAYS&&(r=Math.floor(24*t*60*60*1e3)),new Date(r).toISOString()}function y(e){return{value:new Date(e).getTime(),scale:4}}var b;!function(e){e.Read="uac.read",e.Create="uac.create",e.Edit="uac.edit",e.Manage="uac.manage",e.ReadMembers="uac.members_read",e.AddMembers="uac.members_add",e.ManageMembers="uac.members_manage",e.ReadPayment="uac.payment_read",e.EditPayment="uac.payment_edit"}(b||(b={}));const w=e=>{if(!e)return;const{lo:t,hi:n,signScale:r}=e;if(0!==n)throw new Error("Number too big");return t/10**(r<0?~r:r)*(r<0?-1:1)};const _=new class{constructor(e){var{getDefaultSiteId:t,logger:n,baseUrl:r,getDefaultPersonId:i}=e,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["getDefaultSiteId","logger","baseUrl","getDefaultPersonId"]);"getToken"in s&&(this.getToken=s.getToken),"getApiToken"in s&&(this.getApiToken=s.getApiToken),this.getDefaultSiteId=t,this.logger=n||new p,this.baseUrl=d,this.isInNode="undefined"==typeof window;const o="could not reach baseurl, fallback to default "+d;this.testBaseUrlPromise=r?new Promise((e=>{fetch(`${r}/_health`).then((e=>{e.ok?(null==n||n.info({message:"Using custom baseUrl for uac-service"}),this.baseUrl=r+"/"):(null==n||n.info({message:o}),console.log(o))})).catch((()=>{null==n||n.info({message:o}),console.log(o)})).finally((()=>{e()}))})):Promise.resolve(),this.getDefaultPersonId=i}getTokenForFetch(e){if(this.getToken)return this.getToken();if(this.getApiToken)return this.getApiToken(e);throw new Error("No api token function provided")}async logFetch(e,t={},n){var r;const i={authorization:`Bearer ${await this.getTokenForFetch(n.roles)}`,accept:"application/protobuf","content-type":"application/protobuf"};this.isInNode&&(i["user-agent"]="@chayns/uac-service package"),await this.testBaseUrlPromise;const s=(null==n?void 0:n.siteId)||this.getDefaultSiteId&&this.getDefaultSiteId(),o=`${this.baseUrl}${n.withoutSiteId?"":(s?s+"/":"")||""}${e}`;try{const e=await fetch(o,Object.assign({headers:i},t));if(!e.ok&&(null===(r=e.headers.get("content-type"))||void 0===r?void 0:r.includes("json"))){const t=await e.json(),n=f.Parse(t);throw this.logger.error({message:`Failed to fetch ${o}`},n),n}return e.headers.get("Deprecation")&&this.logger.error({message:"Deprecated endpoint called",customText:o,data:{deprecation:e.headers.get("Deprecation")}}),new Uint8Array(await e.arrayBuffer())}catch(e){throw(a=e)&&a instanceof f||this.logger.error({message:`Failed to fetch ${o}`},e),e}var a}async getUserGroups({siteId:e,countUsers:t=!1,countInvitations:n=!1,withMeta:r=!1}){const i=new URLSearchParams;t&&i.set("countUsers",String(t)),n&&i.set("countInvitations",String(n)),r&&i.set("withMeta",String(r));const s=await this.logFetch(`UserGroup?${i.toString()}`,{},{siteId:e,roles:[b.Read,b.Manage]});return r?h.UserGroups.decode(s).userGroups.map((e=>Object.assign(Object.assign({},e),{admissionFee:w(e.userGroupMeta.admissionFee),subscriptionPrice:w(e.userGroupMeta.subscriptionPrice),membercardCancellationDescription:e.userGroupMeta.membercardCancellationDescription,subscriptionInterval:e.userGroupMeta.subscriptionInterval,userGroupMeta:void 0}))):h.UserGroups.decode(s).userGroups}async getUserGroup({groupId:e,siteId:t,countUsers:n=!1,countInvitations:r=!1}){const i=new URLSearchParams;n&&i.set("countUsers",String(n)),r&&i.set("countInvitations",String(r));const s=await this.logFetch(`UserGroup/${e.toString()}?${i.toString()}`,{},{siteId:t,roles:[b.Read,b.Manage]});return h.UserGroup.decode(s)}async getGroupMembers({groupId:e,siteId:t,skip:n,take:r,sortByDate:i}){const s=new URLSearchParams;n&&s.set("skip",String(n)),r&&s.set("take",String(r)),i&&s.set("sortByDate",String(i));const o=await this.logFetch(`UserGroup/${e}/Users?${s.toString()}`,{},{siteId:t,roles:[b.ReadMembers,b.ManageMembers]}),{groupMembers:a}=h.GroupMembers.decode(o);return a.map((e=>Object.assign(Object.assign({},e),{creationTime:v(e.creationTime),expirationTime:v(e.expirationTime)})))}async getMembership({personId:e,siteId:t,groupId:n}){const r=await this.logFetch(`UserGroup/${n.toString()}/Users/${(null==e?void 0:e.toString())||this.getDefaultPersonId&&this.getDefaultPersonId()||""}`,{},{siteId:t,roles:[b.ReadMembers,b.ManageMembers]}),i=h.GroupMember.decode(r);return Object.assign(Object.assign({},i),{creationTime:v(i.creationTime),expirationTime:v(i.expirationTime)})}async getGroupInvitations({siteId:e,groupId:t}){const n=await this.logFetch(`UserGroup/${t.toString()}/Invitations`,{},{siteId:e,roles:[b.ReadMembers,b.ManageMembers]});return h.GroupInvitations.decode(n).groupInvitations}async getGroupsForUser(e){const t=new URLSearchParams,n=this.getPersonId(e);n&&t.set("personId",n);const r=await this.logFetch(`UserGroup/User?${t.toString()}`,{},{siteId:e.siteId,roles:[b.ReadMembers,b.ManageMembers]});return h.UserGroups.decode(r).userGroups}async isUserInGroup({groupId:e,siteId:t,personId:n}){var r,i;const s=new URLSearchParams({personId:n}),o=await this.logFetch(`UserGroup/${e.toString()}/InGroup?${s.toString()}`,{},{siteId:t,roles:[b.ReadMembers,b.ManageMembers]});return{inGroup:null!==(i=null===(r=h.InGroup.decode(o))||void 0===r?void 0:r.inGroup)&&void 0!==i&&i}}async getMembershipSites(e){const t=new URLSearchParams,n=this.getPersonId(e);n&&t.set("personId",n);const r=await this.logFetch(`UserGroup/${e.groupId.toString()}/Sites?${t.toString()}`,{},{withoutSiteId:!0,roles:[b.ReadMembers,b.ManageMembers]});return h.SiteInfos.decode(r).siteInfos}async searchMembers({siteId:e,searchTerm:t,userGroupIds:n,skip:r,take:i}){if(t.length<3)throw new Error("Parameter searchTerm must at least 3 characters");const s=new URLSearchParams({query:t});n&&s.set("userGroupIds",n.join(",")),r&&s.append("skip",`${r}`),i&&s.append("take",`${i}`);const o=await this.logFetch(`UserGroup/Users/Search?${s.toString()}`,{},{siteId:e,roles:[b.ReadMembers,b.ManageMembers]}),{groupMembers:a}=h.GroupMembers.decode(o);return a.map((e=>Object.assign(Object.assign({},e),{creationTime:v(e.creationTime)})))}async getInvitedGroups({siteId:e,personId:t}){const n=new URLSearchParams,r=t||this.getDefaultPersonId&&this.getDefaultPersonId();r&&n.set("personId",r);let i=e;!i&&this.getDefaultSiteId&&(i=this.getDefaultSiteId());const s=await this.logFetch(`Invitation/${i}/Groups?${n.toString()}`,{},{withoutSiteId:!0,roles:[b.ReadMembers,b.ManageMembers]});return h.UserGroups.decode(s).userGroups}async createUserGroup({siteId:e,showName:t,description:n,pageId:r,parentGroupId:i,users:s=[]}){const o={showName:t,description:n,pageId:r,parentGroupId:i,createUserGroupRequest:{users:s}},a=h.UserGroup.create(o),l=h.UserGroup.encode(a).finish(),c=await this.logFetch("UserGroup",{body:l,method:"POST"},{siteId:e,roles:[b.Create,b.Manage]});return h.UserGroup.decode(c)}async copyUserGroup({groupId:e,siteId:t}){const n=await this.logFetch(`UserGroup/${e.toString()}/Copy`,{method:"POST"},{siteId:t,roles:[b.Create,b.Manage]});return h.UserGroup.decode(n)}async addUserToGroup({personId:e,groupId:t,siteId:n,expirationTime:r,force:i,ignoreConflict:s}){const o=new URLSearchParams;i&&o.set("force",String(i));const a={personId:e};r&&(a.expirationTime=y(r));const l=h.GroupMember.create(a),c=h.GroupMember.encode(l).finish();try{return await this.logFetch(`UserGroup/${t.toString()}/Users?${o.toString()}`,{body:c,method:"POST"},{siteId:n,roles:[b.AddMembers,b.ManageMembers]}),{success:!0}}catch(e){if(!s)throw e;return{success:!1}}}async addUsersToGroup({groupId:e,siteId:t,members:n}){const r=h.GroupMembers.create({groupMembers:n}),i=h.GroupMembers.encode(r).finish(),s=await this.logFetch(`UserGroup/${e.toString()}/Users/Bulk`,{body:i,method:"POST"},{siteId:t,roles:[b.AddMembers,b.ManageMembers]});return h.AddUserToGroupResponse.decode(s)}async updateUserGroup({groupId:e,siteId:t,values:n}){const r=h.UserGroupUpdateRequest.create(n),i=h.UserGroupUpdateRequest.encode(r).finish(),s=await this.logFetch(`UserGroup/${e.toString()}`,{body:i,method:"PATCH"},{siteId:t,roles:[b.Edit,b.Manage]});return h.UserGroup.decode(s)}async updateMembership({personId:e,groupId:t,siteId:n,expirationTime:r}){const i=h.UpdateUacMemberRequest.create({expirationTime:r?y(r):null}),s=e||this.getDefaultPersonId&&this.getDefaultPersonId(),o=h.UpdateUacMemberRequest.encode(i).finish(),a=await this.logFetch(`UserGroup/${t.toString()}/Users/${s||""}`,{body:o,method:"PATCH"},{siteId:n,roles:[b.ManageMembers]}),l=h.GroupMember.decode(a);return Object.assign(Object.assign({},l),{creationTime:v(l.creationTime),expirationTime:v(l.expirationTime)})}async deleteUserGroup({groupId:e,siteId:t}){return await this.logFetch(`UserGroup/${e.toString()}`,{method:"DELETE"},{siteId:t,roles:[b.Manage]}),null}async removeUserFromGroup({personId:e,groupId:t,siteId:n,ignoreConflict:r}){try{const r=e||this.getDefaultPersonId&&this.getDefaultPersonId(),i=await this.logFetch(`UserGroup/${t.toString()}/Users/${r}`,{method:"DELETE"},{siteId:n,roles:[b.ManageMembers]});return{success:!0,expirationTime:v(h.RemoveUserResponse.decode(i).expirationTime)}}catch(e){if(!r)throw e;return{success:!1,expirationTime:void 0}}}getPersonId(e){return"personId"in e&&e.personId?e.personId:this.getDefaultPersonId&&this.getDefaultPersonId()?this.getDefaultPersonId():""}}({getToken:()=>chayns.env.user.tobitAccessToken||"",getDefaultSiteId:()=>chayns.env.site.id||"",getDefaultPersonId:()=>chayns.env.user.personId||""}),A="https://webapi.tobit.com/AccountService/v1.0/chayns/friends",E={},C=(e,t)=>{E[e]instanceof AbortController&&E[e].abort();const n=new AbortController,{signal:r}=n;return E[e]=n,fetch(t.url,{...t.config,signal:r})},x=e=>async(t,n,r)=>chayns.env.user.isAuthenticated?_.searchMembers({userGroupIds:[e],searchTerm:t,skip:n,take:r}).catch((e=>(console.error("[chayns components] Personfinder: uacServiceClient.searchMembers failed",e),[]))):(chayns.login(),Promise.reject(new Error("Not authenticated"))),S=x(-1);function T(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var I=0;function O(e){return"__private_"+I+++"_"+e}var P=O("events"),M=n(1198),B=O("friends"),k=O("friendsObject"),R=O("eventEmitter"),L=O("initialized"),F=O("loading");class D{}Object.defineProperty(D,B,{writable:!0,value:[]}),Object.defineProperty(D,k,{writable:!0,value:{}}),Object.defineProperty(D,R,{writable:!0,value:new class{constructor(){Object.defineProperty(this,P,{writable:!0,value:[]}),this.on=this.on.bind(this),this.off=this.off.bind(this),this.emit=this.emit.bind(this),this.once=this.once.bind(this),this.removeListener=this.removeListener.bind(this)}on(e,t){return T(this,P)[P][e]||(T(this,P)[P][e]=[]),T(this,P)[P][e].push(t),this}off(e,t){return this.removeListener(e,t),this}removeListener(e,t){if(T(this,P)[P][e]){const n=T(this,P)[P][e].indexOf(t);n>-1&&T(this,P)[P][e].splice(n,1)}}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];T(this,P)[P][e]&&T(this,P)[P][e].forEach((e=>e(...n)))}once(e,t){var n=this;const r=function(){n.removeListener(e,r),t(...arguments)};this.on(e,r)}}}),Object.defineProperty(D,L,{writable:!0,value:!1}),Object.defineProperty(D,F,{writable:!0,value:!1}),D.init=async()=>{if(!(0,M.s)()&&!T(D,L)[L]&&!T(D,F)[F])try{if(T(D,F)[F]=!0,await window.chayns.ready,window.chayns.env.user&&window.chayns.env.user.isAuthenticated){const e=await(async()=>{let e=[];const t=await fetch(A,{method:"GET",headers:{Authorization:`bearer ${chayns.env.user.tobitAccessToken}`,Accept:"application/json"}});return t.ok?e=204!==t.status?await t.json():[]:console.error("[chayns components] Personfinder: failed to fetch friends",t.status),e})().catch((()=>[]));T(D,B)[B]=e.map(D.convertFriend),T(D,B)[B].forEach((e=>{T(D,k)[k][e.personId]=e})),T(D,R)[R].emit("update",T(D,B)[B])}T(D,L)[L]=!0}finally{T(D,F)[F]=!1}},D.isFriend=e=>!!T(D,k)[k][e],D.getFriendsList=()=>T(D,B)[B],D.setFriend=async function(e,t,n,r){void 0===r&&(r=!0);const i=await async function(e,t){return void 0===t&&(t=!0),200===(await fetch(`${A}?friend=${e}`,{method:t?"POST":"DELETE",headers:{Authorization:`Bearer ${chayns.env.user.tobitAccessToken}`}})).status}(e,r);if(i){if(r){const r=D.convertFriend({personId:e,userId:t,fullName:n});T(D,B)[B].push(r),T(D,k)[k][e]=r}else T(D,B)[B].splice(T(D,B)[B].findIndex((t=>t.personId===e)),1),delete T(D,k)[k][e];T(D,R)[R].emit("update",T(D,B)[B])}},D.addUpdateListener=e=>{T(D,R)[R].on("update",e)},D.removeUpdateListener=e=>{T(D,R)[R].off("update",e)},D.convertFriend=e=>({type:"PERSON",id:e.personId,name:e.fullName||[e.firstName,e.lastName].join(" ").trim(),userId:e.userId,fullName:e.fullName||[e.firstName,e.lastName].join(" ").trim(),firstName:e.firstName,lastName:e.lastName,personId:e.personId,imageUrl:`https://sub60.tobit.com/u/${e.personId}?size=100`,isFriend:!0,verificationState:!!e.verificationState});const N=D,j=e=>{if("siteId"in e)return{type:"SITE",...e};if("type"in e&&"GROUP"===e.type)return{type:"GROUP",...e};const t=e.fullName||e.name||e.UserFullName||[e.firstName||e.firstname,e.lastName||e.lastname].join(" ").trim();return{type:"PERSON",id:e.personId||e.PersonID,name:t,userId:e.userId||e.UserID,personId:e.personId||e.PersonID,fullName:t,firstName:e.firstName||e.firstname||e.FirstName,lastName:e.lastName||e.lastname||e.LastName,relations:e.relations,relationCount:e.relationCount,imageUrl:`https://sub60.tobit.com/u/${e.personId||e.PersonID}?size=100`,isFriend:N.isFriend(e.personId||e.PersonID),verificationState:!!e.verificationState}},U=e=>{const{id:t,name:n,...r}=e;return r},G=e=>{const t=[],n=[];return e.forEach((e=>{const r=j(e);!("score"in e)||e.score>0?n.push(r):t.push(r)})),{personsUnrelated:t,personsRelated:n}},z=e=>e.map((e=>({type:"SITE",id:e.siteId,name:e.name,imageUrl:`https://sub60.tobit.com/l/${e.siteId}?size=100`,siteId:e.siteId,locationId:e.locationId})));function V(e){let t=e.toLowerCase();return t=t.normalize("NFD").replace(/[\u0300-\u036f]/g,""),t=t.replace(/[]/g,"s"),t=t.replace(/c/g,"k"),t=t.replace(/y/g,"j"),t=t.replace(/[^a-z0-9]/g," "),t=t.replace(/(.)\1+/g,"$1"),t=t.replace(/oe/g,"o"),t=t.replace(/ue/g,"u"),t=t.replace(/ae/g,"a"),t=t.replace(/(.)\1+/g,"$1"),t=t.trim(),t}const H={groups:[{key:"friends",lang:{de:"Freunde",en:"friends"},roundIcons:!0,filter:e=>t=>!e||t.name&&` ${V(t.name)}`.includes(` ${V(e)}`)||t.personId&&t.personId===e},{key:"personsRelated",lang:{de:"Personen",en:"persons"},roundIcons:!0,show:e=>e&&e.length>=3},{key:"sites",lang:{de:"Sites",en:"friends"},roundIcons:!1,show:e=>e&&e.length>=3},{key:"personsUnrelated",lang:{de:"Weitere Personen",en:"further friends"},roundIcons:!0,show:e=>e&&e.length>=3},{key:"groups",lang:{de:"Gruppen",en:"groups"},filter:e=>t=>t.name&&t.name.toLowerCase().startsWith((e||"").toLowerCase())},{key:"knownPersons",lang:{de:"Bekannte Personen",en:"known persons"},roundIcons:!0,show:e=>e&&e.length>=3},{key:"uacPersons",lang:{de:"Personen",en:"persons"},roundIcons:!0,show:e=>e&&e.length>=3},{key:"addEntry",lang:{de:"Hinzufgen",en:"Add"}}],showName:"name",identifier:"id",search:["fullName","firstName","lastName","personId"],relations:"relations",imageUrl:"imageUrl",verified:"verificationState"},Z=(0,o.createContext)({...c,dispatch:()=>console.warn("[chayns components] PersonsContext: dispatch: no context provided"),onChange:()=>console.warn("[chayns components] PersonsContext: onChange: no context provided"),onLoadMore:()=>console.warn("[chayns components] PersonsContext: onLoadMore: no context provided"),setFriend:()=>console.warn("[chayns components] PersonsContext: setFriend: no context provided"),isFriend:()=>console.warn("[chayns components] PersonsContext: isFriend: no context provided")}),W=e=>{let{children:t,take:n,enablePersons:r,enableSites:i,enableFriends:s,enableUacGroups:a,enableKnownPersons:h,includeOwn:d,uacId:f,reducerFunction:p,inputValue:g,addInputToList:m}=e;const[v,y]=(0,o.useReducer)(u,c),b=v.data.personsUnrelated.length+v.data.personsRelated.length,w=v.data.sites.length,A=v.data.knownPersons.length,E=v.data.uacPersons.length,T=(0,o.useRef)(!1),I=(0,o.useRef)(!1),[O,P]=(0,o.useState)("");(0,o.useEffect)((()=>{if(!s)return;N.init();const e=()=>y({type:"RECEIVE_FRIENDS",data:[]});return e(N.getFriendsList()),N.addUpdateListener(e),()=>N.removeUpdateListener(e)}),[s]),(0,o.useEffect)((()=>{(async()=>{if(!a||I.current)return;let e=await(async()=>(await _.getUserGroups({countUsers:!1,withMeta:!0}).catch((e=>(console.error("[chayns components] Personfinder: uacServiceClient.getUserGroups failed",e),[])))).map((e=>({id:e.id,name:e.showName,locationId:chayns.env.site.locationId,tappId:e.pageId||0,pageId:e.pageId||0,showName:e.showName,description:e.description,isSystemGroup:!!e.isSystemGroup}))))();e=e.map((e=>{let{id:t,showName:n}=e;return{type:"GROUP",id:t,name:n,imageUrl:`https://sub60.tobit.com/l/${chayns.env.site.id}?size=100`}})),y({type:"RECEIVE_GROUPS",data:e}),I.current=!0})()}),[a]);const M=(0,o.useCallback)((async function(e,t){void 0===t&&(t=!1);const i=e.trim();if(i.length<3||!r||f)return;y({type:"REQUEST_PERSONS",showWaitCursor:{personsRelated:v.hasMore.personsRelated,personsUnrelated:!v.hasMore.personsRelated},clear:t});const s=await(async(e,t,n)=>{if(!chayns.env.user.isAuthenticated)return chayns.login(),Promise.reject(new Error("Not authenticated"));let r=[],i="https://relations.chayns.net/relations/v2/person";e.match(/^[A-NP-Z0-9]{3}-[A-NP-Z0-9]{5}$/)?i+=`?personId=${e}`:i+=`?skip=${t}&take=${n}&query=${e}`;const s=await C("persons",{url:i,config:{method:"GET",headers:{Accept:"application/json",Authorization:`bearer ${chayns.env.user.tobitAccessToken}`}}});return s.ok?r=204!==s.status?(await s.json()).list:[]:console.error("[chayns components] Personfinder: failed to fetch persons",s.status),r})(i,t?0:b,n),o=G(s),a={personsRelated:o.personsRelated.length===n,personsUnrelated:s.length===n},[l]=G([{type:"PERSON",name:chayns.env.user.fullName,id:chayns.env.user.personId,fullName:chayns.env.user.fullName,firstName:chayns.env.user.firstName,lastName:chayns.env.user.lastName,personId:chayns.env.user.personId}]).personsRelated;d&&t&&chayns.env.user.isAuthenticated&&l.fullName&&l.fullName.toLowerCase().startsWith(i.toLowerCase())?o.personsRelated.unshift(l):!d&&o.personsRelated.some((e=>e.personId===l.personId))&&o.personsRelated.splice(o.personsRelated.findIndex((e=>e.personId===l.personId)),1),y({type:"RECEIVE_PERSONS",data:o,hasMore:a})}),[r,f,v.hasMore.personsRelated,b,n,d]),B=(0,o.useCallback)((async function(e,t){if(void 0===t&&(t=!1),e.length<3||!f)return;y({type:"REQUEST_UAC_PERSONS",showWaitCursor:!0,clear:t});const r=(await x(f)(e,t?0:E,n)).map(j),i=r.length===n;y({type:"RECEIVE_UAC_PERSONS",data:r,hasMore:i})}),[f,E,n]),k=(0,o.useCallback)((async function(e,t){if(void 0===t&&(t=!1),e.length<3||!i)return;y({type:"REQUEST_SITES",showWaitCursor:!0,clear:t});const r=await(async(e,t,n)=>{let r=[];const i=await C("sites",{url:`https://relations.chayns.net/relations/location/?query=${e}&skip=${t}&take=${n}`,config:{method:"GET",headers:{Accept:"application/json",Authorization:`bearer ${chayns.env.user.tobitAccessToken}`}}});return i.ok?r=204!==i.status?(await i.json()).list:[]:console.error("[chayns components] Personfinder: failed to fetch sites",i.status),r})(e,t?0:w,n);y({type:"RECEIVE_SITES",data:z(r),hasMore:r.length===n})}),[w,n,i]),R=(0,o.useCallback)((async function(e,t){if(void 0===t&&(t=!1),e.length<3||!h)return;y({type:"REQUEST_KNOWN_PERSONS",showWaitCursor:!0,clear:t});const r=await S(e,t?0:A,n);var i;y({type:"RECEIVE_KNOWN_PERSONS",data:(i=r,i.map((e=>({type:"KNOWN_PERSON",id:e.personId,name:[e.firstname,e.lastname].join(" ").trim(),personId:e.personId,fullName:[e.firstname,e.lastname].join(" ").trim(),firstName:e.firstname,lastName:e.lastname,imageUrl:`https://sub60.tobit.com/u/${e.personId}?size=100`})))),hasMore:r.length===n})}),[A,n,h]);(0,o.useEffect)((()=>{T.current||(R(""),T.current=!0)}),[R]);const L=(0,o.useCallback)(l()((async e=>{try{P(e),await Promise.all([M(e,!0),B(e,!0),k(e,!0),R(e,!0)])}catch(e){console.error(e)}}),500),[n,h,s,r,i,a,h,f]);(0,o.useEffect)((()=>{O&&L(O)}),[r,i,h,f]);const F=(0,o.useCallback)((async(e,t)=>{const n=[];(!e||"sites"!==e&&"knownPersons"!==e&&"uacPersons"!==e)&&n.push(M(t)),e&&"uacPersons"!==e||n.push(B(t)),e&&"sites"!==e||n.push(k(t)),e&&"knownPersons"!==e&&(r||"default"!==e)||n.push(R(t)),await Promise.all(n)}),[M,k,R,B,r]),D={personsRelated:r?v.data.personsRelated:[],personsUnrelated:r?v.data.personsUnrelated:[],sites:i?v.data.sites:[],groups:a?v.data.groups:[],knownPersons:h?v.data.knownPersons:[],uacPersons:f?v.data.uacPersons:[],friends:s?N.getFriendsList():[],addEntry:m?[{type:"ADD_ENTRY",id:-1,name:g||"Hinzufgen",imageUrl:"https://tsimg.cloud/77896-21884/0ef639efc1322459faf298467f6111383ea72c1a.svg"}]:[]};D.personsRelated=D.personsRelated.filter((e=>!D.friends.find((t=>t.personId===e.personId)))),D.personsUnrelated=D.personsUnrelated.filter((e=>!D.friends.find((t=>t.personId===e.personId))));const U="function"==typeof p?p(D):D;return o.createElement(Z.Provider,{value:{...v,data:U,autoLoading:!a&&!i&&(r&&!h||!r&&h),dispatch:y,onLoadMore:F,onChange:L,setFriend:N.setFriend,isFriend:N.isFriend}},t)};W.propTypes={children:s().oneOfType([s().arrayOf(s().node),s().node]),take:s().number,enablePersons:s().bool,enableSites:s().bool,enableFriends:s().bool,enableUacGroups:s().bool,enableKnownPersons:s().bool,includeOwn:s().bool,uacId:s().number,reducerFunction:s().func,addInputToList:s().bool,inputValue:s().string},W.defaultProps={children:null,take:20,enablePersons:!0,enableSites:!1,enableFriends:!0,enableUacGroups:!1,enableKnownPersons:!1,includeOwn:!1,uacId:null,reducerFunction:null,addInputToList:!1,inputValue:""};const J={Consumer:Z.Consumer,Provider:W,ObjectMapping:H,ValueConverter:j};var K=n(3553),X=n(9058);let q=null;var Y=n(4869);class Q extends o.PureComponent{constructor(){super(...arguments),this.handleDelete=e=>{const{value:t,onDelete:n}=this.props;n&&n(t,e)}}render(){const{children:e,selected:t,disableRemove:n}=this.props;return o.createElement("div",{className:"cc__tag"+(t?" cc__tag--selected":""),style:n?{paddingRight:10}:void 0},o.createElement("div",{className:"cc__tag__children"},e),!n&&o.createElement(Y.Z,{className:"icon",icon:"fa fa-times",onClick:this.handleDelete}))}}Q.propTypes={value:s().object.isRequired,children:s().oneOfType([s().node,s().arrayOf(s().node)]).isRequired,onDelete:s().func,selected:s().bool,disableRemove:s().bool},Q.defaultProps={onDelete:null,selected:!1,disableRemove:!1},Q.displayName="Tag";const $=13,ee=188;class te extends o.Component{constructor(e){super(e),this.handleKeyDown=e=>{const{onKeyDown:t}=this.props;t&&t(e),e.keyCode===ee&&e.preventDefault()},this.setInputRef=this.setInputRef.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this),this.handleTagRemove=this.handleTagRemove.bind(this),this.handleChange=this.handleChange.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleClick=this.handleClick.bind(this),this.state={selectedIndex:null}}componentDidUpdate(e){const{value:t,triggerEventOnValueChange:n}=this.props;n&&t!==e.value&&this.handleChange(t)}handleChange(){const{onChange:e}=this.props;this.setState({selectedIndex:null}),e&&e(...arguments)}handleKeyUp(e){const{value:t,disableRemove:n}=this.props;if(8===e.keyCode&&!t&&!n)return void this.handleRemoveLast();if(![$,ee].includes(e.keyCode)||!t)return;const r={text:t};this.handleTagAdd(r)}handleTagAdd(e){const{onAddTag:t}=this.props;t&&t(e)}handleTagRemove(e,t){const{onRemoveTag:n}=this.props;n&&n(e,t)}handleRemoveLast(){const{tags:e}=this.props,{selectedIndex:t}=this.state,n=e.length-1;t===n?(this.setState({selectedIndex:null}),this.handleTagRemove(e[n])):this.setState({selectedIndex:n})}handleClick(){this.input&&this.input.focus()}handleBlur(){const{value:e}=this.props;if(e){const t={text:e};this.handleTagAdd(t)}}setInputRef(e){this.input=e}focus(){return!!this.input&&(this.input.focus(),!0)}render(){const{tags:e,placeholder:t,value:n,className:i,style:s,disableRemove:a,design:l,max:c,addTagOnBlur:u,left:h,...d}=this.props,{selectedIndex:f}=this.state,{width:p}=function(e){return q||(q=document.createElement("div"),q.className="input",q.style.visibility="hidden",q.style.position="absolute",q.style.top="-999px",q.style.left="-999px",document.body.appendChild(q)),q.innerText=e,q.getBoundingClientRect()}(`${n||e.length>0?n:t}m`),g={width:`${p+20}px`,minWidth:"20px"};return o.createElement("div",{onClick:this.handleClick,className:(0,K.Z)(i,"cc__tag-input input",l===X.Z.BORDER_DESIGN&&"cc__tag-input--border-design"),style:s},h,e&&e.map(((e,t)=>o.createElement(Q,{key:e.id||t,value:e,onDelete:this.handleTagRemove,selected:f===t,disableRemove:a},e.text))),(!c||!e||c!==(null==e?void 0:e.length))&&o.createElement("div",{className:"cc__tag-input__input"},o.createElement(X.Z,(0,r.Z)({},d,{inputRef:this.setInputRef,value:n,onChange:this.handleChange,onKeyUp:this.handleKeyUp,onKeyDown:this.handleKeyDown,placeholder:e&&e.length?null:t,style:g,onBlur:u?this.handleBlur:void 0}))))}}te.DEFAULT_DESIGN=0,te.BORDER_DESIGN=1,te.propTypes={tags:s().arrayOf(s().shape({text:s().oneOfType([s().string,s().node])})),value:s().string,onAddTag:s().func,onRemoveTag:s().func,onChange:s().func,placeholder:s().string,className:s().string,style:s().objectOf(s().oneOfType([s().string,s().number])),triggerEventOnValueChange:s().bool,disableRemove:s().bool,design:s().number,max:s().number,addTagOnBlur:s().bool,left:s().node,onKeyDown:s().func},te.defaultProps={tags:null,onAddTag:null,onRemoveTag:null,placeholder:null,onChange:null,value:"",className:null,style:null,triggerEventOnValueChange:!1,disableRemove:!1,design:te.DEFAULT_DESIGN,max:null,addTagOnBlur:!1,left:null,onKeyDown:null},te.displayName="TagInput";var ne=n(1696),re=n(3935);const ie=e=>{let{parent:t,children:n}=e;const[r,i]=(0,o.useState)((()=>t||(0,M.s)()?null:document.createElement("div")));return(0,o.useEffect)((()=>{t?i(null):r||i(document.createElement("div"))}),[t,r]),(0,o.useEffect)((()=>{if(r)return r.className="cc_overlay-parent",document.body.appendChild(r),()=>{r.remove()}}),[r]),(0,M.s)()?null:re.createPortal(n,t||r)};ie.propTypes={parent:(0,M.s)()?i.any:(0,i.instanceOf)(Element),children:i.node.isRequired},ie.defaultProps={parent:null};const se=ie,oe=o.forwardRef(((e,t)=>{const{inputComponent:n,children:i,parent:s,inputRef:a,onFocus:l,className:c,overlayProps:u,boxClassName:h,style:d,onBlur:f,hasOpenCloseIcon:p,renderInline:g,hideInput:m,...v}=e,y=(0,o.useRef)(),b=(0,o.useRef)(),w=(0,o.useRef)(!1),[_,A]=(0,o.useState)(!0),[E,C]=(0,o.useState)(null);(0,o.useLayoutEffect)((()=>{if(y.current&&!_){var e,t,n;const r=y.current.getBoundingClientRect(),i=(0,M.s)()?null:s||document.body,o=null==i?void 0:i.getBoundingClientRect(),a=!!i&&(["absolute","relative"].includes(getComputedStyle(i).position)||i===document.body);C({top:r.top-(a?(null!==(e=null==o?void 0:o.top)&&void 0!==e?e:0)-i.scrollTop:0),bottom:r.bottom-(a?(null!==(t=null==o?void 0:o.top)&&void 0!==t?t:0)-i.scrollTop:0),left:r.left-(a&&null!==(n=null==o?void 0:o.left)&&void 0!==n?n:0),width:r.width})}}),[_,s]),(0,o.useImperativeHandle)(t,(()=>({focus(){A(!1)},blur(){A(!0)},getHiddenState:()=>_})),[_]),(0,o.useEffect)((()=>{function e(e){var t,n;(w.current||"click"!==e.type)&&(_||null!==(t=y.current)&&void 0!==t&&t.contains(e.target)||null!==(n=b.current)&&void 0!==n&&n.contains(e.target)||(A(!0),f&&(0,ne.mf)(f)&&f(e)))}function t(){A(!0)}function n(e){var n;let{keyCode:r,target:i}=e;9===r&&null!==(n=y.current)&&void 0!==n&&n.contains(i)&&t()}function r(){w.current=!0}function i(){w.current=!1}return document.addEventListener("click",e),document.addEventListener("mousedown",e),document.addEventListener("touchstart",r),document.addEventListener("touchend",i),document.addEventListener("mousemove",i),window.addEventListener("blur",t),window.addEventListener("keydown",n),()=>{document.removeEventListener("click",e),document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",r),document.removeEventListener("touchend",i),document.removeEventListener("mousemove",i),window.removeEventListener("blur",t),window.removeEventListener("keydown",n)}}),[_,f]);const x=(0,o.useCallback)((e=>{b.current=e,null!=u&&u.ref&&u.ref(e)}),[u]),S=(0,o.useCallback)((e=>{A((e=>!e)),e.stopPropagation()}),[]);if(!n)return null;const T=E?{width:E.width,top:E.bottom,left:E.left}:null;let{right:I,icon:O,onIconClick:P}=v;return p&&(v.design===X.Z.BORDER_DESIGN&&n.displayName===X.Z.displayName?I=o.createElement(Y.Z,{icon:"fa fa-chevron-down",style:{padding:"10px",alignItems:"center",alignSelf:"stretch"},onClick:S}):(O="fa fa-chevron-down",P=S)),o.createElement("div",{style:{display:g?"flex":"inline-block",...g?{height:"100%",flexDirection:"column"}:{},...d},className:(0,K.Z)(c,!g&&"cc__input-box"),ref:y},o.createElement(n,(0,r.Z)({},v,{right:I,icon:O,onIconClick:P,style:g&&m?{position:"absolute",visibility:"hidden"}:void 0,ref:a,onFocus:e=>(A(!1),l?l(e):null)})),g?o.createElement("div",{className:"cc__input-box--inline-wrapper scrollbar",style:{marginTop:m?0:20,overflow:"hidden auto"}},i):o.createElement(se,{parent:s},!(!E||!i)&&o.createElement("div",(0,r.Z)({onClick:e=>e.preventDefault(),className:(0,K.Z)("cc__input-box__overlay scrollbar",h),style:{...T,...null==u?void 0:u.style,..._?{display:"none"}:{}}},u,{ref:x}),i)))}));oe.propTypes={onBlur:s().func,inputComponent:s().oneOfType([s().func,s().node]),parent:"undefined"!=typeof Element?s().instanceOf(Element):()=>{},onFocus:s().func,children:s().oneOfType([s().node,s().arrayOf(s().node)]),className:s().string,boxClassName:s().string,inputRef:s().func,overlayProps:s().object,style:s().objectOf(s().oneOfType([s().string,s().number])),hasOpenCloseIcon:s().bool,renderInline:s().bool,hideInput:s().bool},oe.defaultProps={onBlur:null,inputComponent:X.Z,parent:null,onFocus:null,children:null,className:null,boxClassName:null,inputRef:null,overlayProps:null,style:null,hasOpenCloseIcon:!1,renderInline:!1,hideInput:!1},oe.displayName="InputBox";const ae=oe;function le(e,t,n){let r=[];return Array.isArray(t.groups)?t.groups.forEach((t=>{let{key:i,show:s,filter:o}=t;if(!(0,ne.mf)(s)||s(n)){let t;t=o?e[i].filter(o(n)):e[i],r=r.concat(t)}})):Object.keys(e).forEach((i=>{if(!(t&&t.groups&&t.groups[i]&&(0,ne.mf)(t.groups[i].filter))||t.groups[i].filter(n)(e[i])){const t=e[i];r=r.concat(t)}})),r}const ce={LOGGED_IN:{de:"eingelogged",en:"logged in"},DIVIDER_FRIEND:{de:"Freunde",en:" friends"},DIVIDER_PERSON:{de:"Personen",en:" persons"},DIVIDER_SITE:{de:"Sites",en:"sites"},DIVIDER_MORE_PERSON:{de:"Weitere Personen",en:" further persons"},DIVIDER_MORE_SITE:{de:"Weitere Sites",en:"further sites"},LOAD_MORE:{de:"Mehr anzeigen",en:" load more"},COMMON_SITE:{de:"gemeinsame Site",en:"common site"},COMMON_SITES:{de:"gemeinsame Sites",en:"common sites"}},ue=["de","en"];function he(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=chayns.env.language||"en");const r=ue.indexOf(n)>-1?n:"en";return(ce[e][r]||"")+(t?` ${t}`:"")}var de=n(4662);const fe=e=>{let{onClick:t,group:n,hide:r}=e;const i=(0,o.useCallback)((()=>{t&&t(n)}),[t,n]);return o.createElement("div",{className:"load-more",style:{display:"flex",justifyContent:"center",padding:"20px 0",...r?{display:"none"}:{}}},o.createElement(de.Z,{onClick:i},he("LOAD_MORE")))};fe.propTypes={onClick:s().func.isRequired,group:s().string.isRequired,hide:s().bool},fe.defaultProps={hide:!1},fe.displayName="LoadMore";const pe=fe,ge=e=>{let{personId:t,userId:n,name:r}=e;const{isFriend:i,setFriend:s}=(0,o.useContext)(Z);return o.createElement("div",{className:"friends"},o.createElement(Y.Z,{icon:i(t)?"fas fa-star":"far fa-star",onClick:e=>{e.stopPropagation(),s(t,n,r,!i(t))},className:i(t)?"chayns__color--yellow-3i":"chayns__color--004i"}))};ge.propTypes={personId:s().string.isRequired,userId:s().number,name:s().string.isRequired},ge.defaultProps={userId:null},ge.displayName="FriendsIndicator";const me=ge,ve=e=>{let{name:t,design:n,verified:r}=e;if(!r)return t||null;const i=(0,K.Z)(n===ve.DEFAULT_DESIGN&&"vcid-check",n===ve.GRAY_DESIGN&&"vcid-check--gray",n===ve.BLUE_DESIGN&&"vcid-check--blue");return o.createElement(o.Fragment,null,t," ",o.createElement("span",{className:i},o.createElement("span",null),o.createElement("span",null),o.createElement("span",null)))};ve.DEFAULT_DESIGN=0,ve.GRAY_DESIGN=1,ve.BLUE_DESIGN=2,ve.propTypes={name:s().string.isRequired,design:s().number,verified:s().bool},ve.defaultProps={design:ve.BLUE_DESIGN,verified:!1};const ye=ve;function be(e){e.stopPropagation()}const we={display:"inline"},_e=o.forwardRef(((e,t)=>{const{id:n,style:r,disabled:i,children:s,label:a,onChange:l,checked:c,className:u,defaultChecked:h,dangerouslySetLabel:d,labelStyle:f,labelClassName:p,stopPropagation:g}=e;let m=f;return a||d||s||(m={...f,...we}),o.createElement("div",{className:(0,K.Z)("cc__checkbox",u)},o.createElement("input",{key:"input",type:"checkbox",className:"checkbox",ref:t,onClick:g?be:null,onChange:l,id:n,disabled:i,checked:c,defaultChecked:h,style:r}),o.createElement("label",{key:"label",style:m,className:p,onClick:g?be:null,htmlFor:n,dangerouslySetInnerHTML:d},d?null:s||a||""))}));_e.propTypes={id:s().oneOfType([s().number,s().string]).isRequired,style:s().objectOf(s().oneOfType([s().string,s().number])),className:s().string,labelStyle:s().objectOf(s().oneOfType([s().string,s().number])),labelClassName:s().string,label:s().oneOfType([s().node,s().arrayOf(s().node)]),children:s().oneOfType([s().node,s().arrayOf(s().node)]),onChange:s().func,checked:s().bool,defaultChecked:s().bool,disabled:s().bool,dangerouslySetLabel:s().object,stopPropagation:s().bool},_e.defaultProps={style:null,className:null,label:null,labelClassName:null,labelStyle:null,children:null,onChange:null,checked:void 0,defaultChecked:void 0,disabled:!1,dangerouslySetLabel:null,stopPropagation:!1},_e.displayName="Checkbox";const Ae=_e,Ee={marginRight:"10px"},Ce=o.forwardRef(((e,t)=>{const{id:n,style:r,disabled:i,children:s,label:a,onChange:l,checked:c,className:u,defaultChecked:h,dangerouslySetLabel:d,labelStyle:f,labelClassName:p,stopPropagation:g}=e;let m=f;return a&&(m={...f,...Ee}),o.createElement("div",{className:(0,K.Z)("cc__switch",u)},o.createElement("input",{key:"input",type:"checkbox",className:"switch",ref:t,onChange:l,id:n,disabled:i,checked:c,defaultChecked:h,style:r,onClick:g?be:null}),o.createElement("label",{key:"label",className:p,htmlFor:n,dangerouslySetInnerHTML:d,style:m,onClick:g?be:null}),d?null:s||a||"")}));Ce.propTypes={id:s().oneOfType([s().number,s().string]).isRequired,style:s().object,className:s().string,labelStyle:s().object,labelClassName:s().string,label:s().oneOfType([s().node,s().arrayOf(s().node)]),children:s().oneOfType([s().node,s().arrayOf(s().node)]),onChange:s().func,checked:s().bool,defaultChecked:s().bool,disabled:s().bool,dangerouslySetLabel:s().object,stopPropagation:s().bool},Ce.defaultProps={style:null,className:null,label:null,labelClassName:null,labelStyle:null,children:null,onChange:null,checked:void 0,defaultChecked:void 0,disabled:!1,dangerouslySetLabel:null,stopPropagation:!1},Ce.displayName="ToggleButton";const xe=Ce;let Se=1;const Te=e=>{let{id:t,toggleButton:n,onChange:i,disabled:s,...a}=e;const l=(0,o.useRef)("cc_checkbox_"+Se++),c=e=>{!s&&i&&i(e.target.checked)},u=t||l.current;return n?o.createElement(xe,(0,r.Z)({},a,{id:u,disabled:s,onChange:c})):o.createElement(Ae,(0,r.Z)({},a,{id:u,disabled:s,onChange:c}))},Ie=Te;Te.propTypes={style:s().objectOf(s().oneOfType([s().string,s().number])),className:s().string,labelStyle:s().objectOf(s().oneOfType([s().string,s().number])),labelClassName:s().string,label:s().oneOfType([s().node,s().arrayOf(s().node)]),children:s().oneOfType([s().node,s().arrayOf(s().node)]),onChange:s().func,toggleButton:s().bool,checked:s().bool,defaultChecked:s().bool,disabled:s().bool,dangerouslySetLabel:s().shape({__html:s().string.isRequired}),stopPropagation:s().bool,id:s().oneOfType([s().number,s().string])},Te.defaultProps={style:null,className:null,label:null,labelClassName:null,labelStyle:null,children:null,onChange:null,toggleButton:!1,checked:void 0,defaultChecked:void 0,disabled:!1,dangerouslySetLabel:null,stopPropagation:!1,id:null},Te.displayName="Checkbox";const Oe=e=>{let{onClick:t,data:n,orm:r,isFocused:i,roundIcons:s,hideFriendsIcon:a,showCheckbox:l,tags:c,onRemoveTag:u,inputValue:h,hideVerifiedIcon:d}=e;const f=null==c?void 0:c.find((e=>{let{value:t}=e;return t[r.identifier]===n[r.identifier]})),p=(0,o.useCallback)((()=>{f?u(f):t({relation:n})}),[t,n,f,u]);let g=!(!r.relations||!Array.isArray(n[r.relations]))&&n[r.relations].length>0;void 0!==n.relationCount&&null!==n.relationCount&&(g=!0);const m=[];return"string"==typeof n[r.identifier]&&n[r.identifier].match("^[A-NP-Z0-9]{3}-[A-NP-Z0-9]{5}$")&&h&&m.push(`chaynsID: ${n[r.identifier]}`),g?m.push(`${n.relationCount} ${he(1===n.relationCount?"COMMON_SITE":"COMMON_SITES")}`):r.subtitle?m.push(`(${n[r.subtitle]})`):n.isFriend&&h&&m.push("befreundet"),o.createElement("div",{className:"result-item"+(i?" result-item--focused":""),tabIndex:"-1",onClick:p},l?o.createElement(Ie,{checked:!!f,onChange:p,stopPropagation:!0,className:"checkbox"}):null,r.imageUrl?o.createElement("div",{className:"img"+(s?" circle":""),style:{backgroundImage:`url(${n[r.imageUrl]})`}}):null,o.createElement("div",{className:"text",style:{justifyContent:"center"}},o.createElement("div",{className:"title"},o.createElement("div",{className:"name"},r.verified&&!0!==d?o.createElement(ye,{name:n[r.showName],verified:n[r.verified]}):n[r.showName]),g&&r.subtitle&&o.createElement("div",{className:"identifier"},`(${n[r.subtitle]})`)),o.createElement("span",{className:"relation"},m.join(" - "))),n.personId&&!a&&o.createElement(me,{personId:n.personId,userId:n.userId,name:n[r.showName]}))};Oe.propTypes={orm:s().shape({identifier:s().string,showName:s().string,imageUrl:s().string,relations:s().string,subtitle:s().string,verified:s().string}).isRequired,onClick:s().func.isRequired,data:s().object.isRequired,isFocused:s().bool.isRequired,roundIcons:s().bool,hideFriendsIcon:s().bool,tags:s().arrayOf(s().shape({value:s().shape({})})),showCheckbox:s().bool,onRemoveTag:s().func.isRequired,inputValue:s().string,hideVerifiedIcon:s().bool},Oe.defaultProps={roundIcons:!1,hideFriendsIcon:!1,tags:[],showCheckbox:!1,inputValue:"",hideVerifiedIcon:!1},Oe.displayName="PersonFinderResultItem";const Pe=Oe;var Me=n(3815);const Be=e=>{let{style:t}=e;return o.createElement("div",{className:"cc__person-finder__wait-cursor",style:{textAlign:"center",padding:"5px 5px 0px 5px",...t}},o.createElement(Me.Z,{showBackground:!1,show:!0,inline:!0}))};Be.propTypes={style:s().object},Be.defaultProps={style:null},Be.displayName="WaitCursor";const ke=Be,Re=e=>{let{data:t,hasMore:n,orm:r,group:i,showWaitCursor:s,onLoadMore:a,onClick:l,focusIndex:c,roundIcons:u,hideFriendsIcon:h,onRemoveTag:d,showCheckbox:f,tags:p,inputValue:g,hideVerifiedIcon:m}=e;return t&&0!==t.length?[t.map(((e,t)=>o.createElement(Pe,{key:e[r.identifier],data:e,orm:r,onClick:l,isFocused:null!==c&&c===t,roundIcons:u,hideFriendsIcon:h,tags:p,onRemoveTag:d,showCheckbox:f,inputValue:g,hideVerifiedIcon:m}))),n&&s&&o.createElement(ke,{style:{padding:"24px 0"},key:`${i}-wait`}),a&&n&&o.createElement(pe,{key:`${i}-more`,group:i,hide:s,onClick:a})]:null};Re.propTypes={data:s().arrayOf(s().object),orm:s().shape({identifier:s().string,showName:s().string,imageUrl:s().string}).isRequired,group:s().string,onLoadMore:s().func,showWaitCursor:s().bool,hasMore:s().bool,onClick:s().func,focusIndex:s().number,roundIcons:s().bool,hideFriendsIcon:s().bool,onRemoveTag:s().func.isRequired,tags:s().arrayOf(s().shape({value:s().shape({})})),showCheckbox:s().bool,inputValue:s().string,hideVerifiedIcon:s().bool},Re.defaultProps={data:[],showWaitCursor:!1,hasMore:!1,onClick:null,group:"default",onLoadMore:null,focusIndex:null,roundIcons:!1,hideFriendsIcon:!1,tags:[],showCheckbox:!1,inputValue:"",hideVerifiedIcon:!1},Re.displayName="ResultItemList";const Le=Re,Fe=e=>{let{data:t,tags:n,orm:r,value:i,hasMore:s,onLoadMore:a,showWaitCursor:l,onSelect:c,onRemoveTag:u,focusIndex:h,noBackground:d,filterSelected:f,hideFriendsIcon:p,showCheckbox:g,hideVerifiedIcon:m}=e;const v=(0,o.useCallback)((e=>{c&&c(e.type,e.relation)}),[c]),y=new Map;let b=0;return Array.isArray(r.groups)?o.createElement("div",{className:"cc__person-finder__results"+(d?" no-background":""),key:"resultList"},o.createElement("div",{className:"cc__person-finder__results-list"+(null!==h?" cc__person-finder__results-list--noTransition":"")},r.groups.map((e=>{let{key:c,show:w,roundIcons:_,filter:A}=e;if("function"==typeof w&&!w(i))return null;let E=[];r===J.ObjectMapping&&["knownPersons","personsRelated","personsUnrelated","uacPersons"].includes(c)?(t[c]||[]).forEach((e=>{y.has(e.id)||(y.set(e.id,!0),E.push(e))})):E=t[c]||[],E="function"==typeof(A||r.filter)?E.filter((A||r.filter)(i)):E,f&&(E=E.filter((e=>{let{type:t,id:r}=e;return n.every((e=>{let{value:n}=e;return t!==n.type||r!==n.id}))})));const C=E.length;b+=C;let x=null;return b-C<=h&&h<b&&null!==h&&(x=h-(b-C)),o.createElement("div",{className:"cc__person-finder__results"+(d?" no-background":""),key:`resultList_${c}`},o.createElement(Le,{key:c,data:E,orm:r,group:c,hasMore:s[c],onLoadMore:a,showWaitCursor:l[c],onClick:v,onRemoveTag:u,focusIndex:x,roundIcons:_,hideFriendsIcon:p,tags:n,showCheckbox:g,inputValue:i,hideVerifiedIcon:m}))})))):o.createElement("div",{className:"cc__person-finder__results"+(d?" no-background":"")},o.createElement(Le,{data:"function"==typeof r.filter?t.filter(r.filter(i)):t,orm:r,hasMore:s,onLoadMore:a,showWaitCursor:l,onClick:v,focusIndex:h,roundIcons:r.roundIcons,hideVerifiedIcon:m}))};Fe.propTypes={orm:s().shape({identifier:s().string,showName:s().string,imageUrl:s().string,groups:s().array,filter:s().func,roundIcons:s().bool}).isRequired,data:s().oneOfType([s().arrayOf(s().object),s().objectOf(s().arrayOf(s().object))]),tags:s().arrayOf(s().shape({value:s().shape({})})),value:s().string,onSelect:s().func,onLoadMore:s().func.isRequired,hasMore:s().oneOfType([s().objectOf(s().bool),s().bool]),showWaitCursor:s().oneOfType([s().objectOf(s().bool),s().bool]),focusIndex:s().number,noBackground:s().bool,filterSelected:s().bool,hideFriendsIcon:s().bool,showCheckbox:s().bool,onRemoveTag:s().func.isRequired,hideVerifiedIcon:s().bool},Fe.defaultProps={data:[],tags:[],value:"",onSelect:null,hasMore:!1,showWaitCursor:!1,focusIndex:null,noBackground:!1,filterSelected:!1,hideFriendsIcon:!1,showCheckbox:!1,hideVerifiedIcon:!1},Fe.displayName="PersonFinderResults";const De=Fe;class Ne extends o.Component{constructor(e){super(e),this.updateIndex=e=>{const{data:t,value:n,orm:r}=this.props;let i=e;if(null!==i){const e=function(e,t,n){return le(e,t,n).length}(t,r,n);i>=e&&(i=e-1),i<0&&(i=0),this.animationFrameId&&window.cancelAnimationFrame(this.animationFrameId),this.animationFrameId=window.requestAnimationFrame((()=>{this.resultList&&this.resultList.scrollTo(0,63*(i-1)),this.animationFrameId=null}))}this.setState({focusIndex:i})},this.handleOnBlur=()=>{const{autoSelectFirst:e}=this.props;this.updateIndex(e?0:null)},this.handleKeyDown=e=>{const{focusIndex:t}=this.state,{onSelect:n,data:r,orm:i,value:s,onKeyDown:o,autoSelectFirst:a}=this.props;if(o&&o(e),this.resultList)switch(e.keyCode){case 40:e.preventDefault(),null===t?this.updateIndex(0):this.updateIndex(t+1);break;case 38:e.preventDefault(),null===t?this.updateIndex(0):this.updateIndex(t-1);break;case 27:this.updateIndex(a?0:null),this.boxRef.blur();break;case 13:if(null!==t){const e=function(e,t,n,r){return le(e,n,r)[t]}(r,t,i,s);void 0!==e&&n(void 0,e),this.updateIndex(a?0:null),this.resultList&&this.resultList.scrollTo(0,0)}break;default:(32===e.keyCode||e.keyCode>=48&&e.keyCode<=106)&&this.boxRef.getHiddenState()&&this.boxRef.focus()}},this.handleLazyLoad=async()=>{if(!this.resultList)return;const{lazyLoading:e}=this.state,{value:t,autoLoading:n,onLoadMore:r,hasMore:i,data:s}=this.props,{scrollTop:o,offsetHeight:a,scrollHeight:l}=this.resultList;r&&n&&!e&&l-o-a<=100&&Object.keys(i).some((e=>0!==s[e].length&&!0===i[e]))&&(this.setState({lazyLoading:!0}),await r("default",t),this.setState({lazyLoading:!1}))},this.hasEntries=()=>{const{data:e,orm:t,value:n,tags:r,filterSelected:i,inputValue:s}=this.props,o=e=>{let{type:t,id:n}=e;return r.every((e=>{let{value:r}=e;return t!==r.type||n!==r.id}))};return Array.isArray(t.groups)?t.groups.some((t=>{let{key:r,show:a,filter:l}=t;if("function"==typeof a&&!a(n))return!1;if(!Array.isArray(e[r]))return!1;let c=e[r];return"function"==typeof l&&(c=c.filter(l(s))),i&&(c=c.filter(o)),c.length})):!!(Array.isArray(e)&&e.length||Object.values(e).some((e=>Array.isArray(e)&&e.length)))},this.state={lazyLoading:!1,focusIndex:e.autoSelectFirst?0:null}}renderChildren(){const{onSelect:e,onRemoveTag:t,selectedValue:n,data:r,tags:i,orm:s,value:a,hasMore:l,onLoadMore:c,showWaitCursor:u,noBackground:h,filterSelected:d,hideFriendsIcon:f,renderInline:p,inputValue:g,showCheckbox:m,hideVerifiedIcon:v,minCharCount:y}=this.props,{focusIndex:b}=this.state,w=this.hasEntries();if("number"==typeof y&&g.length<y)return null;const _=!n&&w,A=!0===u||Object.entries(u).some((e=>{var t,n;let[i,s]=e;return!!s&&(null!==(t=null===(n=r[i])||void 0===n?void 0:n.length)&&void 0!==t?t:0)<=0}));return _||A?[_&&o.createElement(De,{key:"results",onSelect:e,onRemoveTag:t,data:r,tags:i,orm:s,value:a,onLoadMore:async e=>{c&&await c(e,a)},showWaitCursor:u,hasMore:l,focusIndex:b,noBackground:h,filterSelected:d,hideFriendsIcon:f,showCheckbox:m,hideVerifiedIcon:v}),A&&o.createElement(ke,{key:"wait-cursor"})]:!n&&p?g?o.createElement("div",{className:"cc__person-finder__no-results"},`Fr Deine Suche "${g}" gab es keine Ergebnisse`):void 0:null}render(){var e=this;const{onSelect:t,selectedValue:n,value:i,inputComponent:s,boxClassName:a,parent:l,orm:c,boxRef:u,onChange:h,onKeyDown:d,autoSelectFirst:f,...p}=this.props;return o.createElement(ae,(0,r.Z)({onBlur:this.handleOnBlur,parent:l||((0,M.s)()?null:document.querySelector(".tapp")),key:"single",ref:e=>{u&&u(e),this.boxRef=e},inputComponent:s,onKeyDown:this.handleKeyDown,onAddTag:e=>void 0!==e.text?t(void 0,{[c.identifier]:e.text,[c.showName]:e.text}):null,value:i,boxClassName:(0,K.Z)("cc__person-finder__overlay",a),overlayProps:{ref:e=>{this.resultList=e},onScroll:this.handleLazyLoad},onChange:function(){h(...arguments),e.updateIndex(f?0:null)}},p),this.renderChildren())}}Ne.propTypes={orm:s().shape({identifier:s().string,showName:s().string,search:s().arrayOf(s().string),imageUrl:s().string,groups:s().arrayOf(s().shape({key:s().string.isRequired,show:s().func}))}).isRequired,data:s().oneOfType([s().arrayOf(s().object),s().objectOf(s().arrayOf(s().object))]),tags:s().arrayOf(s().shape({value:s().shape({})})),autoLoading:s().bool,hasMore:s().oneOfType([s().objectOf(s().bool),s().bool]),onSelect:s().func.isRequired,onLoadMore:s().func,value:s().oneOfType([s().func,s().string]),selectedValue:s().bool,inputComponent:s().oneOfType([s().func,s().node]).isRequired,boxClassName:s().string,parent:"undefined"!=typeof Element?s().instanceOf(Element):()=>{},boxRef:s().func,showWaitCursor:s().oneOfType([s().objectOf(s().bool),s().bool]),onChange:s().func,autoSelectFirst:s().bool,onKeyDown:s().func,noBackground:s().bool,filterSelected:s().bool,hideFriendsIcon:s().bool,inputValue:s().string,renderInline:s().bool,showCheckbox:s().bool,onRemoveTag:s().func.isRequired,hideVerifiedIcon:s().bool,minCharCount:s().number},Ne.defaultProps={value:"",data:[],tags:[],autoLoading:!1,hasMore:!1,onLoadMore:null,selectedValue:!1,boxClassName:null,parent:null,boxRef:null,showWaitCursor:!1,onChange:null,autoSelectFirst:!1,onKeyDown:null,noBackground:!1,filterSelected:!1,hideFriendsIcon:!1,inputValue:"",renderInline:!1,showCheckbox:!1,hideVerifiedIcon:!1,minCharCount:null},Ne.displayName="PersonFinderView";const je=Ne;class Ue extends o.Component{constructor(e){super(e),this.state={inputValue:e.defaultValue&&e.defaultValue[e.context.ObjectMapping.showName]||"",selectedValue:!!e.defaultValue,values:e.defaultValues.map((t=>{const n=e.context.ValueConverter?e.context.ValueConverter(t):t;return{text:n[e.context.ObjectMapping.showName],value:n}}))},this.clear=this.clear.bind(this),this.handleSelect=this.handleSelect.bind(this),this.handleOnChange=this.handleOnChange.bind(this),this.handleTagRemove=this.handleTagRemove.bind(this)}componentDidUpdate(e,t){const{inputValue:n}=this.state;!n&&t.inputValue&&this.input.focus()}handleOnChange(e){const{onInput:t,max:n}=this.props,r=n&&n<=this.getValues().length?"":e;if(this.setState({inputValue:r,selectedValue:!1}),t){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];t(r,...s)}}handleTagRemove(e,t){var n;this.boxRef&&this.boxRef.getHiddenState()&&(null==t||null===(n=t.stopPropagation)||void 0===n||n.call(t));const{context:{ObjectMapping:r},onRemove:i}=this.props,{values:s}=this.state,{value:o}=e||{};if(!o)return;const a=s.filter((e=>e.value[r.identifier]!==o[r.identifier]));this.setState({values:a}),this.onChange(a),i&&i(o)}handleSelect(e,t){const{onAdd:n,context:{ObjectMapping:r},values:i,hideVerifiedIcon:s}=this.props,{values:a}=this.state,{ValueConverter:l}=J;let c=a;i&&(c=i.map((e=>{let t=e;return t.value||(t={value:l?l(e):e}),t})));const u=t[r.showName];if(c.find((e=>e.value[r.identifier]===t[r.identifier])))return;let h={...t};const d=[...c,{text:r.verified&&!0!==s?o.createElement(ye,{name:u,verified:t[r.verified]}):u,value:h}];this.setState({inputValue:"",selectedValue:!1,values:d}),n&&(h&&"PERSON"===h.type&&(h=U(h)),n(h)),this.onChange(d),this.boxRef&&setImmediate(this.boxRef.focus)}onChange(e){const{onChange:t}=this.props,n=e.map((e=>e.value));t&&(n.length>0&&"PERSON"===n[0].type?t(n.map(U)):t(n))}getValues(){const{values:e,context:t}=this.props;if(e)return e.map((e=>{const n=t.ValueConverter?t.ValueConverter(e):e;let r=n[t.ObjectMapping.showName];return t.ObjectMapping.verified&&(r=o.createElement(ye,{name:r,verified:n[t.ObjectMapping.verified]})),{text:r,value:n}}));const{values:n}=this.state;return n}clear(){this.setState({inputValue:"",values:[],selectedValue:null}),this.onChange([])}render(){var e=this;const{showPersons:t,showSites:n,showUacGroups:i,showKnownPersons:s,className:a,defaultValue:l,showId:c,context:u,contextProps:h,max:d,value:f,disableFriends:p,...g}=this.props,{inputValue:m,selectedValue:v}=this.state;return o.createElement("div",{className:(0,K.Z)("cc__person-finder",a),style:g.renderInline?{minHeight:0,width:"100%"}:void 0},o.createElement(u.Provider,(0,r.Z)({},u.Provider===J.Provider?{uacId:g.uacId,includeOwn:g.includeOwn,enableSites:n,enablePersons:t,enableFriends:(t||!n&&!s&&!i)&&!p&&!g.uacId,enableUacGroups:i,enableKnownPersons:s,reducerFunction:g.reducerFunction,inputValue:m}:null,h),o.createElement(u.Consumer,null,(t=>o.createElement(je,(0,r.Z)({},g,t,{max:d,orm:u.ObjectMapping,inputComponent:te,inputRef:e=>{this.input=e},boxRef:e=>{this.boxRef=e},value:(0,ne.HD)(f)?f:m,tags:this.getValues(),inputValue:m,selectedValue:v||d&&this.getValues().length>=d,onChange:function(){e.handleOnChange(...arguments),"function"==typeof t.onChange&&t.onChange(...arguments)},onRemoveTag:this.handleTagRemove,onSelect:this.handleSelect}))))))}}Ue.propTypes={onChange:s().func,showPersons:s().bool,showSites:s().bool,showUacGroups:s().bool,showKnownPersons:s().bool,disableFriends:s().bool,className:s().string,defaultValue:s().oneOfType([s().shape({name:s().string,firstName:s().string,lastName:s().string,siteId:s().string,personId:s().string}),s().string]),defaultValues:s().arrayOf(s().shape({name:s().string,firstName:s().string,lastName:s().string,siteId:s().string,personId:s().string})),onAdd:s().func,onRemove:s().func,showId:s().bool,onInput:s().func,context:s().shape({Provider:s().func,Consumer:s().object,ObjectMapping:s().shape({showName:s().string,identifier:s().string,verified:s().string}),ValueConverter:s().func}).isRequired,contextProps:s().object,max:s().number,values:s().array,value:s().string,hideVerifiedIcon:s().bool,minCharCount:s().number},Ue.defaultProps={onChange:null,showPersons:!0,showSites:!1,showUacGroups:!1,showKnownPersons:!1,disableFriends:!1,defaultValue:null,className:null,onAdd:null,onRemove:null,showId:!1,defaultValues:[],onInput:null,contextProps:null,max:null,values:null,value:null,hideVerifiedIcon:!1,minCharCount:null},Ue.displayName="MultiplePersonFinder";const Ge=Ue;class ze extends o.Component{constructor(e){super(e),(0,ne.HD)(e.defaultValue)&&console.warn("[chayns components] PersonFinder: defaultValue is a String. Please consider using an object for defaultValue."),this.multipleFinder=o.createRef(),this.clear=this.clear.bind(this)}clear(){this.multipleFinder.current.clear()}render(){const{defaultValue:e,value:t,onChange:n,...i}=this.props;let s=[];return(0,ne.HD)(e)?s=[{fullName:e}]:e&&(s=[e]),(0,ne.HD)(t)?i.value=t:t&&(i.values=[t]),o.createElement(Ge,(0,r.Z)({ref:this.multipleFinder,defaultValues:s,onChange:e=>{n&&n(e.length>0?e[0]:null)}},i,{max:1}))}}ze.propTypes={onChange:s().func,showPersons:s().bool,showSites:s().bool,disableFriends:s().bool,showId:s().bool,className:s().string,defaultValue:s().oneOfType([s().shape({name:s().string,firstName:s().string,lastName:s().string,siteId:s().string,personId:s().string}),s().string]),customData:s().bool,onInput:s().func,context:s().shape({Provider:s().func,Consumer:s().object,ObjectMapping:s().shape({identifier:s().string,showName:s().string})}).isRequired,contextProps:s().object,removeIcon:s().bool,value:s().oneOfType([s().string,s().object])},ze.defaultProps={onChange:null,showPersons:!0,showSites:!1,disableFriends:!1,defaultValue:null,className:null,showId:!1,onInput:null,customData:!1,contextProps:null,removeIcon:!1,value:null},ze.displayName="SimplePersonFinder";const Ve=ze;class He extends o.Component{constructor(){super(...arguments),this.personFinder=o.createRef(),this.clear=()=>{this.personFinder.current&&this.personFinder.current.clear()}}render(){const{multiple:e,showPersons:t,showSites:n}=this.props,i=e?Ge:Ve;return o.createElement(i,(0,r.Z)({ref:this.personFinder},this.props,{autoLoading:!t||!n}))}}He.propTypes={placeholder:s().string,multiple:s().bool,showPersons:s().bool,showSites:s().bool,showUacGroups:s().bool,showKnownPersons:s().bool,uacId:s().number,reducerFunction:s().func,context:s().shape({Provider:s().func,Consumer:s().object}),onChange:s().func,disableFriends:s().bool,className:s().string,defaultValue:s().oneOfType([s().shape({name:s().string,firstName:s().string,lastName:s().string,siteId:s().string,personId:s().string}),s().string]),defaultValues:s().arrayOf(s().shape({name:s().string,firstName:s().string,lastName:s().string,siteId:s().string,personId:s().string})),onAdd:s().func,onRemove:s().func,onInput:s().func,contextProps:s().object,max:s().number,values:s().array,value:s().string,hasOpenCloseIcon:s().bool,filterSelected:s().bool,hideVerifiedIcon:s().bool,minCharCount:s().number},He.defaultProps={placeholder:"",multiple:!1,showPersons:!0,disableFriends:!1,className:null,showSites:!1,showUacGroups:!1,showKnownPersons:!1,uacId:null,reducerFunction:null,context:J,onChange:null,defaultValue:null,defaultValues:[],onAdd:null,onRemove:null,onInput:null,contextProps:null,max:null,values:null,value:null,hasOpenCloseIcon:!1,filterSelected:!1,hideVerifiedIcon:!1,minCharCount:null},He.displayName="PersonFinder";const Ze=He},3293:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(7294),i=n(5697),s=n.n(i);const o=(0,r.createContext)({value:null}),a=e=>{let{children:t,data:n,hasMore:i,onLoadMore:s,onInput:a}=e;const[l,c]=(0,r.useState)(!1),u=(0,r.useCallback)((async()=>{if(!l&&s){c(!0);try{await s()}finally{c(!1)}}}),[s,l]),h=(0,r.useCallback)((async e=>{c(!0);try{await a(e)}finally{c(!1)}}),[a]);return r.createElement(o.Provider,{value:{data:n,showWaitCursor:l,isLoading:l,hasMore:i,onLoadMore:u,onChange:h}},t)};a.propTypes={children:s().oneOfType([s().arrayOf(s().node),s().node]),data:s().array,hasMore:s().bool,onLoadMore:s().func,onInput:s().func},a.defaultProps={children:null,data:[],hasMore:!1,onLoadMore:null,onInput:null};const l=e=>({Consumer:o.Consumer,Provider:a,ObjectMapping:e})},3815:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(3553),i=n(5697),s=n.n(i),o=n(7294);class a extends o.PureComponent{render(){const{show:e,style:t,showBackground:n,inline:i,className:s}=this.props;return n?o.createElement("div",{className:(0,r.Z)("wait-cursor",s,!e&&"hidden"),style:t},o.createElement("div",{className:"wait-cursor__spinner"})):o.createElement("div",{className:(0,r.Z)("wait-cursor__spinner",s,i&&"wait-cursor__spinner--inline",!e&&"hidden")})}}a.propTypes={show:s().bool,style:s().objectOf(s().oneOfType([s().number,s().string])),showBackground:s().bool,inline:s().bool,className:s().string},a.defaultProps={show:!1,style:null,showBackground:!0,inline:!1,className:null},a.displayName="SmallWaitCursor"},1696:(e,t,n)=>{"use strict";function r(e){return"string"==typeof e}function i(e){return"function"==typeof e}function s(e){return null==e||"string"==typeof e&&""===e.trim()}n.d(t,{HD:()=>r,TF:()=>s,mf:()=>i})},1198:(e,t,n)=>{"use strict";function r(){return!("undefined"!=typeof window&&window.document&&window.document.createElement)}n.d(t,{s:()=>r})},3553:(e,t,n)=>{"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}n.d(t,{Z:()=>i});const i=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}},3250:(e,t,n)=>{"use strict";var r=n(7294),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=r.useState,o=r.useEffect,a=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=s({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return a((function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})}),[e,n,t]),o((function(){return c(i)&&u({inst:i}),e((function(){c(i)&&u({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},139:(e,t,n)=>{"use strict";var r=n(7294),i=n(1688),s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=i.useSyncExternalStore,a=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var h=a(null);if(null===h.current){var d={hasValue:!1,value:null};h.current=d}else d=h.current;h=c((function(){function e(e){if(!l){if(l=!0,o=e,e=r(e),void 0!==i&&d.hasValue){var t=d.value;if(i(t,e))return a=t}return a=e}if(t=a,s(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,a=n)}var o,a,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var f=o(e,h[0],h[1]);return l((function(){d.hasValue=!0,d.value=f}),[f]),u(f),f}},1688:(e,t,n)=>{"use strict";e.exports=n(3250)},2798:(e,t,n)=>{"use strict";e.exports=n(139)},1583:(e,t)=>{var n,r=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}function i(e){var t=Math.clz32(e&-e);return e?31-t:t}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var s={},o={};function a(e,t){var n,r,i;return t?(i=0<=(e>>>=0)&&e<256)&&(r=o[e])?r:(n=c(e,0,!0),i&&(o[e]=n),n):(i=-128<=(e|=0)&&e<128)&&(r=s[e])?r:(n=c(e,e<0?-1:0,!1),i&&(s[e]=n),n)}function l(e,t){if(isNaN(e))return t?y:v;if(t){if(e<0)return y;if(e>=p)return E}else{if(e<=-g)return C;if(e+1>=g)return A}return e<0?l(-e,t).neg():c(e%f|0,e/f|0,t)}function c(e,t,r){return new n(e,t,r)}n.fromInt=a,n.fromNumber=l,n.fromBits=c;var u=Math.pow;function h(e,t,n){if(0===e.length)throw Error("empty string");if("number"==typeof t?(n=t,t=!1):t=!!t,"NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return t?y:v;if((n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return h(e.substring(1),t,n).neg();for(var i=l(u(n,8)),s=v,o=0;o<e.length;o+=8){var a=Math.min(8,e.length-o),c=parseInt(e.substring(o,o+a),n);if(a<8){var d=l(u(n,a));s=s.mul(d).add(l(c))}else s=(s=s.mul(i)).add(l(c))}return s.unsigned=t,s}function d(e,t){return"number"==typeof e?l(e,t):"string"==typeof e?h(e,t):c(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}n.fromString=h,n.fromValue=d;var f=4294967296,p=f*f,g=p/2,m=a(1<<24),v=a(0);n.ZERO=v;var y=a(0,!0);n.UZERO=y;var b=a(1);n.ONE=b;var w=a(1,!0);n.UONE=w;var _=a(-1);n.NEG_ONE=_;var A=c(-1,2147483647,!1);n.MAX_VALUE=A;var E=c(-1,-1,!0);n.MAX_UNSIGNED_VALUE=E;var C=c(0,-2147483648,!1);n.MIN_VALUE=C;var x=n.prototype;x.toInt=function(){return this.unsigned?this.low>>>0:this.low},x.toNumber=function(){return this.unsigned?(this.high>>>0)*f+(this.low>>>0):this.high*f+(this.low>>>0)},x.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(C)){var t=l(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=l(u(e,6),this.unsigned),s=this,o="";;){var a=s.div(i),c=(s.sub(a.mul(i)).toInt()>>>0).toString(e);if((s=a).isZero())return c+o;for(;c.length<6;)c="0"+c;o=""+c+o}},x.getHighBits=function(){return this.high},x.getHighBitsUnsigned=function(){return this.high>>>0},x.getLowBits=function(){return this.low},x.getLowBitsUnsigned=function(){return this.low>>>0},x.getNumBitsAbs=function(){if(this.isNegative())return this.eq(C)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},x.isZero=function(){return 0===this.high&&0===this.low},x.eqz=x.isZero,x.isNegative=function(){return!this.unsigned&&this.high<0},x.isPositive=function(){return this.unsigned||this.high>=0},x.isOdd=function(){return 1==(1&this.low)},x.isEven=function(){return 0==(1&this.low)},x.equals=function(e){return r(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},x.eq=x.equals,x.notEquals=function(e){return!this.eq(e)},x.neq=x.notEquals,x.ne=x.notEquals,x.lessThan=function(e){return this.comp(e)<0},x.lt=x.lessThan,x.lessThanOrEqual=function(e){return this.comp(e)<=0},x.lte=x.lessThanOrEqual,x.le=x.lessThanOrEqual,x.greaterThan=function(e){return this.comp(e)>0},x.gt=x.greaterThan,x.greaterThanOrEqual=function(e){return this.comp(e)>=0},x.gte=x.greaterThanOrEqual,x.ge=x.greaterThanOrEqual,x.compare=function(e){if(r(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},x.comp=x.compare,x.negate=function(){return!this.unsigned&&this.eq(C)?C:this.not().add(b)},x.neg=x.negate,x.add=function(e){r(e)||(e=d(e));var t=this.high>>>16,n=65535&this.high,i=this.low>>>16,s=65535&this.low,o=e.high>>>16,a=65535&e.high,l=e.low>>>16,u=0,h=0,f=0,p=0;return f+=(p+=s+(65535&e.low))>>>16,h+=(f+=i+l)>>>16,u+=(h+=n+a)>>>16,u+=t+o,c((f&=65535)<<16|(p&=65535),(u&=65535)<<16|(h&=65535),this.unsigned)},x.subtract=function(e){return r(e)||(e=d(e)),this.add(e.neg())},x.sub=x.subtract,x.multiply=function(e){if(this.isZero())return this;if(r(e)||(e=d(e)),t)return c(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return this.unsigned?y:v;if(this.eq(C))return e.isOdd()?C:v;if(e.eq(C))return this.isOdd()?C:v;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return l(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,s=this.low>>>16,o=65535&this.low,a=e.high>>>16,u=65535&e.high,h=e.low>>>16,f=65535&e.low,p=0,g=0,b=0,w=0;return b+=(w+=o*f)>>>16,g+=(b+=s*f)>>>16,b&=65535,g+=(b+=o*h)>>>16,p+=(g+=i*f)>>>16,g&=65535,p+=(g+=s*h)>>>16,g&=65535,p+=(g+=o*u)>>>16,p+=n*f+i*h+s*u+o*a,c((b&=65535)<<16|(w&=65535),(p&=65535)<<16|(g&=65535),this.unsigned)},x.mul=x.multiply,x.divide=function(e){if(r(e)||(e=d(e)),e.isZero())throw Error("division by zero");var n,i,s;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?c((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:v;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return w;s=y}else{if(this.eq(C))return e.eq(b)||e.eq(_)?C:e.eq(C)?b:(n=this.shr(1).div(e).shl(1)).eq(v)?e.isNegative()?b:_:(i=this.sub(e.mul(n)),s=n.add(i.div(e)));if(e.eq(C))return this.unsigned?y:v;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();s=v}for(i=this;i.gte(e);){n=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(n)/Math.LN2),a=o<=48?1:u(2,o-48),h=l(n),f=h.mul(e);f.isNegative()||f.gt(i);)f=(h=l(n-=a,this.unsigned)).mul(e);h.isZero()&&(h=b),s=s.add(h),i=i.sub(f)}return s},x.div=x.divide,x.modulo=function(e){return r(e)||(e=d(e)),t?c((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},x.mod=x.modulo,x.rem=x.modulo,x.not=function(){return c(~this.low,~this.high,this.unsigned)},x.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},x.clz=x.countLeadingZeros,x.countTrailingZeros=function(){return this.low?i(this.low):i(this.high)+32},x.ctz=x.countTrailingZeros,x.and=function(e){return r(e)||(e=d(e)),c(this.low&e.low,this.high&e.high,this.unsigned)},x.or=function(e){return r(e)||(e=d(e)),c(this.low|e.low,this.high|e.high,this.unsigned)},x.xor=function(e){return r(e)||(e=d(e)),c(this.low^e.low,this.high^e.high,this.unsigned)},x.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):c(0,this.low<<e-32,this.unsigned)},x.shl=x.shiftLeft,x.shiftRight=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):c(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},x.shr=x.shiftRight,x.shiftRightUnsigned=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):c(32===e?this.high:this.high>>>e-32,0,this.unsigned)},x.shru=x.shiftRightUnsigned,x.shr_u=x.shiftRightUnsigned,x.rotateLeft=function(e){var t;return r(e)&&(e=e.toInt()),0==(e&=63)?this:32===e?c(this.high,this.low,this.unsigned):e<32?(t=32-e,c(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned)):(t=32-(e-=32),c(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned))},x.rotl=x.rotateLeft,x.rotateRight=function(e){var t;return r(e)&&(e=e.toInt()),0==(e&=63)?this:32===e?c(this.high,this.low,this.unsigned):e<32?(t=32-e,c(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned)):(t=32-(e-=32),c(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned))},x.rotr=x.rotateRight,x.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},x.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},x.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},x.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},x.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)};var S=n;return e.default=S,"default"in e?e.default:e}({});void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)},4572:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t,n){return i=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==r(i)?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e;var i}n.d(t,{Z:()=>i})},7462:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:()=>r})},4578:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(9611);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,r.Z)(e,t)}},9611:(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:()=>r})},5785:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,{Z:()=>i})},2146:(e,t,n)=>{"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:()=>o});var i=n(9611);function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(s=function(){return!!e})()}function o(e){var t="function"==typeof Map?new Map:void 0;return o=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(s())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var o=new(e.bind.apply(e,r));return n&&(0,i.Z)(o,n.prototype),o}(e,arguments,r(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,i.Z)(n,e)},o(e)}},3636:(e,t,n)=>{"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);o=!0);}catch(e){a=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw i}}return s}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{qv:()=>gn,vI:()=>pn});var d=function(){},f={},p={},g=null,m={mark:d,measure:d};try{"undefined"!=typeof window&&(f=window),"undefined"!=typeof document&&(p=document),"undefined"!=typeof MutationObserver&&(g=MutationObserver),"undefined"!=typeof performance&&(m=performance)}catch(e){}var v,y,b,w,_,A=(f.navigator||{}).userAgent,E=void 0===A?"":A,C=f,x=p,S=g,T=m,I=(C.document,!!x.documentElement&&!!x.head&&"function"==typeof x.addEventListener&&"function"==typeof x.createElement),O=~E.indexOf("MSIE")||~E.indexOf("Trident/"),P="___FONT_AWESOME___",M="fa",B="svg-inline--fa",k="data-fa-i2svg",R="data-fa-pseudo-element",L="data-fa-pseudo-element-pending",F="data-prefix",D="data-icon",N="fontawesome-i2svg",j="async",U=["HTML","HEAD","STYLE","SCRIPT"],G=function(){try{return!0}catch(e){return!1}}(),z="classic",V="sharp",H=[z,V];function Z(e){return new Proxy(e,{get:function(e,t){return t in e?e[t]:e[z]}})}var W=Z((a(v={},z,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit",fakd:"kit","fa-kit":"kit","fa-kit-duotone":"kit"}),a(v,V,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"}),v)),J=Z((a(y={},z,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),a(y,V,{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"}),y)),K=Z((a(b={},z,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),a(b,V,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"}),b)),X=Z((a(w={},z,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),a(w,V,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"}),w)),q=/fa(s|r|l|t|d|b|k|ss|sr|sl|st)?[\-\ ]/,Y="fa-layers-text",Q=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,$=Z((a(_={},z,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),a(_,V,{900:"fass",400:"fasr",300:"fasl",100:"fast"}),_)),ee=[1,2,3,4,5,6,7,8,9,10],te=ee.concat([11,12,13,14,15,16,17,18,19,20]),ne=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],re={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},ie=new Set;Object.keys(J[z]).map(ie.add.bind(ie)),Object.keys(J[V]).map(ie.add.bind(ie));var se=[].concat(H,c(ie),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",re.GROUP,re.SWAP_OPACITY,re.PRIMARY,re.SECONDARY]).concat(ee.map((function(e){return"".concat(e,"x")}))).concat(te.map((function(e){return"w-".concat(e)}))),oe=C.FontAwesomeConfig||{};x&&"function"==typeof x.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=l(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=x.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));null!=i&&(oe[r]=i)}));var ae={styleDefault:"solid",familyDefault:"classic",cssPrefix:M,replacementClass:B,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};oe.familyPrefix&&(oe.cssPrefix=oe.familyPrefix);var le=i(i({},ae),oe);le.autoReplaceSvg||(le.observeMutations=!1);var ce={};Object.keys(ae).forEach((function(e){Object.defineProperty(ce,e,{enumerable:!0,set:function(t){le[e]=t,ue.forEach((function(e){return e(ce)}))},get:function(){return le[e]}})})),Object.defineProperty(ce,"familyPrefix",{enumerable:!0,set:function(e){le.cssPrefix=e,ue.forEach((function(e){return e(ce)}))},get:function(){return le.cssPrefix}}),C.FontAwesomeConfig=ce;var ue=[],he=16,de={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},fe="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function pe(){for(var e=12,t="";e-- >0;)t+=fe[62*Math.random()|0];return t}function ge(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function me(e){return e.classList?ge(e.classList):(e.getAttribute("class")||"").split(" ").filter((function(e){return e}))}function ve(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ye(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")}),"")}function be(e){return e.size!==de.size||e.x!==de.x||e.y!==de.y||e.rotate!==de.rotate||e.flipX||e.flipY}var we=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function _e(){var e=M,t=B,n=ce.cssPrefix,r=ce.replacementClass,i=we;if(n!==e||r!==t){var s=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),a=new RegExp("\\.".concat(t),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var Ae=!1;function Ee(){ce.autoAddCss&&!Ae&&(function(e){if(e&&I){var t=x.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=x.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}x.head.insertBefore(t,r)}}(_e()),Ae=!0)}var Ce={mixout:function(){return{dom:{css:_e,insertCss:Ee}}},hooks:function(){return{beforeDOMElementCreation:function(){Ee()},beforeI2svg:function(){Ee()}}}},xe=C||{};xe[P]||(xe[P]={}),xe[P].styles||(xe[P].styles={}),xe[P].hooks||(xe[P].hooks={}),xe[P].shims||(xe[P].shims=[]);var Se=xe[P],Te=[],Ie=!1;function Oe(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,s=void 0===i?[]:i;return"string"==typeof e?ve(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(ve(e[n]),'" ')}),"").trim()}(r),">").concat(s.map(Oe).join(""),"</").concat(t,">")}function Pe(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}I&&((Ie=(x.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(x.readyState))||x.addEventListener("DOMContentLoaded",(function e(){x.removeEventListener("DOMContentLoaded",e),Ie=1,Te.map((function(e){return e()}))})));var Me=function(e,t,n,r){var i,s,o,a=Object.keys(e),l=a.length,c=void 0!==r?function(e,t){return function(n,r,i,s){return e.call(t,n,r,i,s)}}(t,r):t;for(void 0===n?(i=1,o=e[a[0]]):(i=0,o=n);i<l;i++)o=c(o,e[s=a[i]],s,e);return o};function Be(e){var t=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=e.charCodeAt(n++);56320==(64512&s)?t.push(((1023&i)<<10)+(1023&s)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);return 1===t.length?t[0].toString(16):null}function ke(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{})}function Re(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,r=void 0!==n&&n,s=ke(t);"function"!=typeof Se.hooks.addPack||r?Se.styles[e]=i(i({},Se.styles[e]||{}),s):Se.hooks.addPack(e,ke(t)),"fas"===e&&Re("fa",t)}var Le,Fe,De,Ne=Se.styles,je=Se.shims,Ue=(a(Le={},z,Object.values(K[z])),a(Le,V,Object.values(K[V])),Le),Ge=null,ze={},Ve={},He={},Ze={},We={},Je=(a(Fe={},z,Object.keys(W[z])),a(Fe,V,Object.keys(W[V])),Fe);var Ke,Xe=function(){var e=function(e){return Me(Ne,(function(t,n,r){return t[r]=Me(n,e,{}),t}),{})};ze=e((function(e,t,n){return t[3]&&(e[t[3]]=n),t[2]&&t[2].filter((function(e){return"number"==typeof e})).forEach((function(t){e[t.toString(16)]=n})),e})),Ve=e((function(e,t,n){return e[n]=n,t[2]&&t[2].filter((function(e){return"string"==typeof e})).forEach((function(t){e[t]=n})),e})),We=e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in Ne||ce.autoFetchSvg,n=Me(je,(function(e,n){var r=n[0],i=n[1],s=n[2];return"far"!==i||t||(i="fas"),"string"==typeof r&&(e.names[r]={prefix:i,iconName:s}),"number"==typeof r&&(e.unicodes[r.toString(16)]={prefix:i,iconName:s}),e}),{names:{},unicodes:{}});He=n.names,Ze=n.unicodes,Ge=tt(ce.styleDefault,{family:ce.familyDefault})};function qe(e,t){return(ze[e]||{})[t]}function Ye(e,t){return(We[e]||{})[t]}function Qe(e){return He[e]||{prefix:null,iconName:null}}function $e(){return Ge}Ke=function(e){Ge=tt(e.styleDefault,{family:ce.familyDefault})},ue.push(Ke),Xe();var et=function(){return{prefix:null,iconName:null,rest:[]}};function tt(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,n=void 0===t?z:t,r=W[n][e],i=J[n][e]||J[n][r],s=e in Se.styles?e:null;return i||s||null}var nt=(a(De={},z,Object.keys(K[z])),a(De,V,Object.keys(K[V])),De);function rt(e){var t,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,r=void 0!==n&&n,i=(a(t={},z,"".concat(ce.cssPrefix,"-").concat(z)),a(t,V,"".concat(ce.cssPrefix,"-").concat(V)),t),s=null,o=z;(e.includes(i[z])||e.some((function(e){return nt[z].includes(e)})))&&(o=z),(e.includes(i[V])||e.some((function(e){return nt[V].includes(e)})))&&(o=V);var l=e.reduce((function(e,t){var n=function(e,t){var n,r=t.split("-"),i=r[0],s=r.slice(1).join("-");return i!==e||""===s||(n=s,~se.indexOf(n))?null:s}(ce.cssPrefix,t);if(Ne[t]?(t=Ue[o].includes(t)?X[o][t]:t,s=t,e.prefix=t):Je[o].indexOf(t)>-1?(s=t,e.prefix=tt(t,{family:o})):n?e.iconName=n:t!==ce.replacementClass&&t!==i[z]&&t!==i[V]&&e.rest.push(t),!r&&e.prefix&&e.iconName){var a="fa"===s?Qe(e.iconName):{},l=Ye(e.prefix,e.iconName);a.prefix&&(s=null),e.iconName=a.iconName||l||e.iconName,e.prefix=a.prefix||e.prefix,"far"!==e.prefix||Ne.far||!Ne.fas||ce.autoFetchSvg||(e.prefix="fas")}return e}),et());return(e.includes("fa-brands")||e.includes("fab"))&&(l.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(l.prefix="fad"),l.prefix||o!==V||!Ne.fass&&!ce.autoFetchSvg||(l.prefix="fass",l.iconName=Ye(l.prefix,l.iconName)||l.iconName),"fa"!==l.prefix&&"fa"!==s||(l.prefix=$e()||"fas"),l}var it=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var s=n.reduce(this._pullDefinitions,{});Object.keys(s).forEach((function(t){e.definitions[t]=i(i({},e.definitions[t]||{}),s[t]),Re(t,s[t]);var n=K[z][t];n&&Re(n,s[t]),Xe()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,s=r.iconName,o=r.icon,a=o[2];e[i]||(e[i]={}),a.length>0&&a.forEach((function(t){"string"==typeof t&&(e[i][t]=o)})),e[i][s]=o})),e}}],n&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),st=[],ot={},at={},lt=Object.keys(at);function ct(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(ot[e]||[]).forEach((function(e){t=e.apply(null,[t].concat(r))})),t}function ut(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(ot[e]||[]).forEach((function(e){e.apply(null,n)}))}function ht(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return at[e]?at[e].apply(null,t):void 0}function dt(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||$e();if(t)return t=Ye(n,t)||t,Pe(ft.definitions,n,t)||Pe(Se.styles,n,t)}var ft=new it,pt={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return I?(ut("beforeI2svg",e),ht("pseudoElements2svg",e),ht("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.autoReplaceSvgRoot;!1===ce.autoReplaceSvg&&(ce.autoReplaceSvg=!0),ce.observeMutations=!0,e=function(){mt({autoReplaceSvgRoot:n}),ut("watch",t)},I&&(Ie?setTimeout(e,0):Te.push(e))}},gt={noAuto:function(){ce.autoReplaceSvg=!1,ce.observeMutations=!1,ut("noAuto")},config:ce,dom:pt,parse:{icon:function(e){if(null===e)return null;if("object"===s(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Ye(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=tt(e[0]);return{prefix:n,iconName:Ye(n,t)||t}}if("string"==typeof e&&(e.indexOf("".concat(ce.cssPrefix,"-"))>-1||e.match(q))){var r=rt(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||$e(),iconName:Ye(r.prefix,r.iconName)||r.iconName}}if("string"==typeof e){var i=$e();return{prefix:i,iconName:Ye(i,e)||e}}}},library:ft,findIconDefinition:dt,toHtml:Oe},mt=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,t=void 0===e?x:e;(Object.keys(Se.styles).length>0||ce.autoFetchSvg)&&I&&ce.autoReplaceSvg&&gt.dom.i2svg({node:t})};function vt(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return Oe(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(I){var t=x.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function yt(e){var t=e.icons,n=t.main,r=t.mask,s=e.prefix,o=e.iconName,a=e.transform,l=e.symbol,c=e.title,u=e.maskId,h=e.titleId,d=e.extra,f=e.watchable,p=void 0!==f&&f,g=r.found?r:n,m=g.width,v=g.height,y="fak"===s,b=[ce.replacementClass,o?"".concat(ce.cssPrefix,"-").concat(o):""].filter((function(e){return-1===d.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(d.classes).join(" "),w={children:[],attributes:i(i({},d.attributes),{},{"data-prefix":s,"data-icon":o,class:b,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(v)})},_=y&&!~d.classes.indexOf("fa-fw")?{width:"".concat(m/v*16*.0625,"em")}:{};p&&(w.attributes[k]=""),c&&(w.children.push({tag:"title",attributes:{id:w.attributes["aria-labelledby"]||"title-".concat(h||pe())},children:[c]}),delete w.attributes.title);var A=i(i({},w),{},{prefix:s,iconName:o,main:n,mask:r,maskId:u,transform:a,symbol:l,styles:i(i({},_),d.styles)}),E=r.found&&n.found?ht("generateAbstractMask",A)||{children:[],attributes:{}}:ht("generateAbstractIcon",A)||{children:[],attributes:{}},C=E.children,x=E.attributes;return A.children=C,A.attributes=x,l?function(e){var t=e.prefix,n=e.iconName,r=e.children,s=e.attributes,o=e.symbol,a=!0===o?"".concat(t,"-").concat(ce.cssPrefix,"-").concat(n):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:i(i({},s),{},{id:a}),children:r}]}]}(A):function(e){var t=e.children,n=e.main,r=e.mask,s=e.attributes,o=e.styles,a=e.transform;if(be(a)&&n.found&&!r.found){var l={x:n.width/n.height/2,y:.5};s.style=ye(i(i({},o),{},{"transform-origin":"".concat(l.x+a.x/16,"em ").concat(l.y+a.y/16,"em")}))}return[{tag:"svg",attributes:s,children:t}]}(A)}function bt(e){var t=e.content,n=e.width,r=e.height,s=e.transform,o=e.title,a=e.extra,l=e.watchable,c=void 0!==l&&l,u=i(i(i({},a.attributes),o?{title:o}:{}),{},{class:a.classes.join(" ")});c&&(u[k]="");var h=i({},a.styles);be(s)&&(h.transform=function(e){var t=e.transform,n=e.width,r=void 0===n?16:n,i=e.height,s=void 0===i?16:i,o=e.startCentered,a=void 0!==o&&o,l="";return l+=a&&O?"translate(".concat(t.x/he-r/2,"em, ").concat(t.y/he-s/2,"em) "):a?"translate(calc(-50% + ".concat(t.x/he,"em), calc(-50% + ").concat(t.y/he,"em)) "):"translate(".concat(t.x/he,"em, ").concat(t.y/he,"em) "),(l+="scale(".concat(t.size/he*(t.flipX?-1:1),", ").concat(t.size/he*(t.flipY?-1:1),") "))+"rotate(".concat(t.rotate,"deg) ")}({transform:s,startCentered:!0,width:n,height:r}),h["-webkit-transform"]=h.transform);var d=ye(h);d.length>0&&(u.style=d);var f=[];return f.push({tag:"span",attributes:u,children:[t]}),o&&f.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),f}var wt=Se.styles;function _t(e){var t=e[0],n=e[1],r=l(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(ce.cssPrefix,"-").concat(re.GROUP)},children:[{tag:"path",attributes:{class:"".concat(ce.cssPrefix,"-").concat(re.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(ce.cssPrefix,"-").concat(re.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}var At={found:!1,width:512,height:512};function Et(e,t){var n=t;return"fa"===t&&null!==ce.styleDefault&&(t=$e()),new Promise((function(r,s){if(ht("missingIconAbstract"),"fa"===n){var o=Qe(e)||{};e=o.iconName||e,t=o.prefix||t}if(e&&t&&wt[t]&&wt[t][e])return r(_t(wt[t][e]));!function(e,t){G||ce.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(i(i({},At),{},{icon:ce.showMissingIcons&&e&&ht("missingIconAbstract")||{}}))}))}var Ct=function(){},xt=ce.measurePerformance&&T&&T.mark&&T.measure?T:{mark:Ct,measure:Ct},St='FA "6.5.1"',Tt=function(e){xt.mark("".concat(St," ").concat(e," ends")),xt.measure("".concat(St," ").concat(e),"".concat(St," ").concat(e," begins"),"".concat(St," ").concat(e," ends"))},It={begin:function(e){return xt.mark("".concat(St," ").concat(e," begins")),function(){return Tt(e)}},end:Tt},Ot=function(){};function Pt(e){return"string"==typeof(e.getAttribute?e.getAttribute(k):null)}function Mt(e){return x.createElementNS("http://www.w3.org/2000/svg",e)}function Bt(e){return x.createElement(e)}function kt(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,n=void 0===t?"svg"===e.tag?Mt:Bt:t;if("string"==typeof e)return x.createTextNode(e);var r=n(e.tag);return Object.keys(e.attributes||[]).forEach((function(t){r.setAttribute(t,e.attributes[t])})),(e.children||[]).forEach((function(e){r.appendChild(kt(e,{ceFn:n}))})),r}var Rt={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach((function(e){t.parentNode.insertBefore(kt(e),t)})),null===t.getAttribute(k)&&ce.keepOriginalSource){var n=x.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~me(t).indexOf(ce.replacementClass))return Rt.replace(e);var r=new RegExp("".concat(ce.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce((function(e,t){return t===ce.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e}),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}var s=n.map((function(e){return Oe(e)})).join("\n");t.setAttribute(k,""),t.innerHTML=s}};function Lt(e){e()}function Ft(e,t){var n="function"==typeof t?t:Ot;if(0===e.length)n();else{var r=Lt;ce.mutateApproach===j&&(r=C.requestAnimationFrame||Lt),r((function(){var t=!0===ce.autoReplaceSvg?Rt.replace:Rt[ce.autoReplaceSvg]||Rt.replace,r=It.begin("mutate");e.map(t),r(),n()}))}}var Dt=!1;function Nt(){Dt=!0}function jt(){Dt=!1}var Ut=null;function Gt(e){if(S&&ce.observeMutations){var t=e.treeCallback,n=void 0===t?Ot:t,r=e.nodeCallback,i=void 0===r?Ot:r,s=e.pseudoElementsCallback,o=void 0===s?Ot:s,a=e.observeMutationsRoot,l=void 0===a?x:a;Ut=new S((function(e){if(!Dt){var t=$e();ge(e).forEach((function(e){if("childList"===e.type&&e.addedNodes.length>0&&!Pt(e.addedNodes[0])&&(ce.searchPseudoElements&&o(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&ce.searchPseudoElements&&o(e.target.parentNode),"attributes"===e.type&&Pt(e.target)&&~ne.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(F):null,n=e.getAttribute?e.getAttribute(D):null;return t&&n}(e.target)){var r=rt(me(e.target)),s=r.prefix,a=r.iconName;e.target.setAttribute(F,s||t),a&&e.target.setAttribute(D,a)}else(l=e.target)&&l.classList&&l.classList.contains&&l.classList.contains(ce.replacementClass)&&i(e.target);var l}))}})),I&&Ut.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function zt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=function(e){var t,n,r=e.getAttribute("data-prefix"),i=e.getAttribute("data-icon"),s=void 0!==e.innerText?e.innerText.trim():"",o=rt(me(e));return o.prefix||(o.prefix=$e()),r&&i&&(o.prefix=r,o.iconName=i),o.iconName&&o.prefix||(o.prefix&&s.length>0&&(o.iconName=(t=o.prefix,n=e.innerText,(Ve[t]||{})[n]||qe(o.prefix,Be(e.innerText)))),!o.iconName&&ce.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(o.iconName=e.firstChild.data)),o}(e),r=n.iconName,s=n.prefix,o=n.rest,a=function(e){var t=ge(e.attributes).reduce((function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e}),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return ce.autoA11y&&(n?t["aria-labelledby"]="".concat(ce.replacementClass,"-title-").concat(r||pe()):(t["aria-hidden"]="true",t.focusable="false")),t}(e),l=ct("parseNodeAttributes",{},e),c=t.styleParser?function(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce((function(e,t){var n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e}),{})),n}(e):[];return i({iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:s,transform:de,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:c,attributes:a}},l)}var Vt=Se.styles;function Ht(e){var t="nest"===ce.autoReplaceSvg?zt(e,{styleParser:!1}):zt(e);return~t.extra.classes.indexOf(Y)?ht("generateLayersText",e,t):ht("generateSvgReplacementMutation",e,t)}var Zt=new Set;function Wt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!I)return Promise.resolve();var n=x.documentElement.classList,r=function(e){return n.add("".concat(N,"-").concat(e))},i=function(e){return n.remove("".concat(N,"-").concat(e))},s=ce.autoFetchSvg?Zt:H.map((function(e){return"fa-".concat(e)})).concat(Object.keys(Vt));s.includes("fa")||s.push("fa");var o=[".".concat(Y,":not([").concat(k,"])")].concat(s.map((function(e){return".".concat(e,":not([").concat(k,"])")}))).join(", ");if(0===o.length)return Promise.resolve();var a=[];try{a=ge(e.querySelectorAll(o))}catch(e){}if(!(a.length>0))return Promise.resolve();r("pending"),i("complete");var l=It.begin("onTree"),c=a.reduce((function(e,t){try{var n=Ht(t);n&&e.push(n)}catch(e){G||"MissingIcon"===e.name&&console.error(e)}return e}),[]);return new Promise((function(e,n){Promise.all(c).then((function(n){Ft(n,(function(){r("active"),r("complete"),i("pending"),"function"==typeof t&&t(),l(),e()}))})).catch((function(e){l(),n(e)}))}))}function Jt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Ht(e).then((function(e){e&&Ft([e],t)}))}H.map((function(e){Zt.add("fa-".concat(e))})),Object.keys(W[z]).map(Zt.add.bind(Zt)),Object.keys(W[V]).map(Zt.add.bind(Zt)),Zt=c(Zt);var Kt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?de:n,s=t.symbol,o=void 0!==s&&s,a=t.mask,l=void 0===a?null:a,c=t.maskId,u=void 0===c?null:c,h=t.title,d=void 0===h?null:h,f=t.titleId,p=void 0===f?null:f,g=t.classes,m=void 0===g?[]:g,v=t.attributes,y=void 0===v?{}:v,b=t.styles,w=void 0===b?{}:b;if(e){var _=e.prefix,A=e.iconName,E=e.icon;return vt(i({type:"icon"},e),(function(){return ut("beforeDOMElementCreation",{iconDefinition:e,params:t}),ce.autoA11y&&(d?y["aria-labelledby"]="".concat(ce.replacementClass,"-title-").concat(p||pe()):(y["aria-hidden"]="true",y.focusable="false")),yt({icons:{main:_t(E),mask:l?_t(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:_,iconName:A,transform:i(i({},de),r),symbol:o,title:d,maskId:u,titleId:p,extra:{attributes:y,styles:w,classes:m}})}))}},Xt={mixout:function(){return{icon:(e=Kt,function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:dt(t||{}),s=n.mask;return s&&(s=(s||{}).icon?s:dt(s||{})),e(r,i(i({},n),{},{mask:s}))})};var e},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=Wt,e.nodeCallback=Jt,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?x:t,r=e.callback;return Wt(n,void 0===r?function(){}:r)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,r=t.title,i=t.titleId,s=t.prefix,o=t.transform,a=t.symbol,c=t.mask,u=t.maskId,h=t.extra;return new Promise((function(t,d){Promise.all([Et(n,s),c.iconName?Et(c.iconName,c.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(c){var d=l(c,2),f=d[0],p=d[1];t([e,yt({icons:{main:f,mask:p},prefix:s,iconName:n,transform:o,symbol:a,maskId:u,title:r,titleId:i,extra:h,watchable:!0})])})).catch(d)}))},e.generateAbstractIcon=function(e){var t,n=e.children,r=e.attributes,i=e.main,s=e.transform,o=ye(e.styles);return o.length>0&&(r.style=o),be(s)&&(t=ht("generateAbstractTransformGrouping",{main:i,transform:s,containerWidth:i.width,iconWidth:i.width})),n.push(t||i.icon),{children:n,attributes:r}}}},qt={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,r=void 0===n?[]:n;return vt({type:"layer"},(function(){ut("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e((function(e){Array.isArray(e)?e.map((function(e){n=n.concat(e.abstract)})):n=n.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(ce.cssPrefix,"-layers")].concat(c(r)).join(" ")},children:n}]}))}}}},Yt={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=void 0===n?null:n,s=t.classes,o=void 0===s?[]:s,a=t.attributes,l=void 0===a?{}:a,u=t.styles,h=void 0===u?{}:u;return vt({type:"counter",content:e},(function(){return ut("beforeDOMElementCreation",{content:e,params:t}),function(e){var t=e.content,n=e.title,r=e.extra,s=i(i(i({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),o=ye(r.styles);o.length>0&&(s.style=o);var a=[];return a.push({tag:"span",attributes:s,children:[t]}),n&&a.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),a}({content:e.toString(),title:r,extra:{attributes:l,styles:h,classes:["".concat(ce.cssPrefix,"-layers-counter")].concat(c(o))}})}))}}}},Qt={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?de:n,s=t.title,o=void 0===s?null:s,a=t.classes,l=void 0===a?[]:a,u=t.attributes,h=void 0===u?{}:u,d=t.styles,f=void 0===d?{}:d;return vt({type:"text",content:e},(function(){return ut("beforeDOMElementCreation",{content:e,params:t}),bt({content:e,transform:i(i({},de),r),title:o,extra:{attributes:h,styles:f,classes:["".concat(ce.cssPrefix,"-layers-text")].concat(c(l))}})}))}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.title,r=t.transform,i=t.extra,s=null,o=null;if(O){var a=parseInt(getComputedStyle(e).fontSize,10),l=e.getBoundingClientRect();s=l.width/a,o=l.height/a}return ce.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,bt({content:e.innerHTML,width:s,height:o,transform:r,title:n,extra:i,watchable:!0})])}}},$t=new RegExp('"',"ug"),en=[1105920,1112319];function tn(e,t){var n="".concat(L).concat(t.replace(":","-"));return new Promise((function(r,s){if(null!==e.getAttribute(n))return r();var o,a,l,c=ge(e.children).filter((function(e){return e.getAttribute(R)===t}))[0],u=C.getComputedStyle(e,t),h=u.getPropertyValue("font-family").match(Q),d=u.getPropertyValue("font-weight"),f=u.getPropertyValue("content");if(c&&!h)return e.removeChild(c),r();if(h&&"none"!==f&&""!==f){var p=u.getPropertyValue("content"),g=~["Sharp"].indexOf(h[2])?V:z,m=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(h[2])?J[g][h[2].toLowerCase()]:$[g][d],v=function(e){var t,n,r,i,s=e.replace($t,""),o=(0,r=(t=s).length,(i=t.charCodeAt(0))>=55296&&i<=56319&&r>1&&(n=t.charCodeAt(1))>=56320&&n<=57343?1024*(i-55296)+n-56320+65536:i),a=o>=en[0]&&o<=en[1],l=2===s.length&&s[0]===s[1];return{value:Be(l?s[0]:s),isSecondary:a||l}}(p),y=v.value,b=v.isSecondary,w=h[0].startsWith("FontAwesome"),_=qe(m,y),A=_;if(w){var E=(a=Ze[o=y],l=qe("fas",o),a||(l?{prefix:"fas",iconName:l}:null)||{prefix:null,iconName:null});E.iconName&&E.prefix&&(_=E.iconName,m=E.prefix)}if(!_||b||c&&c.getAttribute(F)===m&&c.getAttribute(D)===A)r();else{e.setAttribute(n,A),c&&e.removeChild(c);var S={iconName:null,title:null,titleId:null,prefix:null,transform:de,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},T=S.extra;T.attributes[R]=t,Et(_,m).then((function(s){var o=yt(i(i({},S),{},{icons:{main:s,mask:et()},prefix:m,iconName:A,extra:T,watchable:!0})),a=x.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===t?e.insertBefore(a,e.firstChild):e.appendChild(a),a.outerHTML=o.map((function(e){return Oe(e)})).join("\n"),e.removeAttribute(n),r()})).catch(s)}}else r()}))}function nn(e){return Promise.all([tn(e,"::before"),tn(e,"::after")])}function rn(e){return!(e.parentNode===document.head||~U.indexOf(e.tagName.toUpperCase())||e.getAttribute(R)||e.parentNode&&"svg"===e.parentNode.tagName)}function sn(e){if(I)return new Promise((function(t,n){var r=ge(e.querySelectorAll("*")).filter(rn).map(nn),i=It.begin("searchPseudoElements");Nt(),Promise.all(r).then((function(){i(),jt(),t()})).catch((function(){i(),jt(),n()}))}))}var on=!1,an=function(e){return e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},ln={mixout:function(){return{parse:{transform:function(e){return an(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=an(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,r=e.containerWidth,s=e.iconWidth,o={transform:"translate(".concat(r/2," 256)")},a="translate(".concat(32*n.x,", ").concat(32*n.y,") "),l="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),c="rotate(".concat(n.rotate," 0 0)"),u={outer:o,inner:{transform:"".concat(a," ").concat(l," ").concat(c)},path:{transform:"translate(".concat(s/2*-1," -256)")}};return{tag:"g",attributes:i({},u.outer),children:[{tag:"g",attributes:i({},u.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:i(i({},t.icon.attributes),u.path)}]}]}}}},cn={x:0,y:0,width:"100%",height:"100%"};function un(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var hn,dn={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),r=n?rt(n.split(" ").map((function(e){return e.trim()}))):et();return r.prefix||(r.prefix=$e()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,n=e.children,r=e.attributes,s=e.main,o=e.mask,a=e.maskId,l=e.transform,c=s.width,u=s.icon,h=o.width,d=o.icon,f=function(e){var t=e.transform,n=e.iconWidth,r={transform:"translate(".concat(e.containerWidth/2," 256)")},i="translate(".concat(32*t.x,", ").concat(32*t.y,") "),s="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),o="rotate(".concat(t.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(i," ").concat(s," ").concat(o)},path:{transform:"translate(".concat(n/2*-1," -256)")}}}({transform:l,containerWidth:h,iconWidth:c}),p={tag:"rect",attributes:i(i({},cn),{},{fill:"white"})},g=u.children?{children:u.children.map(un)}:{},m={tag:"g",attributes:i({},f.inner),children:[un(i({tag:u.tag,attributes:i(i({},u.attributes),f.path)},g))]},v={tag:"g",attributes:i({},f.outer),children:[m]},y="mask-".concat(a||pe()),b="clip-".concat(a||pe()),w={tag:"mask",attributes:i(i({},cn),{},{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,v]},_={tag:"defs",children:[{tag:"clipPath",attributes:{id:b},children:(t=d,"g"===t.tag?t.children:[t])},w]};return n.push(_,{tag:"rect",attributes:i({fill:"currentColor","clip-path":"url(#".concat(b,")"),mask:"url(#".concat(y,")")},cn)}),{children:n,attributes:r}}}},fn={provides:function(e){var t=!1;C.matchMedia&&(t=C.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:i(i({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var s=i(i({},r),{},{attributeName:"opacity"}),o={tag:"circle",attributes:i(i({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||o.children.push({tag:"animate",attributes:i(i({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:i(i({},s),{},{values:"1;0;1;1;0;1;"})}),e.push(o),e.push({tag:"path",attributes:i(i({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:i(i({},s),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:i(i({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:i(i({},s),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};hn={mixoutsTo:gt}.mixoutsTo,st=[Ce,Xt,qt,Yt,Qt,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=sn,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?x:t;ce.searchPseudoElements&&sn(n)}}},{mixout:function(){return{dom:{unwatch:function(){Nt(),on=!0}}}},hooks:function(){return{bootstrap:function(){Gt(ct("mutationObserverCallbacks",{}))},noAuto:function(){Ut&&Ut.disconnect()},watch:function(e){var t=e.observeMutationsRoot;on?jt():Gt(ct("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},ln,dn,fn,{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}}}}],ot={},Object.keys(at).forEach((function(e){-1===lt.indexOf(e)&&delete at[e]})),st.forEach((function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((function(e){"function"==typeof t[e]&&(hn[e]=t[e]),"object"===s(t[e])&&Object.keys(t[e]).forEach((function(n){hn[e]||(hn[e]={}),hn[e][n]=t[e][n]}))})),e.hooks){var n=e.hooks();Object.keys(n).forEach((function(e){ot[e]||(ot[e]=[]),ot[e].push(n[e])}))}e.provides&&e.provides(at)}));var pn=gt.library,gn=gt.icon},9417:(e,t,n)=>{"use strict";n.d(t,{BDt:()=>v,DH$:()=>g,GrN:()=>u,LM3:()=>A,LjD:()=>d,RoX:()=>b,TEX:()=>r,TH0:()=>p,Tr1:()=>o,UL8:()=>h,W3K:()=>s,_3G:()=>_,coe:()=>c,eEm:()=>E,ej9:()=>l,fV7:()=>a,ik8:()=>C,l27:()=>f,oTz:()=>m,opg:()=>y,x6G:()=>w,ytF:()=>i});var r={prefix:"fas",iconName:"door-open",icon:[576,512,[],"f52b","M320 32c0-9.9-4.5-19.2-12.3-25.2S289.8-1.4 280.2 1l-179.9 45C79 51.3 64 70.5 64 92.5V448H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H96 288h32V480 32zM256 256c0 17.7-10.7 32-24 32s-24-14.3-24-32s10.7-32 24-32s24 14.3 24 32zm96-128h96V480c0 17.7 14.3 32 32 32h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H512V128c0-35.3-28.7-64-64-64H352v64z"]},i={prefix:"fas",iconName:"flag-checkered",icon:[448,512,[127937],"f11e","M32 0C49.7 0 64 14.3 64 32V48l69-17.2c38.1-9.5 78.3-5.1 113.5 12.5c46.3 23.2 100.8 23.2 147.1 0l9.6-4.8C423.8 28.1 448 43.1 448 66.1V345.8c0 13.3-8.3 25.3-20.8 30l-34.7 13c-46.2 17.3-97.6 14.6-141.7-7.4c-37.9-19-81.3-23.7-122.5-13.4L64 384v96c0 17.7-14.3 32-32 32s-32-14.3-32-32V400 334 64 32C0 14.3 14.3 0 32 0zM64 187.1l64-13.9v65.5L64 252.6V318l48.8-12.2c5.1-1.3 10.1-2.4 15.2-3.3V238.7l38.9-8.4c8.3-1.8 16.7-2.5 25.1-2.1l0-64c13.6 .4 27.2 2.6 40.4 6.4l23.6 6.9v66.7l-41.7-12.3c-7.3-2.1-14.8-3.4-22.3-3.8v71.4c21.8 1.9 43.3 6.7 64 14.4V244.2l22.7 6.7c13.5 4 27.3 6.4 41.3 7.4V194c-7.8-.8-15.6-2.3-23.2-4.5l-40.8-12v-62c-13-3.8-25.8-8.8-38.2-15c-8.2-4.1-16.9-7-25.8-8.8v72.4c-13-.4-26 .8-38.7 3.6L128 173.2V98L64 114v73.1zM320 335.7c16.8 1.5 33.9-.7 50-6.8l14-5.2V251.9l-7.9 1.8c-18.4 4.3-37.3 5.7-56.1 4.5v77.4zm64-149.4V115.4c-20.9 6.1-42.4 9.1-64 9.1V194c13.9 1.4 28 .5 41.7-2.6l22.3-5.2z"]},s={prefix:"fas",iconName:"circle-dot",icon:[512,512,[128280,"dot-circle"],"f192","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-352a96 96 0 1 1 0 192 96 96 0 1 1 0-192z"]},o={prefix:"fas",iconName:"charging-station",icon:[576,512,[],"f5e7","M96 0C60.7 0 32 28.7 32 64V448c-17.7 0-32 14.3-32 32s14.3 32 32 32H320c17.7 0 32-14.3 32-32s-14.3-32-32-32V304h16c22.1 0 40 17.9 40 40v32c0 39.8 32.2 72 72 72s72-32.2 72-72V252.3c32.5-10.2 56-40.5 56-76.3V144c0-8.8-7.2-16-16-16H544V80c0-8.8-7.2-16-16-16s-16 7.2-16 16v48H480V80c0-8.8-7.2-16-16-16s-16 7.2-16 16v48H432c-8.8 0-16 7.2-16 16v32c0 35.8 23.5 66.1 56 76.3V376c0 13.3-10.7 24-24 24s-24-10.7-24-24V344c0-48.6-39.4-88-88-88H320V64c0-35.3-28.7-64-64-64H96zM216.9 82.7c6 4 8.5 11.5 6.3 18.3l-25 74.9H256c6.7 0 12.7 4.2 15 10.4s.5 13.3-4.6 17.7l-112 96c-5.5 4.7-13.4 5.1-19.3 1.1s-8.5-11.5-6.3-18.3l25-74.9H96c-6.7 0-12.7-4.2-15-10.4s-.5-13.3 4.6-17.7l112-96c5.5-4.7 13.4-5.1 19.3-1.1z"]},a={prefix:"fas",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},l={prefix:"fas",iconName:"circle-stop",icon:[512,512,[62094,"stop-circle"],"f28d","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM192 160H320c17.7 0 32 14.3 32 32V320c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V192c0-17.7 14.3-32 32-32z"]},c={prefix:"fas",iconName:"boxes-packing",icon:[640,512,[],"e4c7","M256 48c0-26.5 21.5-48 48-48H592c26.5 0 48 21.5 48 48V464c0 26.5-21.5 48-48 48H381.3c1.8-5 2.7-10.4 2.7-16V253.3c18.6-6.6 32-24.4 32-45.3V176c0-26.5-21.5-48-48-48H256V48zM571.3 347.3c6.2-6.2 6.2-16.4 0-22.6l-64-64c-6.2-6.2-16.4-6.2-22.6 0l-64 64c-6.2 6.2-6.2 16.4 0 22.6s16.4 6.2 22.6 0L480 310.6V432c0 8.8 7.2 16 16 16s16-7.2 16-16V310.6l36.7 36.7c6.2 6.2 16.4 6.2 22.6 0zM0 176c0-8.8 7.2-16 16-16H368c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H16c-8.8 0-16-7.2-16-16V176zm352 80V480c0 17.7-14.3 32-32 32H64c-17.7 0-32-14.3-32-32V256H352zM144 320c-8.8 0-16 7.2-16 16s7.2 16 16 16h96c8.8 0 16-7.2 16-16s-7.2-16-16-16H144z"]},u={prefix:"fas",iconName:"location-pin",icon:[384,512,["map-marker"],"f041","M384 192c0 87.4-117 243-168.3 307.2c-12.3 15.3-35.1 15.3-47.4 0C117 435 0 279.4 0 192C0 86 86 0 192 0S384 86 384 192z"]},h={prefix:"fas",iconName:"circle-pause",icon:[512,512,[62092,"pause-circle"],"f28b","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM224 192V320c0 17.7-14.3 32-32 32s-32-14.3-32-32V192c0-17.7 14.3-32 32-32s32 14.3 32 32zm128 0V320c0 17.7-14.3 32-32 32s-32-14.3-32-32V192c0-17.7 14.3-32 32-32s32 14.3 32 32z"]},d={prefix:"fas",iconName:"elevator",icon:[512,512,[],"e16d","M132.7 4.7l-64 64c-4.6 4.6-5.9 11.5-3.5 17.4s8.3 9.9 14.8 9.9H208c6.5 0 12.3-3.9 14.8-9.9s1.1-12.9-3.5-17.4l-64-64c-6.2-6.2-16.4-6.2-22.6 0zM64 128c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V192c0-35.3-28.7-64-64-64H64zm96 96a48 48 0 1 1 0 96 48 48 0 1 1 0-96zM80 400c0-26.5 21.5-48 48-48h64c26.5 0 48 21.5 48 48v16c0 17.7-14.3 32-32 32H112c-17.7 0-32-14.3-32-32V400zm192 0c0-26.5 21.5-48 48-48h64c26.5 0 48 21.5 48 48v16c0 17.7-14.3 32-32 32H304c-17.7 0-32-14.3-32-32V400zm32-128a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM356.7 91.3c6.2 6.2 16.4 6.2 22.6 0l64-64c4.6-4.6 5.9-11.5 3.5-17.4S438.5 0 432 0H304c-6.5 0-12.3 3.9-14.8 9.9s-1.1 12.9 3.5 17.4l64 64z"]},f={prefix:"fas",iconName:"square-parking",icon:[448,512,[127359,"parking"],"f540","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zM192 256h48c17.7 0 32-14.3 32-32s-14.3-32-32-32H192v64zm48 64H192v32c0 17.7-14.3 32-32 32s-32-14.3-32-32V288 168c0-22.1 17.9-40 40-40h72c53 0 96 43 96 96s-43 96-96 96z"]},p={prefix:"fas",iconName:"door-closed",icon:[576,512,[128682],"f52a","M96 64c0-35.3 28.7-64 64-64H416c35.3 0 64 28.7 64 64V448h64c17.7 0 32 14.3 32 32s-14.3 32-32 32H432 144 32c-17.7 0-32-14.3-32-32s14.3-32 32-32H96V64zM384 288a32 32 0 1 0 0-64 32 32 0 1 0 0 64z"]},g={prefix:"fas",iconName:"hourglass",icon:[384,512,[9203,62032,"hourglass-empty"],"f254","M0 32C0 14.3 14.3 0 32 0H64 320h32c17.7 0 32 14.3 32 32s-14.3 32-32 32V75c0 42.4-16.9 83.1-46.9 113.1L237.3 256l67.9 67.9c30 30 46.9 70.7 46.9 113.1v11c17.7 0 32 14.3 32 32s-14.3 32-32 32H320 64 32c-17.7 0-32-14.3-32-32s14.3-32 32-32V437c0-42.4 16.9-83.1 46.9-113.1L146.7 256 78.9 188.1C48.9 158.1 32 117.4 32 75V64C14.3 64 0 49.7 0 32zM96 64V75c0 25.5 10.1 49.9 28.1 67.9L192 210.7l67.9-67.9c18-18 28.1-42.4 28.1-67.9V64H96zm0 384H288V437c0-25.5-10.1-49.9-28.1-67.9L192 301.3l-67.9 67.9c-18 18-28.1 42.4-28.1 67.9v11z"]},m={prefix:"fas",iconName:"power-off",icon:[512,512,[9211],"f011","M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32V256c0 17.7 14.3 32 32 32s32-14.3 32-32V32zM143.5 120.6c13.6-11.3 15.4-31.5 4.1-45.1s-31.5-15.4-45.1-4.1C49.7 115.4 16 181.8 16 256c0 132.5 107.5 240 240 240s240-107.5 240-240c0-74.2-33.8-140.6-86.6-184.6c-13.6-11.3-33.8-9.4-45.1 4.1s-9.4 33.8 4.1 45.1c38.9 32.3 63.5 81 63.5 135.4c0 97.2-78.8 176-176 176s-176-78.8-176-176c0-54.4 24.7-103.1 63.5-135.4z"]},v={prefix:"fas",iconName:"bolt",icon:[448,512,[9889,"zap"],"f0e7","M349.4 44.6c5.9-13.7 1.5-29.7-10.6-38.5s-28.6-8-39.9 1.8l-256 224c-10 8.8-13.6 22.9-8.9 35.3S50.7 288 64 288H175.5L98.6 467.4c-5.9 13.7-1.5 29.7 10.6 38.5s28.6 8 39.9-1.8l256-224c10-8.8 13.6-22.9 8.9-35.3s-16.6-20.7-30-20.7H272.5L349.4 44.6z"]},y={prefix:"fas",iconName:"location-dot",icon:[384,512,["map-marker-alt"],"f3c5","M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"]},b={prefix:"fas",iconName:"battery-full",icon:[576,512,[128267,"battery","battery-5"],"f240","M464 160c8.8 0 16 7.2 16 16V336c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16H464zM80 96C35.8 96 0 131.8 0 176V336c0 44.2 35.8 80 80 80H464c44.2 0 80-35.8 80-80V320c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32V176c0-44.2-35.8-80-80-80H80zm368 96H96V320H448V192z"]},w={prefix:"fas",iconName:"truck-fast",icon:[640,512,["shipping-fast"],"f48b","M112 0C85.5 0 64 21.5 64 48V96H16c-8.8 0-16 7.2-16 16s7.2 16 16 16H64 272c8.8 0 16 7.2 16 16s-7.2 16-16 16H64 48c-8.8 0-16 7.2-16 16s7.2 16 16 16H64 240c8.8 0 16 7.2 16 16s-7.2 16-16 16H64 16c-8.8 0-16 7.2-16 16s7.2 16 16 16H64 208c8.8 0 16 7.2 16 16s-7.2 16-16 16H64V416c0 53 43 96 96 96s96-43 96-96H384c0 53 43 96 96 96s96-43 96-96h32c17.7 0 32-14.3 32-32s-14.3-32-32-32V288 256 237.3c0-17-6.7-33.3-18.7-45.3L512 114.7c-12-12-28.3-18.7-45.3-18.7H416V48c0-26.5-21.5-48-48-48H112zM544 237.3V256H416V160h50.7L544 237.3zM160 368a48 48 0 1 1 0 96 48 48 0 1 1 0-96zm272 48a48 48 0 1 1 96 0 48 48 0 1 1 -96 0z"]},_={prefix:"fas",iconName:"traffic-light",icon:[320,512,[128678],"f637","M64 0C28.7 0 0 28.7 0 64V352c0 88.4 71.6 160 160 160s160-71.6 160-160V64c0-35.3-28.7-64-64-64H64zm96 416a48 48 0 1 1 0-96 48 48 0 1 1 0 96zm48-176a48 48 0 1 1 -96 0 48 48 0 1 1 96 0zm-48-80a48 48 0 1 1 0-96 48 48 0 1 1 0 96z"]},A={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M304 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1 48 48 0 1 0 142.9 437zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437A48 48 0 1 0 437 369.1 48 48 0 1 0 369.1 437z"]},E={prefix:"fas",iconName:"up-down",icon:[256,512,[8597,11021,"arrows-alt-v"],"f338","M145.6 7.7C141 2.8 134.7 0 128 0s-13 2.8-17.6 7.7l-104 112c-6.5 7-8.2 17.2-4.4 25.9S14.5 160 24 160H80V352H24c-9.5 0-18.2 5.7-22 14.4s-2.1 18.9 4.4 25.9l104 112c4.5 4.9 10.9 7.7 17.6 7.7s13-2.8 17.6-7.7l104-112c6.5-7 8.2-17.2 4.4-25.9s-12.5-14.4-22-14.4H176V160h56c9.5 0 18.2-5.7 22-14.4s2.1-18.9-4.4-25.9l-104-112z"]},C={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]}},326:(e,t,n)=>{"use strict";function r(){return!("object"==typeof process&&"[object process]"===String(process)&&!process.browser)||function(e){if("undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof process&&"object"==typeof process.versions&&Boolean(process.versions.electron))return!0;const t="object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent;return!!(t&&t.indexOf("Electron")>=0)}()}n.d(t,{Z:()=>y});const i="undefined"!=typeof __VERSION__?__VERSION__:"untranspiled source";r();class s{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sessionStorage";this.storage=void 0,this.id=void 0,this.config=void 0,this.storage=function(e){try{const t=window[e],n="__storage_test__";return t.setItem(n,n),t.removeItem(n),t}catch(e){return null}}(n),this.id=e,this.config=t,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(e){if(Object.assign(this.config,e),this.storage){const e=JSON.stringify(this.config);this.storage.setItem(this.id,e)}}_loadConfiguration(){let e={};if(this.storage){const t=this.storage.getItem(this.id);e=t?JSON.parse(t):{}}return Object.assign(this.config,e),this}}function o(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:600;const i=e.src.replace(/\(/g,"%28").replace(/\)/g,"%29");e.width>r&&(n=Math.min(n,r/e.width));const s=e.width*n,o=e.height*n,a=["font-size:1px;","padding:".concat(Math.floor(o/2),"px ").concat(Math.floor(s/2),"px;"),"line-height:".concat(o,"px;"),"background:url(".concat(i,");"),"background-size:".concat(s,"px ").concat(o,"px;"),"color:transparent;"].join("");return["".concat(t," %c+"),a]}let a;!function(e){e[e.BLACK=30]="BLACK",e[e.RED=31]="RED",e[e.GREEN=32]="GREEN",e[e.YELLOW=33]="YELLOW",e[e.BLUE=34]="BLUE",e[e.MAGENTA=35]="MAGENTA",e[e.CYAN=36]="CYAN",e[e.WHITE=37]="WHITE",e[e.BRIGHT_BLACK=90]="BRIGHT_BLACK",e[e.BRIGHT_RED=91]="BRIGHT_RED",e[e.BRIGHT_GREEN=92]="BRIGHT_GREEN",e[e.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",e[e.BRIGHT_BLUE=94]="BRIGHT_BLUE",e[e.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",e[e.BRIGHT_CYAN=96]="BRIGHT_CYAN",e[e.BRIGHT_WHITE=97]="BRIGHT_WHITE"}(a||(a={}));function l(e){return"string"!=typeof e?e:(e=e.toUpperCase(),a[e]||a.WHITE)}function c(e,t){if(!e)throw new Error(t||"Assertion failed")}globalThis.self||globalThis.window||globalThis.global;const u=globalThis.window||globalThis.self||globalThis.global,h=(globalThis.document,globalThis.process||{});function d(){let e;var t,n;if(r()&&u.performance)e=null==u||null===(t=u.performance)||void 0===t||null===(n=t.now)||void 0===n?void 0:n.call(t);else if("hrtime"in h){var i;const t=null==h||null===(i=h.hrtime)||void 0===i?void 0:i.call(h);e=1e3*t[0]+t[1]/1e6}else e=Date.now();return e}globalThis.console,globalThis.navigator;const f={debug:r()&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},p={enabled:!0,level:0};function g(){}const m={},v={once:!0};class y{constructor(){let{id:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:""};this.id=void 0,this.VERSION=i,this._startTs=d(),this._deltaTs=d(),this._storage=void 0,this.userData={},this.LOG_THROTTLE_TIMEOUT=0,this.id=e,this.userData={},this._storage=new s("__probe-".concat(this.id,"__"),p),this.timeStamp("".concat(this.id," started")),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["constructor"];const n=Object.getPrototypeOf(e),r=Object.getOwnPropertyNames(n),i=e;for(const n of r){const r=i[n];"function"==typeof r&&(t.find((e=>n===e))||(i[n]=r.bind(e)))}}(this),Object.seal(this)}set level(e){this.setLevel(e)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((d()-this._startTs).toPrecision(10))}getDelta(){return Number((d()-this._deltaTs).toPrecision(10))}set priority(e){this.level=e}get priority(){return this.level}getPriority(){return this.level}enable(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._storage.setConfiguration({enabled:e}),this}setLevel(e){return this._storage.setConfiguration({level:e}),this}get(e){return this._storage.config[e]}set(e,t){this._storage.setConfiguration({[e]:t})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(e,t){c(e,t)}warn(e){return this._getLogFunction(0,e,f.warn,arguments,v)}error(e){return this._getLogFunction(0,e,f.error,arguments)}deprecated(e,t){return this.warn("`".concat(e,"` is deprecated and will be removed in a later version. Use `").concat(t,"` instead"))}removed(e,t){return this.error("`".concat(e,"` has been removed. Use `").concat(t,"` instead"))}probe(e,t){return this._getLogFunction(e,t,f.log,arguments,{time:!0,once:!0})}log(e,t){return this._getLogFunction(e,t,f.debug,arguments)}info(e,t){return this._getLogFunction(e,t,console.info,arguments)}once(e,t){return this._getLogFunction(e,t,f.debug||f.info,arguments,v)}table(e,t,n){return t?this._getLogFunction(e,t,console.table||g,n&&[n],{tag:_(t)}):g}image(e){let{logLevel:t,priority:n,image:i,message:s="",scale:a=1}=e;return this._shouldLog(t||n)?r()?function(e){let{image:t,message:n="",scale:r=1}=e;if("string"==typeof t){const e=new Image;return e.onload=()=>{const t=o(e,n,r);console.log(...t)},e.src=t,g}const i=t.nodeName||"";if("img"===i.toLowerCase())return console.log(...o(t,n,r)),g;if("canvas"===i.toLowerCase()){const e=new Image;return e.onload=()=>console.log(...o(e,n,r)),e.src=t.toDataURL(),g}return g}({image:i,message:s,scale:a}):function(e){let{image:t,message:n="",scale:r=1}=e;return console.warn("removed"),g}({image:i,message:s,scale:a}):g}time(e,t){return this._getLogFunction(e,t,console.time?console.time:console.info)}timeEnd(e,t){return this._getLogFunction(e,t,console.timeEnd?console.timeEnd:console.info)}timeStamp(e,t){return this._getLogFunction(e,t,console.timeStamp||g)}group(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{collapsed:!1};const r=w({logLevel:e,message:t,opts:n}),{collapsed:i}=n;return r.method=(i?console.groupCollapsed:console.group)||console.info,this._getLogFunction(r)}groupCollapsed(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.group(e,t,Object.assign({},n,{collapsed:!0}))}groupEnd(e){return this._getLogFunction(e,"",console.groupEnd||g)}withGroup(e,t,n){this.group(e,t)();try{n()}finally{this.groupEnd(e)()}}trace(){console.trace&&console.trace()}_shouldLog(e){return this.isEnabled()&&this.getLevel()>=b(e)}_getLogFunction(e,t,n,i,s){if(this._shouldLog(e)){s=w({logLevel:e,message:t,args:i,opts:s}),c(n=n||s.method),s.total=this.getTotal(),s.delta=this.getDelta(),this._deltaTs=d();const o=s.tag||s.message;if(s.once&&o){if(m[o])return g;m[o]=d()}return t=function(e,t,n){if("string"==typeof t){const i=n.time?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;const n=Math.max(t-e.length,0);return"".concat(" ".repeat(n)).concat(e)}(function(e){let t;return t=e<10?"".concat(e.toFixed(2),"ms"):e<100?"".concat(e.toFixed(1),"ms"):e<1e3?"".concat(e.toFixed(0),"ms"):"".concat((e/1e3).toFixed(2),"s"),t}(n.total)):"";t=function(e,t,n){if(!r&&"string"==typeof e){if(t){const n=l(t);e="[".concat(n,"m").concat(e,"[39m")}if(n){const t=l(n);e="[".concat(t+10,"m").concat(e,"[49m")}}return e}(t=n.time?"".concat(e,": ").concat(i,"  ").concat(t):"".concat(e,": ").concat(t),n.color,n.background)}return t}(this.id,s.message,s),n.bind(console,t,...s.args)}return g}}function b(e){if(!e)return 0;let t;switch(typeof e){case"number":t=e;break;case"object":t=e.logLevel||e.priority||0;break;default:return 0}return c(Number.isFinite(t)&&t>=0),t}function w(e){const{logLevel:t,message:n}=e;e.logLevel=b(t);const r=e.args?Array.from(e.args):[];for(;r.length&&r.shift()!==n;);switch(typeof t){case"string":case"function":void 0!==n&&r.unshift(n),e.message=t;break;case"object":Object.assign(e,t)}"function"==typeof e.message&&(e.message=e.message());const i=typeof e.message;return c("string"===i||"object"===i),Object.assign(e,{args:r},e.opts)}function _(e){for(const t in e)for(const n in e[t])return n||"untitled";return"empty"}y.VERSION=i},512:(e,t,n)=>{"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}n.d(t,{Z:()=>i});const i=function(){for(var e,t,n=0,i="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}}}]);